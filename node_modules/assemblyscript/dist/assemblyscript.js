/**
 * @license
 * The AssemblyScript compiler
 * Copyright 2025 Daniel Wirtz / The AssemblyScript Authors
 * SPDX-License-Identifier: Apache-2.0
 */
var Ul=Object.defineProperty;var Bc=Object.getOwnPropertyDescriptor;var ox=Object.getOwnPropertyNames;var ux=Object.prototype.hasOwnProperty;var Dl=(t,i)=>{for(var e in i)Ul(t,e,{get:i[e],enumerable:!0})},Pc=(t,i,e,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of ox(i))!ux.call(t,n)&&n!==e&&Ul(t,n,{get:()=>i[n],enumerable:!(r=Bc(i,n))||r.enumerable});return t},Vl=(t,i,e)=>(Pc(t,i,"default"),e&&Pc(e,i,"default"));var Lc=(t,i,e,r)=>{for(var n=r>1?void 0:r?Bc(i,e):i,s=t.length-1,a;s>=0;s--)(a=t[s])&&(n=(r?a(i,e,n):a(n))||n);return r&&n&&Ul(i,e,n),n};var wc={};Dl(wc,{ASTBuilder:()=>kc,ArrayLiteralExpression:()=>mr,ArrowKind:()=>_i,AssertionExpression:()=>ia,AssertionKind:()=>pi,AtomicRMWOp:()=>gp,BinaryExpression:()=>na,BinaryModule:()=>cl,BinaryOp:()=>di,BlockStatement:()=>Pa,BrOnOp:()=>Ny,BreakStatement:()=>Ba,CallExpression:()=>sa,Class:()=>Kt,ClassDeclaration:()=>dn,ClassExpression:()=>aa,ClassPrototype:()=>Kn,CommaExpression:()=>la,CommentKind:()=>pp,CommentNode:()=>ra,CommonFlags:()=>Ve,CommonNames:()=>P,CompiledExpression:()=>wa,Compiler:()=>hs,ConditionKind:()=>Np,ConstantValueKind:()=>Up,Constraints:()=>vc,ConstructorExpression:()=>oa,ContinueStatement:()=>La,DEFAULT_STACK_SIZE:()=>KI,DeclarationStatement:()=>We,DeclaredElement:()=>Qt,DecoratorFlags:()=>Ht,DecoratorKind:()=>Tt,DecoratorNode:()=>ta,DiagnosticCategory:()=>Js,DiagnosticCode:()=>st,DiagnosticEmitter:()=>Oe,DiagnosticMessage:()=>$s,DoStatement:()=>Na,Element:()=>Vn,ElementAccessExpression:()=>ua,ElementKind:()=>ut,EmptyStatement:()=>Ma,Enum:()=>Rl,EnumDeclaration:()=>Ga,EnumValue:()=>kl,EnumValueDeclaration:()=>za,ExportDefaultStatement:()=>Oa,ExportImportStatement:()=>Ua,ExportMember:()=>Da,ExportNames:()=>_s,ExportStatement:()=>Va,Expression:()=>de,ExpressionId:()=>br,ExpressionRunnerFlags:()=>_l,ExpressionStatement:()=>qa,ExternalKind:()=>yp,FEATURES_ALL:()=>uS,FEATURES_DEFAULT:()=>pS,FEATURE_BULK_MEMORY:()=>YI,FEATURE_EXCEPTION_HANDLING:()=>eS,FEATURE_EXTENDED_CONST:()=>lS,FEATURE_GC:()=>nS,FEATURE_MEMORY64:()=>sS,FEATURE_MULTI_VALUE:()=>iS,FEATURE_MUTABLE_GLOBALS:()=>XI,FEATURE_NONTRAPPING_F2I:()=>ZI,FEATURE_REFERENCE_TYPES:()=>rS,FEATURE_RELAXED_SIMD:()=>aS,FEATURE_SIGN_EXTENSION:()=>jI,FEATURE_SIMD:()=>$I,FEATURE_STRINGREF:()=>oS,FEATURE_TAIL_CALLS:()=>tS,FEATURE_THREADS:()=>JI,FalseExpression:()=>Fa,Feature:()=>Ut,FeatureFlags:()=>mp,FieldDeclaration:()=>Wa,FieldFlags:()=>Lp,File:()=>qn,FloatLiteralExpression:()=>pa,Flow:()=>vt,FlowFlags:()=>xl,ForOfStatement:()=>Qa,ForStatement:()=>Ka,Function:()=>ct,FunctionDeclaration:()=>mn,FunctionExpression:()=>ca,FunctionPrototype:()=>He,FunctionTypeNode:()=>dr,GETTER_PREFIX:()=>Ds,Global:()=>Tr,HeapTypeRef:()=>ue,INDEX_SUFFIX:()=>Ne,INNER_DELIMITER:()=>Xu,INSTANCE_DELIMITER:()=>ju,IdentifierExpression:()=>qe,IdentifierHandling:()=>_p,IfStatement:()=>Ha,ImportDeclaration:()=>ja,ImportNames:()=>Pi,ImportStatement:()=>yn,IndexSignature:()=>Mn,IndexSignatureNode:()=>Ca,InstanceOfExpression:()=>_a,IntegerLiteralExpression:()=>fa,Interface:()=>Gn,InterfaceDeclaration:()=>Xa,InterfacePrototype:()=>wl,JSBuilder:()=>Fi,LIBRARY_PREFIX:()=>nt,LIBRARY_SUBST:()=>Os,LiteralExpression:()=>at,LiteralKind:()=>Vt,Local:()=>Ue,LocalFlags:()=>Bn,MemorySegment:()=>hi,MethodDeclaration:()=>yr,Module:()=>qt,ModuleDeclaration:()=>rl,NamedTypeNode:()=>hr,Namespace:()=>Wn,NamespaceDeclaration:()=>Za,NewExpression:()=>ha,Node:()=>N,NodeKind:()=>xt,NullExpression:()=>da,ObjectLiteralExpression:()=>ma,OmittedExpression:()=>ya,OperatorKind:()=>Fe,Options:()=>fs,PARENT_SUBST:()=>yx,PATH_DELIMITER:()=>Ye,PackedType:()=>Tn,Parameter:()=>zp,ParameterKind:()=>gr,ParameterNode:()=>oi,ParenthesizedExpression:()=>ga,Parser:()=>Un,Precedence:()=>Ky,Program:()=>Dn,Property:()=>Nn,PropertyAccessExpression:()=>ba,PropertyPrototype:()=>xi,Range:()=>ae,RefAsOp:()=>Ly,RegexpLiteralExpression:()=>xa,Relooper:()=>pl,ReportMode:()=>vl,Resolver:()=>Ln,ReturnStatement:()=>Ya,Runtime:()=>zs,RuntimeFeatures:()=>Ic,SETTER_PREFIX:()=>Vs,SIMDExtractOp:()=>bp,SIMDLoadOp:()=>Ap,SIMDLoadStoreLaneOp:()=>Ep,SIMDReplaceOp:()=>xp,SIMDShiftOp:()=>Tp,SIMDTernaryOp:()=>vp,STATIC_DELIMITER:()=>ln,STUB_DELIMITER:()=>Zu,SideEffects:()=>Bp,Signature:()=>De,Source:()=>fe,SourceKind:()=>ci,State:()=>ol,Statement:()=>oe,StringAsOp:()=>Dy,StringEncodeOp:()=>zy,StringEqOp:()=>Uy,StringIterMoveOp:()=>Vy,StringLiteralExpression:()=>Aa,StringMeasureOp:()=>Gy,StringNewOp:()=>My,StringSliceWTFOp:()=>Oy,SuperExpression:()=>Ea,SwitchBuilder:()=>An,SwitchCase:()=>$a,SwitchStatement:()=>Ja,TSDBuilder:()=>Bi,Target:()=>$r,TemplateLiteralExpression:()=>va,TernaryExpression:()=>Ta,ThisExpression:()=>Ia,ThrowStatement:()=>el,Token:()=>fi,Tokenizer:()=>bn,TrueExpression:()=>Sa,TryStatement:()=>tl,Type:()=>u,TypeBuilderErrorReason:()=>dp,TypeDeclaration:()=>il,TypeDefinition:()=>Xe,TypeFlags:()=>pt,TypeKind:()=>Wt,TypeName:()=>li,TypeNode:()=>fn,TypeParameterNode:()=>ea,TypeRef:()=>L,TypedElement:()=>St,Typeinfo:()=>Jr,TypeinfoFlags:()=>Us,UnaryExpression:()=>hn,UnaryOp:()=>En,UnaryPostfixExpression:()=>Ra,UnaryPrefixExpression:()=>ka,UncheckedBehavior:()=>Tl,VariableDeclaration:()=>nl,VariableLikeDeclarationStatement:()=>ui,VariableLikeElement:()=>Ar,VariableStatement:()=>sl,VoidStatement:()=>al,WhileStatement:()=>ll,addGlobalAlias:()=>UI,allocPtrArray:()=>_e,buildJS:()=>zS,buildTSD:()=>GS,compile:()=>MS,createType:()=>Ke,defaultFeatures:()=>Ml,diagnosticCategoryToColor:()=>wy,diagnosticCategoryToString:()=>up,diagnosticCodeToString:()=>qs,ensureType:()=>Pn,expandType:()=>Ip,featureToString:()=>Yr,findDecorator:()=>At,formatDiagnostic:()=>Cy,formatDiagnosticMessage:()=>Cy,getBinaryLeft:()=>Qe,getBinaryOp:()=>mi,getBinaryRight:()=>Be,getBinaryenModuleRef:()=>US,getBlockChildAt:()=>kn,getBlockChildCount:()=>Rn,getBlockName:()=>Fn,getBreakCondition:()=>$x,getBreakName:()=>Yx,getCallOperandAt:()=>ze,getCallOperandCount:()=>ot,getCallTarget:()=>Cn,getConstValueF32:()=>ge,getConstValueF64:()=>be,getConstValueI32:()=>ee,getConstValueI64High:()=>Pe,getConstValueI64Low:()=>Ae,getConstValueV128:()=>Sp,getDefaultParameterName:()=>Xy,getDependee:()=>LS,getDiagnosticCategory:()=>TS,getDiagnosticCode:()=>xS,getDiagnosticMessage:()=>AS,getDiagnosticRange:()=>ES,getDiagnosticRelatedRange:()=>vS,getDropValue:()=>e2,getExpressionId:()=>$,getExpressionType:()=>ne,getFunctionBody:()=>i2,getFunctionName:()=>Cp,getFunctionParams:()=>n2,getFunctionResults:()=>s2,getFunctionVars:()=>a2,getGlobalGetName:()=>In,getGlobalInit:()=>u2,getGlobalName:()=>l2,getGlobalType:()=>o2,getIfCondition:()=>yl,getIfFalse:()=>yi,getIfTrue:()=>wn,getLoadBytes:()=>Fp,getLoadOffset:()=>qx,getLoadPtr:()=>Wx,getLocalGetIndex:()=>lt,getLocalSetIndex:()=>dl,getLocalSetValue:()=>xr,getLoopBody:()=>Zx,getLoopName:()=>Xx,getMemoryGrowDelta:()=>r2,getRangeEnd:()=>SS,getRangeSource:()=>FS,getRangeStart:()=>IS,getReturnValue:()=>t2,getSelectCondition:()=>Jx,getSelectElse:()=>wp,getSelectThen:()=>kp,getSideEffects:()=>gi,getSource:()=>bS,getSourceNormalizedPath:()=>RS,getStoreBytes:()=>Kx,getStoreOffset:()=>Qx,getStorePtr:()=>Hx,getStoreValue:()=>jx,getTagName:()=>p2,getTagParams:()=>c2,getTagResults:()=>_2,getUnaryOp:()=>Sn,getUnaryValue:()=>ml,initializeProgram:()=>NS,isConstExpressionNaN:()=>hl,isConstNaN:()=>Ox,isConstNegZero:()=>fl,isConstNonZero:()=>et,isConstZero:()=>Se,isDeclaredElement:()=>On,isError:()=>CS,isGlobalMutable:()=>Pp,isIllegalVariableIdentifier:()=>fp,isInfo:()=>kS,isLoadSigned:()=>Rp,isLocalTee:()=>vn,isNullableType:()=>qy,isTypeOmitted:()=>Ie,isTypedElement:()=>Al,isWarning:()=>wS,mangleInternalName:()=>Le,mangleInternalPath:()=>gn,mustPreserveSideEffects:()=>gl,newOptions:()=>vI,newProgram:()=>yS,nextDiagnostic:()=>gS,nextFile:()=>BS,operatorTokenToString:()=>Te,optimize:()=>VS,parse:()=>PS,readString:()=>Ge,removeGlobalAlias:()=>DI,runtimeFunctions:()=>Ri,runtimeGlobals:()=>ki,setBasenameHint:()=>fS,setBindingsHint:()=>hS,setBundleVersion:()=>HI,setDebugInfo:()=>mS,setExportMemory:()=>RI,setExportRuntime:()=>WI,setExportStart:()=>VI,setExportTable:()=>LI,setFeature:()=>cS,setImportMemory:()=>kI,setImportTable:()=>BI,setInitialMemory:()=>wI,setLowMemoryLimit:()=>qI,setMaximumMemory:()=>CI,setMemoryBase:()=>GI,setNoAssert:()=>FI,setNoUnsafe:()=>OI,setOptimizeLevelHints:()=>_S,setPedantic:()=>dS,setRuntime:()=>SI,setSharedMemory:()=>PI,setSourceMap:()=>NI,setStackSize:()=>QI,setTableBase:()=>zI,setTarget:()=>II,setUncheckedBehavior:()=>MI,tokenFromKeyword:()=>Py,tokenIsAlsoIdentifier:()=>By,typesToRefs:()=>Er,typesToString:()=>El,util:()=>op,validate:()=>DS});var Z=typeof window<"u"&&window||typeof global<"u"&&global||self;if(typeof Z.ASC_TARGET>"u"){let e=function(){Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack=this.name+": "+this.message+`
`+new Error().stack},r=function(a){this.message=a||"assertion failed",Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=this.name+": "+this.message+`
`+new Error().stack},n=function(a,l){if(a==l){if(a!=0)return 0;a=1/a,l=1/l}else{let o=a!=a,p=l!=l;if(o|p)return o-p;a==null&&(a=String(a)),l==null&&(l=String(l))}return a>l?1:-1};px=e,cx=r,_x=n,Z.ASC_TARGET=0,Z.ASC_RUNTIME=0,Z.ASC_NO_ASSERT=!1,Z.ASC_MEMORY_BASE=0,Z.ASC_OPTIMIZE_LEVEL=3,Z.ASC_SHRINK_LEVEL=0,Z.ASC_FEATURE_MUTABLE_GLOBAL=!1,Z.ASC_FEATURE_SIGN_EXTENSION=!1,Z.ASC_FEATURE_BULK_MEMORY=!1,Z.ASC_FEATURE_SIMD=!1,Z.ASC_FEATURE_THREADS=!1;let t=new Float64Array(1),i=new Uint32Array(t.buffer);Object.defineProperties(Z.i8=function(l){return l<<24>>24},{MIN_VALUE:{value:-128},MAX_VALUE:{value:127},parse(a,l){return parseInt(a,l)<<24>>24}}),Object.defineProperties(Z.i16=function(l){return l<<16>>16},{MIN_VALUE:{value:-32768},MAX_VALUE:{value:32767},parse(a,l){return parseInt(a,l)<<16>>16}}),Object.defineProperties(Z.i32=Z.isize=function(l){return l|0},{MIN_VALUE:{value:-2147483648},MAX_VALUE:{value:2147483647},parse(a,l){return parseInt(a,l)|0}}),Object.defineProperties(Z.u8=function(l){return l&255},{MIN_VALUE:{value:0},MAX_VALUE:{value:255},parse(a,l){return parseInt(a,l)&255}}),Object.defineProperties(Z.u16=function(l){return l&65535},{MIN_VALUE:{value:0},MAX_VALUE:{value:65535},parse(a,l){return parseInt(a,l)&65535}}),Object.defineProperties(Z.u32=Z.usize=function(l){return l>>>0},{MIN_VALUE:{value:0},MAX_VALUE:{value:4294967295},parse(a,l){return parseInt(a,l)>>>0}}),Object.defineProperties(Z.bool=function(l){return!!l},{MIN_VALUE:{value:!1},MAX_VALUE:{value:!0},parse(a){return a.trim()==="true"}}),Object.defineProperties(Z.f32=function(l){return Math.fround(l)},{EPSILON:{value:11920928955078125e-23},MIN_VALUE:{value:1401298464324817e-60},MAX_VALUE:{value:34028234663852886e22},MIN_NORMAL_VALUE:{value:11754943508222875e-54},MIN_SAFE_INTEGER:{value:-16777215},MAX_SAFE_INTEGER:{value:16777215},POSITIVE_INFINITY:{value:1/0},NEGATIVE_INFINITY:{value:-1/0},NaN:{value:NaN},parse(a){return Math.fround(parseFloat(a))}}),Object.defineProperties(Z.f64=function(l){return+l},{EPSILON:{value:2220446049250313e-31},MIN_VALUE:{value:5e-324},MAX_VALUE:{value:17976931348623157e292},MIN_NORMAL_VALUE:{value:22250738585072014e-324},MIN_SAFE_INTEGER:{value:-9007199254740991},MAX_SAFE_INTEGER:{value:9007199254740991},POSITIVE_INFINITY:{value:1/0},NEGATIVE_INFINITY:{value:-1/0},NaN:{value:NaN},parse(a){return parseFloat(a)}}),Z.clz=Math.clz32,Z.ctz=function(l){return 32-Math.clz32(~l&l-1)},Z.popcnt=function(l){return l-=l>>>1&1431655765,l=(l&858993459)+(l>>>2&858993459),(l+(l>>>4)&252645135)*16843009>>>24},Z.rotl=function(l,o){return o&=31,l<<o|l>>>32-o},Z.rotr=function(l,o){return o&=31,l>>>o|l<<32-o},Z.abs=Math.abs,Z.max=Math.max,Z.min=Math.min,Z.ceil=Math.ceil,Z.floor=Math.floor,Z.nearest=function(l){let p=Math.abs(l);return p<4503599627370496?(p+4503599627370496-4503599627370496)*Math.sign(l):l},Z.select=function(l,o,p){return p?l:o},Z.sqrt=Math.sqrt,Z.trunc=Math.trunc,Z.copysign=function(l,o){return o?Math.abs(l)*Math.sign(o):(t[0]=o,i[1]>>>31?-1:1)},Z.bswap=function(l){let o=l>>8&16711935,p=(l&16711935)<<8;return l=o|p,o=l>>16&65535,p=(l&65535)<<16,o|p},e.prototype=Object.create(Error.prototype),e.prototype.name="UnreachableError",e.prototype.message="unreachable",Z.unreachable=function(){throw new e},r.prototype=Object.create(Error.prototype),r.prototype.name="AssertionError",Z.assert=function(l,o){if(l)return l;throw new r(o)},Z.changetype=function(l){return l},String.fromCharCodes=function(l){let p=l.length;if(p<=8192)return String.fromCharCode.apply(String,l);let c=0,_="";for(;c<p;)_+=String.fromCharCode.apply(String,l.slice(c,Math.min(c+8192,p))),c+=8192;return _},String.fromCodePoints=function(l){let p=l.length;if(p<=8192)return String.fromCodePoint.apply(String,l);let c=0,_="";for(;c<p;)_+=String.fromCodePoint.apply(String,l.slice(c,Math.min(c+8192,p))),c+=8192;return _},String.prototype.at||Object.defineProperty(String.prototype,"at",{value:function(l){return this.charAt(l>=0?l:l+this.length)},configurable:!0}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{value:function(l,o){let p=this.split(l).join(o);return l.length||(p=o+p+o),p},configurable:!0});let s=Array.prototype.sort;Array.prototype.sort=function(l){return s.call(this,l||n)},[Array,Uint8ClampedArray,Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array].forEach(a=>{a.prototype.at||Object.defineProperty(a.prototype,"at",{value:function(o){return this[o>=0?o:o+this.length]},configurable:!0}),a.prototype.findLastIndex||Object.defineProperty(a.prototype,"findLastIndex",{value:function(o){for(let p=this.length-1;p>=0;--p)if(o(this[p],p,this))return p;return-1},configurable:!0}),a!=Array&&Object.defineProperty(a,"wrap",{value:function(o,p,c){return new a(o,p,c)},configurable:!0})}),Z.isInteger=Number.isInteger,Z.isFloat=function(l){return typeof l=="number"},Z.isNullable=function(l){return!0},Z.isReference=function(l){return typeof l=="object"||typeof l=="string"},Z.isFunction=function(l){return typeof l=="function"},Z.isString=function(l){return typeof l=="string"||l instanceof String},Z.isArray=Array.isArray,Z.isArrayLike=function(l){return l&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&Math.trunc(l.length)===l.length},Z.isDefined=function(l){return typeof l<"u"},Z.isConstant=function(l){return!1},Z.unchecked=function(l){return l},Z.fmod=function(l,o){return l%o},Z.fmodf=function(l,o){return Math.fround(l%o)},Z.JSMath=Math,Object.defineProperties(Z.JSMath,{sincos_sin:{value:0,writable:!0},sincos_cos:{value:0,writable:!0},signbit:{value:function(l){return t[0]=l,!!(i[1]>>>31)}},sincos:{value:function(l){this.sincos_sin=Math.sin(l),this.sincos_cos=Math.cos(l)}},exp2:{value:function(l){return Math.pow(2,l)}}}),Z.unmanaged=function(){},Z.trace=function(a,l){l&&(a+=Array.prototype.slice.call(arguments,2,2+l)),console.error("trace: "+a)}}var px,cx,_x;var Gi={};Dl(Gi,{default:()=>Ol});Vl(Gi,yB);import*as yB from"binaryen";import{default as Ol}from"binaryen";var{_BinaryenTypeCreate:Nc,_BinaryenTypeArity:Mc,_BinaryenTypeExpand:Gc,_BinaryenTypeGetHeapType:nr,_BinaryenTypeFromHeapType:le,_BinaryenTypeIsNullable:zc,_BinaryenTypeFuncref:Uc,_BinaryenTypeExternref:Dc,_BinaryenTypeAnyref:Vc,_BinaryenTypeEqref:Oc,_BinaryenTypeI31ref:qc,_BinaryenTypeStructref:Wc,_BinaryenTypeArrayref:Kc,_BinaryenTypeStringref:Qc,_BinaryenTypeStringviewWTF8:Hc,_BinaryenTypeStringviewWTF16:jc,_BinaryenTypeStringviewIter:Xc,_BinaryenTypeNullref:Zc,_BinaryenTypeNullExternref:Yc,_BinaryenTypeNullFuncref:$c,_BinaryenHeapTypeFunc:xB,_BinaryenHeapTypeExt:TB,_BinaryenHeapTypeAny:AB,_BinaryenHeapTypeEq:EB,_BinaryenHeapTypeI31:vB,_BinaryenHeapTypeStruct:IB,_BinaryenHeapTypeArray:SB,_BinaryenHeapTypeString:FB,_BinaryenHeapTypeStringviewWTF8:RB,_BinaryenHeapTypeStringviewWTF16:kB,_BinaryenHeapTypeStringviewIter:wB,_BinaryenHeapTypeNone:CB,_BinaryenHeapTypeNoext:PB,_BinaryenHeapTypeNofunc:BB,_BinaryenHeapTypeIsBasic:LB,_BinaryenHeapTypeIsSignature:NB,_BinaryenHeapTypeIsStruct:MB,_BinaryenHeapTypeIsArray:GB,_BinaryenHeapTypeIsBottom:Jc,_BinaryenHeapTypeGetBottom:e_,_BinaryenHeapTypeIsSubType:t_,_BinaryenStructTypeGetNumFields:r_,_BinaryenStructTypeGetFieldType:zB,_BinaryenStructTypeGetFieldPackedType:UB,_BinaryenStructTypeIsFieldMutable:DB,_BinaryenArrayTypeGetElementType:VB,_BinaryenArrayTypeGetElementPackedType:OB,_BinaryenArrayTypeIsElementMutable:qB,_BinaryenSignatureTypeGetParams:WB,_BinaryenSignatureTypeGetResults:KB,_BinaryenModuleCreate:i_,_BinaryenModuleDispose:n_,_BinaryenSizeofLiteral:ql,_BinaryenLiteralInt32:s_,_BinaryenLiteralInt64:a_,_BinaryenLiteralFloat32:l_,_BinaryenLiteralFloat64:o_,_BinaryenLiteralVec128:u_,_BinaryenLiteralFloat32Bits:QB,_BinaryenLiteralFloat64Bits:HB,_BinaryenExpressionGetId:yt,_BinaryenExpressionGetType:Lt,_BinaryenExpressionSetType:jB,_BinaryenExpressionPrint:XB,_BinaryenExpressionCopy:p_,_BinaryenExpressionFinalize:c_,_BinaryenBlock:__,_BinaryenBlockGetName:ds,_BinaryenBlockSetName:ZB,_BinaryenBlockGetNumChildren:zi,_BinaryenBlockGetChildAt:Ui,_BinaryenBlockSetChildAt:f_,_BinaryenBlockAppendChild:YB,_BinaryenBlockInsertChildAt:$B,_BinaryenBlockRemoveChildAt:JB,_BinaryenIf:h_,_BinaryenIfGetCondition:Di,_BinaryenIfSetCondition:d_,_BinaryenIfGetIfTrue:Vi,_BinaryenIfSetIfTrue:m_,_BinaryenIfGetIfFalse:Oi,_BinaryenIfSetIfFalse:y_,_BinaryenLoop:g_,_BinaryenLoopGetName:ms,_BinaryenLoopSetName:eL,_BinaryenLoopGetBody:qi,_BinaryenLoopSetBody:b_,_BinaryenBreak:x_,_BinaryenBreakGetName:ys,_BinaryenBreakSetName:tL,_BinaryenBreakGetCondition:Wi,_BinaryenBreakSetCondition:T_,_BinaryenBreakGetValue:Wl,_BinaryenBreakSetValue:A_,_BinaryenSwitch:E_,_BinaryenSwitchGetNumNames:v_,_BinaryenSwitchGetNameAt:I_,_BinaryenSwitchSetNameAt:rL,_BinaryenSwitchAppendName:iL,_BinaryenSwitchInsertNameAt:nL,_BinaryenSwitchRemoveNameAt:sL,_BinaryenSwitchGetDefaultName:S_,_BinaryenSwitchSetDefaultName:aL,_BinaryenSwitchGetCondition:Kl,_BinaryenSwitchSetCondition:F_,_BinaryenSwitchGetValue:Ql,_BinaryenSwitchSetValue:R_,_BinaryenCall:k_,_BinaryenCallGetTarget:qr,_BinaryenCallSetTarget:lL,_BinaryenCallGetNumOperands:Nt,_BinaryenCallGetOperandAt:Mt,_BinaryenCallSetOperandAt:gs,_BinaryenCallAppendOperand:oL,_BinaryenCallInsertOperandAt:uL,_BinaryenCallRemoveOperandAt:pL,_BinaryenCallIsReturn:cL,_BinaryenCallSetReturn:_L,_BinaryenReturnCall:w_,_BinaryenCallIndirect:C_,_BinaryenCallIndirectGetTable:fL,_BinaryenCallIndirectSetTable:hL,_BinaryenCallIndirectGetTarget:Hl,_BinaryenCallIndirectSetTarget:P_,_BinaryenCallIndirectGetNumOperands:Ki,_BinaryenCallIndirectGetOperandAt:Qi,_BinaryenCallIndirectSetOperandAt:bs,_BinaryenCallIndirectAppendOperand:dL,_BinaryenCallIndirectInsertOperandAt:mL,_BinaryenCallIndirectRemoveOperandAt:yL,_BinaryenCallIndirectIsReturn:gL,_BinaryenCallIndirectSetReturn:bL,_BinaryenReturnCallIndirect:B_,_BinaryenLocalGet:L_,_BinaryenLocalGetGetIndex:xs,_BinaryenLocalGetSetIndex:xL,_BinaryenLocalSet:N_,_BinaryenLocalSetIsTee:Ts,_BinaryenLocalSetGetIndex:Wr,_BinaryenLocalSetSetIndex:TL,_BinaryenLocalSetGetValue:sr,_BinaryenLocalSetSetValue:As,_BinaryenLocalTee:M_,_BinaryenGlobalGet:G_,_BinaryenGlobalGetGetName:Es,_BinaryenGlobalGetSetName:AL,_BinaryenGlobalSet:z_,_BinaryenGlobalSetGetName:U_,_BinaryenGlobalSetSetName:EL,_BinaryenGlobalSetGetValue:jl,_BinaryenGlobalSetSetValue:D_,_BinaryenMemorySize:V_,_BinaryenMemoryGrow:O_,_BinaryenMemoryGrowGetDelta:Hi,_BinaryenMemoryGrowSetDelta:q_,_BinaryenLoad:W_,_BinaryenLoadIsAtomic:vL,_BinaryenLoadSetAtomic:IL,_BinaryenLoadIsSigned:K_,_BinaryenLoadSetSigned:SL,_BinaryenLoadGetOffset:Q_,_BinaryenLoadSetOffset:FL,_BinaryenLoadGetBytes:H_,_BinaryenLoadSetBytes:RL,_BinaryenLoadGetAlign:kL,_BinaryenLoadSetAlign:wL,_BinaryenLoadGetPtr:ji,_BinaryenLoadSetPtr:j_,_BinaryenAtomicLoad:X_,_BinaryenStore:Z_,_BinaryenStoreIsAtomic:CL,_BinaryenStoreSetAtomic:PL,_BinaryenStoreGetBytes:vs,_BinaryenStoreSetBytes:BL,_BinaryenStoreGetOffset:Is,_BinaryenStoreSetOffset:LL,_BinaryenStoreGetAlign:NL,_BinaryenStoreSetAlign:ML,_BinaryenStoreGetPtr:ar,_BinaryenStoreSetPtr:Ss,_BinaryenStoreGetValue:Xi,_BinaryenStoreSetValue:Y_,_BinaryenStoreGetValueType:GL,_BinaryenStoreSetValueType:zL,_BinaryenAtomicStore:$_,_BinaryenConst:Kr,_BinaryenConstGetValueI32:J_,_BinaryenConstSetValueI32:UL,_BinaryenConstGetValueI64Low:ef,_BinaryenConstSetValueI64Low:DL,_BinaryenConstGetValueI64High:tf,_BinaryenConstSetValueI64High:VL,_BinaryenConstGetValueF32:rf,_BinaryenConstSetValueF32:OL,_BinaryenConstGetValueF64:nf,_BinaryenConstSetValueF64:qL,_BinaryenConstGetValueV128:sf,_BinaryenConstSetValueV128:WL,_BinaryenUnary:af,_BinaryenUnaryGetOp:lf,_BinaryenUnarySetOp:KL,_BinaryenUnaryGetValue:Zi,_BinaryenUnarySetValue:of,_BinaryenBinary:uf,_BinaryenBinaryGetOp:pf,_BinaryenBinarySetOp:QL,_BinaryenBinaryGetLeft:Yi,_BinaryenBinarySetLeft:cf,_BinaryenBinaryGetRight:$i,_BinaryenBinarySetRight:_f,_BinaryenSelect:ff,_BinaryenSelectGetIfTrue:Ji,_BinaryenSelectSetIfTrue:hf,_BinaryenSelectGetIfFalse:en,_BinaryenSelectSetIfFalse:df,_BinaryenSelectGetCondition:tn,_BinaryenSelectSetCondition:mf,_BinaryenDrop:Xl,_BinaryenDropGetValue:rn,_BinaryenDropSetValue:yf,_BinaryenReturn:gf,_BinaryenReturnGetValue:lr,_BinaryenReturnSetValue:Fs,_BinaryenNop:bf,_BinaryenUnreachable:xf,_BinaryenAtomicRMW:Tf,_BinaryenAtomicRMWGetOp:HL,_BinaryenAtomicRMWSetOp:jL,_BinaryenAtomicRMWGetBytes:XL,_BinaryenAtomicRMWSetBytes:ZL,_BinaryenAtomicRMWGetOffset:YL,_BinaryenAtomicRMWSetOffset:$L,_BinaryenAtomicRMWGetPtr:Zl,_BinaryenAtomicRMWSetPtr:Af,_BinaryenAtomicRMWGetValue:Yl,_BinaryenAtomicRMWSetValue:Ef,_BinaryenAtomicCmpxchg:vf,_BinaryenAtomicCmpxchgGetBytes:JL,_BinaryenAtomicCmpxchgSetBytes:eN,_BinaryenAtomicCmpxchgGetOffset:tN,_BinaryenAtomicCmpxchgSetOffset:rN,_BinaryenAtomicCmpxchgGetPtr:$l,_BinaryenAtomicCmpxchgSetPtr:If,_BinaryenAtomicCmpxchgGetExpected:Jl,_BinaryenAtomicCmpxchgSetExpected:Sf,_BinaryenAtomicCmpxchgGetReplacement:eo,_BinaryenAtomicCmpxchgSetReplacement:Ff,_BinaryenAtomicWait:Rf,_BinaryenAtomicWaitGetPtr:to,_BinaryenAtomicWaitSetPtr:kf,_BinaryenAtomicWaitGetExpected:ro,_BinaryenAtomicWaitSetExpected:wf,_BinaryenAtomicWaitGetTimeout:io,_BinaryenAtomicWaitSetTimeout:Cf,_BinaryenAtomicWaitGetExpectedType:iN,_BinaryenAtomicWaitSetExpectedType:nN,_BinaryenAtomicNotify:Pf,_BinaryenAtomicNotifyGetPtr:no,_BinaryenAtomicNotifySetPtr:Bf,_BinaryenAtomicNotifyGetNotifyCount:so,_BinaryenAtomicNotifySetNotifyCount:Lf,_BinaryenAtomicFence:Nf,_BinaryenAtomicFenceGetOrder:sN,_BinaryenAtomicFenceSetOrder:aN,_BinaryenSIMDExtract:Mf,_BinaryenSIMDExtractGetOp:lN,_BinaryenSIMDExtractSetOp:oN,_BinaryenSIMDExtractGetVec:ao,_BinaryenSIMDExtractSetVec:Gf,_BinaryenSIMDExtractGetIndex:uN,_BinaryenSIMDExtractSetIndex:pN,_BinaryenSIMDReplace:zf,_BinaryenSIMDReplaceGetOp:cN,_BinaryenSIMDReplaceSetOp:_N,_BinaryenSIMDReplaceGetVec:lo,_BinaryenSIMDReplaceSetVec:Uf,_BinaryenSIMDReplaceGetIndex:fN,_BinaryenSIMDReplaceSetIndex:hN,_BinaryenSIMDReplaceGetValue:oo,_BinaryenSIMDReplaceSetValue:Df,_BinaryenSIMDShuffle:Vf,_BinaryenSIMDShuffleGetLeft:uo,_BinaryenSIMDShuffleSetLeft:Of,_BinaryenSIMDShuffleGetRight:po,_BinaryenSIMDShuffleSetRight:qf,_BinaryenSIMDShuffleGetMask:dN,_BinaryenSIMDShuffleSetMask:mN,_BinaryenSIMDTernary:Wf,_BinaryenSIMDTernaryGetOp:yN,_BinaryenSIMDTernarySetOp:gN,_BinaryenSIMDTernaryGetA:co,_BinaryenSIMDTernarySetA:Kf,_BinaryenSIMDTernaryGetB:_o,_BinaryenSIMDTernarySetB:Qf,_BinaryenSIMDTernaryGetC:fo,_BinaryenSIMDTernarySetC:Hf,_BinaryenSIMDShift:jf,_BinaryenSIMDShiftGetOp:bN,_BinaryenSIMDShiftSetOp:xN,_BinaryenSIMDShiftGetVec:ho,_BinaryenSIMDShiftSetVec:Xf,_BinaryenSIMDShiftGetShift:mo,_BinaryenSIMDShiftSetShift:Zf,_BinaryenSIMDLoad:Yf,_BinaryenSIMDLoadGetOp:TN,_BinaryenSIMDLoadSetOp:AN,_BinaryenSIMDLoadGetOffset:EN,_BinaryenSIMDLoadSetOffset:vN,_BinaryenSIMDLoadGetAlign:IN,_BinaryenSIMDLoadSetAlign:SN,_BinaryenSIMDLoadGetPtr:yo,_BinaryenSIMDLoadSetPtr:$f,_BinaryenSIMDLoadStoreLane:Jf,_BinaryenSIMDLoadStoreLaneGetOp:FN,_BinaryenSIMDLoadStoreLaneSetOp:RN,_BinaryenSIMDLoadStoreLaneGetOffset:kN,_BinaryenSIMDLoadStoreLaneSetOffset:wN,_BinaryenSIMDLoadStoreLaneGetAlign:CN,_BinaryenSIMDLoadStoreLaneSetAlign:PN,_BinaryenSIMDLoadStoreLaneGetIndex:BN,_BinaryenSIMDLoadStoreLaneSetIndex:LN,_BinaryenSIMDLoadStoreLaneGetPtr:go,_BinaryenSIMDLoadStoreLaneSetPtr:eh,_BinaryenSIMDLoadStoreLaneGetVec:bo,_BinaryenSIMDLoadStoreLaneSetVec:th,_BinaryenSIMDLoadStoreLaneIsStore:NN,_BinaryenMemoryInit:MN,_BinaryenMemoryInitGetSegment:GN,_BinaryenMemoryInitSetSegment:zN,_BinaryenMemoryInitGetDest:xo,_BinaryenMemoryInitSetDest:rh,_BinaryenMemoryInitGetOffset:To,_BinaryenMemoryInitSetOffset:ih,_BinaryenMemoryInitGetSize:Ao,_BinaryenMemoryInitSetSize:nh,_BinaryenDataDrop:UN,_BinaryenDataDropGetSegment:DN,_BinaryenDataDropSetSegment:VN,_BinaryenMemoryCopy:sh,_BinaryenMemoryCopyGetDest:Eo,_BinaryenMemoryCopySetDest:ah,_BinaryenMemoryCopyGetSource:vo,_BinaryenMemoryCopySetSource:lh,_BinaryenMemoryCopyGetSize:Io,_BinaryenMemoryCopySetSize:oh,_BinaryenMemoryFill:uh,_BinaryenMemoryFillGetDest:So,_BinaryenMemoryFillSetDest:ph,_BinaryenMemoryFillGetValue:Fo,_BinaryenMemoryFillSetValue:ch,_BinaryenMemoryFillGetSize:Ro,_BinaryenMemoryFillSetSize:_h,_BinaryenRefNull:fh,_BinaryenRefIsNull:hh,_BinaryenRefIsNullGetValue:ko,_BinaryenRefIsNullSetValue:dh,_BinaryenRefAs:wo,_BinaryenRefAsGetOp:ON,_BinaryenRefAsSetOp:qN,_BinaryenRefAsGetValue:Co,_BinaryenRefAsSetValue:mh,_BinaryenRefFunc:yh,_BinaryenRefFuncGetFunc:gh,_BinaryenRefFuncSetFunc:WN,_BinaryenRefEq:bh,_BinaryenRefEqGetLeft:Po,_BinaryenRefEqSetLeft:xh,_BinaryenRefEqGetRight:Bo,_BinaryenRefEqSetRight:Th,_BinaryenTableGet:Ah,_BinaryenTableGetGetTable:KN,_BinaryenTableGetSetTable:QN,_BinaryenTableGetGetIndex:HN,_BinaryenTableGetSetIndex:jN,_BinaryenTableSet:Eh,_BinaryenTableSetGetTable:XN,_BinaryenTableSetSetTable:ZN,_BinaryenTableSetGetIndex:YN,_BinaryenTableSetSetIndex:$N,_BinaryenTableSetGetValue:JN,_BinaryenTableSetSetValue:e7,_BinaryenTableSize:vh,_BinaryenTableSizeGetTable:t7,_BinaryenTableSizeSetTable:r7,_BinaryenTableGrow:Ih,_BinaryenTableGrowGetTable:i7,_BinaryenTableGrowSetTable:n7,_BinaryenTableGrowGetValue:s7,_BinaryenTableGrowSetValue:a7,_BinaryenTableGrowGetDelta:l7,_BinaryenTableGrowSetDelta:o7,_BinaryenTry:Sh,_BinaryenTryGetName:u7,_BinaryenTrySetName:p7,_BinaryenTryGetBody:Lo,_BinaryenTrySetBody:Fh,_BinaryenTryGetNumCatchTags:c7,_BinaryenTryGetNumCatchBodies:No,_BinaryenTryGetCatchTagAt:_7,_BinaryenTrySetCatchTagAt:f7,_BinaryenTryAppendCatchTag:h7,_BinaryenTryInsertCatchTagAt:d7,_BinaryenTryRemoveCatchTagAt:m7,_BinaryenTryGetCatchBodyAt:Mo,_BinaryenTrySetCatchBodyAt:Rh,_BinaryenTryAppendCatchBody:y7,_BinaryenTryInsertCatchBodyAt:g7,_BinaryenTryRemoveCatchBodyAt:b7,_BinaryenTryHasCatchAll:x7,_BinaryenTryGetDelegateTarget:T7,_BinaryenTrySetDelegateTarget:A7,_BinaryenTryIsDelegate:E7,_BinaryenThrow:kh,_BinaryenThrowGetTag:wh,_BinaryenThrowSetTag:v7,_BinaryenThrowGetNumOperands:Go,_BinaryenThrowGetOperandAt:zo,_BinaryenThrowSetOperandAt:Ch,_BinaryenThrowAppendOperand:I7,_BinaryenThrowInsertOperandAt:S7,_BinaryenThrowRemoveOperandAt:F7,_BinaryenRethrow:Ph,_BinaryenRethrowGetTarget:R7,_BinaryenRethrowSetDepth:k7,_BinaryenTupleMake:Bh,_BinaryenTupleMakeGetNumOperands:Uo,_BinaryenTupleMakeGetOperandAt:Do,_BinaryenTupleMakeSetOperandAt:Lh,_BinaryenTupleMakeAppendOperand:w7,_BinaryenTupleMakeInsertOperandAt:C7,_BinaryenTupleMakeRemoveOperandAt:P7,_BinaryenTupleExtract:Nh,_BinaryenTupleExtractGetTuple:Vo,_BinaryenTupleExtractSetTuple:Mh,_BinaryenTupleExtractGetIndex:B7,_BinaryenTupleExtractSetIndex:L7,_BinaryenPop:Gh,_BinaryenRefI31:zh,_BinaryenRefI31GetValue:Oo,_BinaryenRefI31SetValue:Uh,_BinaryenI31Get:Dh,_BinaryenI31GetGetI31:qo,_BinaryenI31GetSetI31:Vh,_BinaryenI31GetIsSigned:N7,_BinaryenI31GetSetSigned:M7,_BinaryenCallRef:G7,_BinaryenCallRefGetNumOperands:Wo,_BinaryenCallRefGetOperandAt:Ko,_BinaryenCallRefSetOperandAt:Oh,_BinaryenCallRefAppendOperand:z7,_BinaryenCallRefInsertOperandAt:U7,_BinaryenCallRefRemoveOperandAt:D7,_BinaryenCallRefGetTarget:Qo,_BinaryenCallRefSetTarget:qh,_BinaryenCallRefIsReturn:V7,_BinaryenCallRefSetReturn:O7,_BinaryenRefTest:q7,_BinaryenRefTestGetRef:Ho,_BinaryenRefTestSetRef:Wh,_BinaryenRefTestGetCastType:W7,_BinaryenRefTestSetCastType:K7,_BinaryenRefCast:Q7,_BinaryenRefCastGetRef:jo,_BinaryenRefCastSetRef:Kh,_BinaryenBrOn:H7,_BinaryenBrOnGetOp:j7,_BinaryenBrOnSetOp:X7,_BinaryenBrOnGetName:Qh,_BinaryenBrOnSetName:Z7,_BinaryenBrOnGetRef:Xo,_BinaryenBrOnSetRef:Hh,_BinaryenBrOnGetCastType:Y7,_BinaryenBrOnSetCastType:$7,_BinaryenStructNew:J7,_BinaryenStructNewGetNumOperands:Zo,_BinaryenStructNewGetOperandAt:Yo,_BinaryenStructNewSetOperandAt:jh,_BinaryenStructNewAppendOperand:eM,_BinaryenStructNewInsertOperandAt:tM,_BinaryenStructNewRemoveOperandAt:rM,_BinaryenStructGet:iM,_BinaryenStructGetGetIndex:Xh,_BinaryenStructGetSetIndex:nM,_BinaryenStructGetGetRef:$o,_BinaryenStructGetSetRef:Zh,_BinaryenStructGetIsSigned:sM,_BinaryenStructGetSetSigned:aM,_BinaryenStructSet:lM,_BinaryenStructSetGetIndex:Yh,_BinaryenStructSetSetIndex:oM,_BinaryenStructSetGetRef:Jo,_BinaryenStructSetSetRef:$h,_BinaryenStructSetGetValue:eu,_BinaryenStructSetSetValue:Jh,_BinaryenArrayNew:uM,_BinaryenArrayNewGetInit:tu,_BinaryenArrayNewSetInit:ed,_BinaryenArrayNewGetSize:ru,_BinaryenArrayNewSetSize:td,_BinaryenArrayNewFixed:pM,_BinaryenArrayNewFixedGetNumValues:iu,_BinaryenArrayNewFixedGetValueAt:nu,_BinaryenArrayNewFixedSetValueAt:rd,_BinaryenArrayNewFixedAppendValue:cM,_BinaryenArrayNewFixedInsertValueAt:_M,_BinaryenArrayNewFixedRemoveValueAt:fM,_BinaryenArrayGet:hM,_BinaryenArrayGetGetRef:su,_BinaryenArrayGetSetRef:id,_BinaryenArrayGetGetIndex:au,_BinaryenArrayGetSetIndex:nd,_BinaryenArrayGetIsSigned:dM,_BinaryenArrayGetSetSigned:mM,_BinaryenArraySet:yM,_BinaryenArraySetGetRef:lu,_BinaryenArraySetSetRef:sd,_BinaryenArraySetGetIndex:ou,_BinaryenArraySetSetIndex:ad,_BinaryenArraySetGetValue:uu,_BinaryenArraySetSetValue:ld,_BinaryenArrayLen:gM,_BinaryenArrayLenGetRef:pu,_BinaryenArrayLenSetRef:od,_BinaryenArrayCopy:bM,_BinaryenArrayCopyGetDestRef:cu,_BinaryenArrayCopySetDestRef:ud,_BinaryenArrayCopyGetDestIndex:_u,_BinaryenArrayCopySetDestIndex:pd,_BinaryenArrayCopyGetSrcRef:fu,_BinaryenArrayCopySetSrcRef:cd,_BinaryenArrayCopyGetSrcIndex:hu,_BinaryenArrayCopySetSrcIndex:_d,_BinaryenArrayCopyGetLength:du,_BinaryenArrayCopySetLength:fd,_BinaryenStringNew:xM,_BinaryenStringNewGetOp:TM,_BinaryenStringNewSetOp:AM,_BinaryenStringNewGetPtr:mu,_BinaryenStringNewSetPtr:hd,_BinaryenStringNewGetLength:yu,_BinaryenStringNewSetLength:dd,_BinaryenStringNewGetStart:gu,_BinaryenStringNewSetStart:md,_BinaryenStringNewGetEnd:bu,_BinaryenStringNewSetEnd:yd,_BinaryenStringNewIsTry:EM,_BinaryenStringNewSetTry:vM,_BinaryenStringConst:IM,_BinaryenStringConstGetString:SM,_BinaryenStringConstSetString:FM,_BinaryenStringMeasure:RM,_BinaryenStringMeasureGetOp:kM,_BinaryenStringMeasureSetOp:wM,_BinaryenStringMeasureGetRef:xu,_BinaryenStringMeasureSetRef:gd,_BinaryenStringEncode:CM,_BinaryenStringEncodeGetOp:PM,_BinaryenStringEncodeSetOp:BM,_BinaryenStringEncodeGetRef:Tu,_BinaryenStringEncodeSetRef:bd,_BinaryenStringEncodeGetPtr:Au,_BinaryenStringEncodeSetPtr:xd,_BinaryenStringEncodeGetStart:Eu,_BinaryenStringEncodeSetStart:Td,_BinaryenStringConcat:LM,_BinaryenStringConcatGetLeft:vu,_BinaryenStringConcatSetLeft:Ad,_BinaryenStringConcatGetRight:Iu,_BinaryenStringConcatSetRight:Ed,_BinaryenStringEq:Su,_BinaryenStringEqGetOp:NM,_BinaryenStringEqSetOp:MM,_BinaryenStringEqGetLeft:Fu,_BinaryenStringEqSetLeft:vd,_BinaryenStringEqGetRight:Ru,_BinaryenStringEqSetRight:Id,_BinaryenStringAs:GM,_BinaryenStringAsGetOp:zM,_BinaryenStringAsSetOp:UM,_BinaryenStringAsGetRef:ku,_BinaryenStringAsSetRef:Sd,_BinaryenStringWTF8Advance:DM,_BinaryenStringWTF8AdvanceGetRef:wu,_BinaryenStringWTF8AdvanceSetRef:Fd,_BinaryenStringWTF8AdvanceGetPos:Cu,_BinaryenStringWTF8AdvanceSetPos:Rd,_BinaryenStringWTF8AdvanceGetBytes:Pu,_BinaryenStringWTF8AdvanceSetBytes:kd,_BinaryenStringWTF16Get:VM,_BinaryenStringWTF16GetGetRef:Bu,_BinaryenStringWTF16GetSetRef:wd,_BinaryenStringWTF16GetGetPos:Lu,_BinaryenStringWTF16GetSetPos:Cd,_BinaryenStringIterNext:OM,_BinaryenStringIterNextGetRef:Nu,_BinaryenStringIterNextSetRef:Pd,_BinaryenStringIterMove:qM,_BinaryenStringIterMoveGetOp:WM,_BinaryenStringIterMoveSetOp:KM,_BinaryenStringIterMoveGetRef:Mu,_BinaryenStringIterMoveSetRef:Bd,_BinaryenStringIterMoveGetNum:Gu,_BinaryenStringIterMoveSetNum:Ld,_BinaryenStringSliceWTF:QM,_BinaryenStringSliceWTFGetOp:HM,_BinaryenStringSliceWTFSetOp:jM,_BinaryenStringSliceWTFGetRef:zu,_BinaryenStringSliceWTFSetRef:Nd,_BinaryenStringSliceWTFGetStart:Uu,_BinaryenStringSliceWTFSetStart:Md,_BinaryenStringSliceWTFGetEnd:Du,_BinaryenStringSliceWTFSetEnd:Gd,_BinaryenStringSliceIter:XM,_BinaryenStringSliceIterGetRef:Vu,_BinaryenStringSliceIterSetRef:zd,_BinaryenStringSliceIterGetNum:Ou,_BinaryenStringSliceIterSetNum:Ud,_BinaryenAddFunction:Qr,_BinaryenGetFunction:Hr,_BinaryenRemoveFunction:nn,_BinaryenGetNumFunctions:Dd,_BinaryenGetFunctionByIndex:Vd,_BinaryenFunctionGetName:jr,_BinaryenFunctionGetParams:sn,_BinaryenFunctionGetResults:an,_BinaryenFunctionGetNumVars:Rs,_BinaryenFunctionGetVar:ks,_BinaryenFunctionGetNumLocals:qu,_BinaryenFunctionHasLocalName:ZM,_BinaryenFunctionGetLocalName:YM,_BinaryenFunctionSetLocalName:Od,_BinaryenFunctionGetBody:Gt,_BinaryenFunctionSetBody:ws,_BinaryenFunctionOptimize:$M,_BinaryenFunctionRunPasses:qd,_BinaryenFunctionSetDebugLocation:Wd,_BinaryenAddFunctionImport:Kd,_BinaryenAddTableImport:Qd,_BinaryenAddMemoryImport:Hd,_BinaryenAddGlobalImport:jd,_BinaryenAddTagImport:Xd,_BinaryenAddFunctionExport:Cs,_BinaryenAddTableExport:Zd,_BinaryenAddMemoryExport:Yd,_BinaryenAddGlobalExport:$d,_BinaryenAddTagExport:Jd,_BinaryenGetExport:Ps,_BinaryenRemoveExport:Bs,_BinaryenGetNumExports:JM,_BinaryenGetExportByIndex:eG,_BinaryenExportGetKind:em,_BinaryenExportGetName:tm,_BinaryenExportGetValue:rm,_BinaryenAddGlobal:im,_BinaryenGetGlobal:Wu,_BinaryenRemoveGlobal:nm,_BinaryenGetNumGlobals:sm,_BinaryenGetGlobalByIndex:am,_BinaryenGlobalGetName:lm,_BinaryenGlobalGetType:om,_BinaryenGlobalIsMutable:um,_BinaryenGlobalGetInitExpr:Ls,_BinaryenAddTag:pm,_BinaryenGetTag:cm,_BinaryenRemoveTag:_m,_BinaryenTagGetName:fm,_BinaryenTagGetParams:hm,_BinaryenTagGetResults:dm,_BinaryenAddTable:mm,_BinaryenRemoveTable:tG,_BinaryenGetNumTables:rG,_BinaryenGetTable:ym,_BinaryenGetTableByIndex:iG,_BinaryenTableGetName:nG,_BinaryenTableSetName:sG,_BinaryenTableGetInitial:aG,_BinaryenTableSetInitial:gm,_BinaryenTableHasMax:lG,_BinaryenTableGetMax:oG,_BinaryenTableSetMax:bm,_BinaryenAddActiveElementSegment:xm,_BinaryenAddPassiveElementSegment:uG,_BinaryenRemoveElementSegment:pG,_BinaryenGetNumElementSegments:cG,_BinaryenGetElementSegment:_G,_BinaryenGetElementSegmentByIndex:fG,_BinaryenSetMemory:Tm,_BinaryenGetNumMemorySegments:hG,_BinaryenGetMemorySegmentByteOffset:dG,_BinaryenGetMemorySegmentByteLength:mG,_BinaryenCopyMemorySegmentData:yG,_BinaryenSetStart:Am,_BinaryenModuleParse:gG,_BinaryenModulePrint:bG,_BinaryenModulePrintAsmjs:xG,_BinaryenModuleValidate:Em,_BinaryenModuleOptimize:TG,_BinaryenModuleRunPasses:vm,_BinaryenModuleAutoDrop:AG,_BinaryenSizeofAllocateAndWriteResult:Im,_BinaryenModuleAllocateAndWrite:Sm,_BinaryenModuleAllocateAndWriteText:Fm,_BinaryenModuleAllocateAndWriteStackIR:Rm,_BinaryenModuleRead:km,_BinaryenModuleInterpret:wm,_BinaryenModuleAddDebugInfoFileName:Cm,_BinaryenModuleGetDebugInfoFileName:Pm,_BinaryenModuleGetFeatures:Bm,_BinaryenModuleSetFeatures:Lm,_BinaryenAddCustomSection:Nm,_BinaryenExpressionGetSideEffects:Mm,_RelooperCreate:Gm,_RelooperAddBlock:zm,_RelooperAddBranch:Um,_RelooperAddBlockWithSwitch:Dm,_RelooperAddBranchForSwitch:Vm,_RelooperRenderAndDispose:Om,_ExpressionRunnerCreate:qm,_ExpressionRunnerSetLocalValue:EG,_ExpressionRunnerSetGlobalValue:vG,_ExpressionRunnerRunAndDispose:Wm,_TypeBuilderCreate:Km,_TypeBuilderGrow:Ku,_TypeBuilderGetSize:Ns,_TypeBuilderSetSignatureType:Qm,_TypeBuilderSetStructType:Hm,_TypeBuilderSetArrayType:IG,_TypeBuilderGetTempHeapType:Qu,_TypeBuilderGetTempTupleType:Hu,_TypeBuilderGetTempRefType:Xr,_TypeBuilderSetSubType:jm,_TypeBuilderSetOpen:SG,_TypeBuilderCreateRecGroup:FG,_TypeBuilderBuildAndDispose:Xm,_BinaryenModuleSetTypeName:Zm,_BinaryenModuleSetFieldName:Ym,_BinaryenGetOptimizeLevel:$m,_BinaryenSetOptimizeLevel:Jm,_BinaryenGetShrinkLevel:ey,_BinaryenSetShrinkLevel:ty,_BinaryenGetDebugInfo:ry,_BinaryenSetDebugInfo:iy,_BinaryenGetLowMemoryUnused:ny,_BinaryenSetLowMemoryUnused:sy,_BinaryenGetZeroFilledMemory:ay,_BinaryenSetZeroFilledMemory:ly,_BinaryenGetFastMath:oy,_BinaryenSetFastMath:uy,_BinaryenGetPassArgument:py,_BinaryenSetPassArgument:cy,_BinaryenClearPassArguments:_y,_BinaryenGetAlwaysInlineMaxSize:fy,_BinaryenSetAlwaysInlineMaxSize:hy,_BinaryenGetFlexibleInlineMaxSize:dy,_BinaryenSetFlexibleInlineMaxSize:my,_BinaryenGetOneCallerInlineMaxSize:yy,_BinaryenSetOneCallerInlineMaxSize:gy,_BinaryenGetAllowInliningFunctionsWithLoops:by,_BinaryenSetAllowInliningFunctionsWithLoops:xy,_malloc:it,_free:J,__i32_store8:Ce,__i32_store16:RG,__i32_store:Ms,__f32_store:kG,__f64_store:wG,__i32_load8_s:CG,__i32_load8_u:or,__i32_load16_s:PG,__i32_load16_u:BG,__i32_load:zt,__f32_load:LG,__f64_load:NG}=Ol;var Ay="data:application/wasm;base64,AGFzbQEAAAABBwFgAnx8AXwDAgEABQMBAAEGDQF8AUQAAAAAAAAAAAsHCwEHZjY0X3BvdwAADAKCAQr2DAHzDAMFfgN/CXwCfCABmUQAAAAAAAAAQGUEQCAAIACiIAFEAAAAAAAAAEBhDQEaIACfmUQAAAAAAADwfyAARAAAAAAAAPD/YhsgAUQAAAAAAADgP2ENARpEAAAAAAAA8D8gAKMgAUQAAAAAAADwv2ENARogACABRAAAAAAAAPA/YQ0BGkQAAAAAAADwPyABRAAAAAAAAAAAYQ0BGgsCfCABvSIFQjSIIQQgAL0iAkI0iCIDQgF9Qv4PWgR/QQEFIARC/w+DQr4HfUKAAVoLBEAgBUIBhiIGQgF9Qv////////9vWgRARAAAAAAAAPA/IAZQDQIaRAAAAAAAAPh/IAJCgICAgICAgPg/UQ0CGiAAIAGgIAZCgICAgICAgHBWIAJCAYYiAkKAgICAgICAcFZyDQIaRAAAAAAAAPh/IAJCgICAgICAgPD/AFENAhpEAAAAAAAAAAAgBUI/iFAgAkKAgICAgICA8P8AVEYNAhogASABogwCCyACQgGGQgF9Qv////////9vWgRARAAAAAAAAPA/IAAgAKIiAJogACACQj+IpwR/An9BACAFQjSIQv8PgyICQv8HVA0AGkECIAJCswhWDQAaQQAgBUIBQrMIIAJ9hiICQgF9g0IAUg0AGkEBIAIgBYNCAFINABpBAgtBAUYFQQALGyIAoyAAIAVCAFMbDAILIAJCAFMEQAJ/QQAgBUI0iEL/D4MiBkL/B1QNABpBAiAGQrMIVg0AGkEAIAVCAUKzCCAGfYYiBkIBfYNCAFINABpBASAFIAaDQgBSDQAaQQILIgdFBEAgACAAoSIAIACjDAMLIANC/w+DIQNBgIAQQQAgB0EBRhshCCACQv///////////wCDIQILIARC/w+DIgZCvgd9QoABWgRARAAAAAAAAPA/IAJCgICAgICAgPg/UQ0CGkQAAAAAAADwPyAGQr4HVA0CGkQAAAAAAADwf0QAAAAAAAAAACAEQoAQVCACQoCAgICAgID4P1ZGGwwCCyADUARAIABEAAAAAAAAMEOivUL///////////8Ag0KAgICAgICAoAN9IQILCyACIAJCgICAgNCqpfM/fSICQoCAgICAgIB4g30iA0KAgICACHxCgICAgHCDvyIKIAJCLYhC/wCDp0EFdEGACGoiBysDACILokQAAAAAAADwv6AhDSACQjSHuSIARAA4+v5CLuY/oiAHKwMQoCIOIA0gA78gCqEgC6IiD6AiCqAhCyAKIApEAAAAAAAA4L+iIhCiIQwgCyANIA1EAAAAAAAA4L+iIhGiIhKgIg0gDSAARDBnx5NX8y49oiAHKwMYoCAOIAuhIAqgoCAPIBAgEaCioCALIA2hIBKgoCAKIAyiIApEBgAAAAAA4D+iRGBVVVVVVeW/oCAMIApEeqQpVVVV5b+iRE5VWZmZmek/oCAMIApEwz8miysA8D+iROlFSJtbSfK/oKKgoqCioCIAoCIKoSAAoCQAAnwgBUKAgIBAg78iACAKvUKAgIBAg78iC6IiDL0iAkI0iKdB/w9xIgdByQdrIglBP08EQEQAAAAAAADwv0QAAAAAAADwPyAIGyAJQYCAgIB4Tw0BGkQAAAAAAAAAgEQAAAAAAAAAACAIG0QAAAAAAADw/0QAAAAAAADwfyAIGyACQgBTGyAHQYkITw0BGkEAIQcLIAxE/oIrZUcVZ0CiRAAAAAAAADhDoCINvSICQv8Ag0IBhqdBA3RBgChqIgkpAwggAiAIrXxCLYZ8IQMgDCANRAAAAAAAADjDoCIMRAAA+v5CLna/oqAgDEQ6O568mvcMvaKgIAEgAKEgC6IgASAKIAuhIwCgoqCgIgAgAKIhASAJKwMAIACgIAEgAEQ8VFVVVVXFP6JEvf3/////3z+goqAgASABoiAARBfQpGcREYE/okSRKxfPVVWlP6CioCEAIAdFBEACfCACQoCAgIAIg1AEQCADQoCAgICAgICIP32/IgEgASAAoqBEAAAAAAAAAH+iDAELIANCgICAgICAgPA/fCICvyIBIACiIQAgASAAoCIKmUQAAAAAAADwP2MEfCACQoCAgICAgICAgH+Dv0QAAAAAAADwPyAKpiILIAqgIgwgCyAMoSAKoCABIAqhIACgoKAgC6EiACAARAAAAAAAAAAAYRsFIAoLRAAAAAAAABAAogsMAQsgA78iASABIACioAsLCwsLxSyCAQBBhQgLA6D2PwBBkQgLF8i58oIs1r+AVjcoJLT6PAAAAAAAgPY/AEGxCAsXCFi/vdHVvyD34NgIpRy9AAAAAABg9j8AQdEICxdYRRd3dtW/bVC21aRiI70AAAAAAED2PwBB8QgLF/gth60a1b/VZ7Ce5ITmvAAAAAAAIPY/AEGRCQsXeHeVX77Uv+A+KZNpGwS9AAAAAAAA9j8AQbEJCxdgHMKLYdS/zIRMSC/YEz0AAAAAAOD1PwBB0QkLF6iGhjAE1L86C4Lt80LcPAAAAAAAwPU/AEHxCQsXSGlVTKbTv2CUUYbGsSA9AAAAAACg9T8AQZEKCxeAmJrdR9O/koDF1E1ZJT0AAAAAAID1PwBBsQoLFyDhuuLo0r/YK7eZHnsmPQAAAAAAYPU/AEHRCgsXiN4TWonSvz+wz7YUyhU9AAAAAABg9T8AQfEKCxeI3hNaidK/P7DPthTKFT0AAAAAAED1PwBBkQsLF3jP+0Ep0r922lMoJFoWvQAAAAAAIPU/AEGxCwsXmGnBmMjRvwRU52i8rx+9AAAAAAAA9T8AQdELCxeoq6tcZ9G/8KiCM8YfHz0AAAAAAOD0PwBB8QsLF0iu+YsF0b9mWgX9xKgmvQAAAAAAwPQ/AEGRDAsXkHPiJKPQvw4D9H7uawy9AAAAAACg9D8AQbEMCxfQtJQlQNC/fy30nrg28LwAAAAAAKD0PwBB0QwLF9C0lCVA0L9/LfSeuDbwvAAAAAAAgPQ/AEHxDAsXQF5tGLnPv4c8masqVw09AAAAAABg9D8AQZENCxdg3Mut8M6/JK+GnLcmKz0AAAAAAED0PwBBsQ0LF/Aqbgcnzr8Q/z9UTy8XvQAAAAAAIPQ/AEHRDQsXwE9rIVzNvxtoyruRuiE9AAAAAAAA9D8AQfENCxegmsf3j8y/NISfaE95Jz0AAAAAAAD0PwBBkQ4LF6Cax/ePzL80hJ9oT3knPQAAAAAA4PM/AEGxDgsXkC10hsLLv4+3izGwThk9AAAAAADA8z8AQdEOCxfAgE7J88q/ZpDNP2NOujwAAAAAAKDzPwBB8Q4LF7DiH7wjyr/qwUbcZIwlvQAAAAAAoPM/AEGRDwsXsOIfvCPKv+rBRtxkjCW9AAAAAACA8z8AQbEPCxdQ9JxaUsm/49TBBNnRKr0AAAAAAGDzPwBB0Q8LF9AgZaB/yL8J+tt/v70rPQAAAAAAQPM/AEHxDwsX4BACiavHv1hKU3KQ2ys9AAAAAABA8z8AQZEQCxfgEAKJq8e/WEpTcpDbKz0AAAAAACDzPwBBsRALF9AZ5w/Wxr9m4rKjauQQvQAAAAAAAPM/AEHREAsXkKdwMP/FvzlQEJ9Dnh69AAAAAAAA8z8AQfEQCxeQp3Aw/8W/OVAQn0OeHr0AAAAAAODyPwBBkRELF7Ch4+Umxb+PWweQi94gvQAAAAAAwPI/AEGxEQsXgMtsK03Evzx4NWHBDBc9AAAAAADA8j8AQdERCxeAy2wrTcS/PHg1YcEMFz0AAAAAAKDyPwBB8RELF5AeIPxxw786VCdNhnjxPAAAAAAAgPI/AEGREgsX8B/4UpXCvwjEcRcwjSS9AAAAAABg8j8AQbESCxdgL9Uqt8G/lqMRGKSALr0AAAAAAGDyPwBB0RILF2Av1Sq3wb+WoxEYpIAuvQAAAAAAQPI/AEHxEgsXkNB8ftfAv/Rb6IiWaQo9AAAAAABA8j8AQZETCxeQ0Hx+18C/9FvoiJZpCj0AAAAAACDyPwBBsRMLF+DbMZHsv7/yM6NcVHUlvQAAAAAAAPI/AEHSEwsWK24HJ76/PADwKiw0Kj0AAAAAAADyPwBB8hMLFituBye+vzwA8CosNCo9AAAAAADg8T8AQZEUCxfAW49UXry/Br5fWFcMHb0AAAAAAMDxPwBBsRQLF+BKOm2Sur/IqlvoNTklPQAAAAAAwPE/AEHRFAsX4Eo6bZK6v8iqW+g1OSU9AAAAAACg8T8AQfEUCxegMdZFw7i/aFYvTSl8Ez0AAAAAAKDxPwBBkRULF6Ax1kXDuL9oVi9NKXwTPQAAAAAAgPE/AEGxFQsXYOWK0vC2v9pzM8k3lya9AAAAAABg8T8AQdEVCxcgBj8HG7W/V17GYVsCHz0AAAAAAGDxPwBB8RULFyAGPwcbtb9XXsZhWwIfPQAAAAAAQPE/AEGRFgsX4BuW10Gzv98T+czaXiw9AAAAAABA8T8AQbEWCxfgG5bXQbO/3xP5zNpeLD0AAAAAACDxPwBB0RYLF4Cj7jZlsb8Jo492XnwUPQAAAAAAAPE/AEHxFgsXgBHAMAqvv5GONoOeWS09AAAAAAAA8T8AQZEXCxeAEcAwCq+/kY42g55ZLT0AAAAAAODwPwBBsRcLF4AZcd1Cq79McNbleoIcPQAAAAAA4PA/AEHRFwsXgBlx3UKrv0xw1uV6ghw9AAAAAADA8D8AQfEXCxfAMvZYdKe/7qHyNEb8LL0AAAAAAMDwPwBBkRgLF8Ay9lh0p7/uofI0RvwsvQAAAAAAoPA/AEGxGAsXwP65h56jv6r+JvW3AvU8AAAAAACg8D8AQdEYCxfA/rmHnqO/qv4m9bcC9TwAAAAAAIDwPwBB8hgLFngOm4Kfv+QJfnwmgCm9AAAAAACA8D8AQZIZCxZ4DpuCn7/kCX58JoApvQAAAAAAYPA/AEGxGQsXgNUHG7mXvzmm+pNUjSi9AAAAAABA8D8AQdIZCxb8sKjAj7+cptP2fB7fvAAAAAAAQPA/AEHyGQsW/LCowI+/nKbT9nwe37wAAAAAACDwPwBBkhoLFhBrKuB/v+RA2g0/4hm9AAAAAAAg8D8AQbIaCxYQayrgf7/kQNoNP+IZvQAAAAAAAPA/AEHmGgsC8D8AQYUbCwPA7z8AQZIbCxaJdRUQgD/oK52Za8cQvQAAAAAAgO8/AEGxGwsXgJNYViCQP9L34gZb3CO9AAAAAABA7z8AQdIbCxbJKCVJmD80DFoyuqAqvQAAAAAAAO8/AEHxGwsXQOeJXUGgP1PX8VzAEQE9AAAAAADA7j8AQZIcCxYu1K5mpD8o/b11cxYsvQAAAAAAgO4/AEGxHAsXwJ8UqpSoP30mWtCVeRm9AAAAAABA7j8AQdEcCxfA3c1zy6w/ByjYR/JoGr0AAAAAACDuPwBB8RwLF8AGwDHqrj97O8lPPhEOvQAAAAAA4O0/AEGRHQsXYEbRO5exP5ueDVZdMiW9AAAAAACg7T8AQbEdCxfg0af1vbM/107bpV7ILD0AAAAAAGDtPwBB0R0LF6CXTVrptT8eHV08BmksvQAAAAAAQO0/AEHxHQsXwOoK0wC3PzLtnamNHuw8AAAAAAAA7T8AQZEeCxdAWV1eM7k/2ke9OlwRIz0AAAAAAMDsPwBBsR4LF2Ctjchquz/laPcrgJATvQAAAAAAoOw/AEHRHgsXQLwBWIi8P9OsWsbRRiY9AAAAAABg7D8AQfEeCxcgCoM5x74/4EXmr2jALb0AAAAAAEDsPwBBkR8LF+DbOZHovz/9CqFP1jQlvQAAAAAAAOw/AEGxHwsX4CeCjhfBP/IHLc547yE9AAAAAADg6z8AQdEfCxfwI34rqsE/NJk4RI6nLD0AAAAAAKDrPwBB8R8LF4CGDGHRwj+htIHLbJ0DPQAAAAAAgOs/AEGRIAsXkBWw/GXDP4lySyOoL8Y8AAAAAABA6z8AQbEgCxewM4M9kcQ/eLb9VHmDJT0AAAAAACDrPwBB0SALF7Ch5OUnxT/HfWnl6DMmPQAAAAAA4Oo/AEHxIAsXEIy+TlfGP3guPCyLzxk9AAAAAADA6j8AQZEhCxdwdYsS8MY/4SGc5Y0RJb0AAAAAAKDqPwBBsSELF1BEhY2Jxz8FQ5FwEGYcvQAAAAAAYOo/AEHSIQsWOeuvvsg/0SzpqlQ9B70AAAAAAEDqPwBB8iELFvfcWlrJP2//oFgo8gc9AAAAAAAA6j8AQZEiCxfgijztk8o/aSFWUENyKL0AAAAAAODpPwBBsSILF9BbV9gxyz+q4axOjTUMvQAAAAAAwOk/AEHRIgsX4Ds4h9DLP7YSVFnESy29AAAAAACg6T8AQfEiCxcQ8Mb7b8w/0iuWxXLs8bwAAAAAAGDpPwBBkSMLF5DUsD2xzT81sBX3Kv8qvQAAAAAAQOk/AEGxIwsXEOf/DlPOPzD0QWAnEsI8AAAAAAAg6T8AQdIjCxbd5K31zj8RjrtlFSHKvAAAAAAAAOk/AEHxIwsXsLNsHJnPPzDfDMrsyxs9AAAAAADA6D8AQZEkCxdYTWA4cdA/kU7tFtuc+DwAAAAAAKDoPwBBsSQLF2BhZy3E0D/p6jwWixgnPQAAAAAAgOg/AEHRJAsX6CeCjhfRPxzwpWMOISy9AAAAAABg6D8AQfEkCxf4rMtca9E/gRal982aKz0AAAAAAEDoPwBBkSULF2haY5m/0T+3vUdR7aYsPQAAAAAAIOg/AEGxJQsXuA5tRRTSP+q6Rrrehwo9AAAAAADg5z8AQdElCxeQ3HzwvtI/9ARQSvqcKj0AAAAAAMDnPwBB8SULF2DT4fEU0z+4PCHTeuIovQAAAAAAoOc/AEGRJgsXEL52Z2vTP8h38bDNbhE9AAAAAACA5z8AQbEmCxcwM3dSwtM/XL0GtlQ7GD0AAAAAAGDnPwBB0SYLF+jVI7QZ1D+d4JDsNuQIPQAAAAAAQOc/AEHxJgsXyHHCjXHUP3XWZwnOJy+9AAAAAAAg5z8AQZEnCxcwF57gydQ/pNgKG4kgLr0AAAAAAADnPwBBsScLF6A4B64i1T9Zx2SBcL4uPQAAAAAA4OY/AEHRJwsX0MhT93vVP+9AXe7trR89AAAAAADA5j8AQfEnCw9gWd+91dU/3GWkCCoLCr0AQY4oC/IP8D9uv4gaTzubPDUz+6k99u8/XdzYnBNgcbxhgHc+muzvP9FmhxB6XpC8hX9u6BXj7z8T9mc1UtKMPHSFFdOw2e8/+o75I4DOi7ze9t0pa9DvP2HI5mFO92A8yJt1GEXH7z+Z0zNb5KOQPIPzxso+vu8/bXuDXaaalzwPiflsWLXvP/zv/ZIatY4890dyK5Ks7z/RnC9wPb4+PKLR0zLso+8/C26QiTQDarwb0/6vZpvvPw69LypSVpW8UVsS0AGT7z9V6k6M74BQvMwxbMC9iu8/FvTVuSPJkbzgLamumoLvP69VXOnj04A8UY6lyJh67z9Ik6XqFRuAvHtRfTy4cu8/PTLeVfAfj7zqjYw4+WrvP79TEz+MiYs8dctv61tj7z8m6xF2nNmWvNRcBITgW+8/YC86PvfsmjyquWgxh1TvP504hsuC54+8Hdn8IlBN7z+Nw6ZEQW+KPNaMYog7Ru8/fQTksAV6gDyW3H2RST/vP5SoqOP9jpY8OGJ1bno47z99SHTyGF6HPD+msk/OMe8/8ucfmCtHgDzdfOJlRSvvP14IcT97uJa8gWP14d8k7z8xqwlt4feCPOHeH/WdHu8/+r9vGpshPbyQ2drQfxjvP7QKDHKCN4s8CwPkpoUS7z+Py86JkhRuPFYvPqmvDO8/tquwTXVNgzwVtzEK/gbvP0x0rOIBQoY8MdhM/HAB7z9K+NNdOd2PPP8WZLII/O4/BFuOO4Cjhrzxn5JfxfbuP2hQS8ztSpK8y6k6N6fx7j+OLVEb+AeZvGbYBW2u7O4/0jaUPujRcbz3n+U02+fuPxUbzrMZGZm85agTwy3j7j9tTCqnSJ+FPCI0Ekym3u4/imkoemASk7wcgKwERdruP1uJF0iPp1i8Ki73IQrW7j8bmklnmyx8vJeoUNn10e4/EazCYO1jQzwtiWFgCM7uP+9kBjsJZpY8VwAd7UHK7j95A6Ha4cxuPNA8wbWixu4/MBIPP47/kzze09fwKsPuP7CvervOkHY8Jyo21dq/7j934FTrvR2TPA3d/ZmyvO4/jqNxADSUj7ynLJ12srnuP0mjk9zM3oe8QmbPotq27j9fOA+9xt54vIJPnVYrtO4/9lx77EYShrwPkl3KpLHuP47X/RgFNZM82ie1Nkev7j8Fm4ovt5h7PP3Hl9QSre4/CVQc4uFjkDwpVEjdB6vuP+rGGVCFxzQ8t0ZZiiap7j81wGQr5jKUPEghrRVvp+4/n3aZYUrkjLwJ3Ha54aXuP6hN7zvFM4y8hVU6sH6k7j+u6SuJeFOEvCDDzDRGo+4/WFhWeN3Ok7wlIlWCOKLuP2QZfoCqEFc8c6lM1FWh7j8oIl6/77OTvM07f2aeoO4/grk0h60Sary/2gt1EqDuP+6pbbjvZ2O8LxplPLKf7j9RiOBUPdyAvISUUfl9n+4/zz5afmQfeLx0X+zodZ/uP7B9i8BK7oa8dIGlSJqf7j+K5lUeMhmGvMlnQlbrn+4/09QJXsuckDw/Xd5PaaDuPx2lTbncMnu8hwHrcxSh7j9rwGdU/eyUPDLBMAHtoe4/VWzWq+HrZTxiTs8286LuP0LPsy/FoYi8Eho+VCek7j80NzvxtmmTvBPOTJmJpe4/Hv8ZOoRegLytxyNGGqfuP25XcthQ1JS87ZJEm9mo7j8Aig5bZ62QPJlmitnHqu4/tOrwwS+3jTzboCpC5azuP//nxZxgtmW8jES1FjKv7j9EX/NZg/Z7PDZ3FZmuse4/gz0epx8Jk7zG/5ELW7TuPykebIu4qV285cXNsDe37j9ZuZB8+SNsvA9SyMtEuu4/qvn0IkNDkrxQTt6fgr3uP0uOZtdsyoW8ugfKcPHA7j8nzpEr/K9xPJDwo4KRxO4/u3MK4TXSbTwjI+MZY8juP2MiYiIExYe8ZeVde2bM7j/VMeLjhhyLPDMtSuyb0O4/Fbu809G7kbxdJT6yA9XuP9Ix7pwxzJA8WLMwE57Z7j+zWnNuhGmEPL/9eVVr3u4/tJ2Ol83fgrx689O/a+PuP4czy5J3Gow8rdNamZ/o7j/62dFKj3uQvGa2jSkH7u4/uq7cVtnDVbz7FU+4ovPuP0D2pj0OpJC8OlnljXL57j80k6049NZovEde+/J2/+4/NYpYa+LukbxKBqEwsAXvP83dXwrX/3Q80sFLkB4M7z+smJL6+72RvAke11vCEu8/swyvMK5uczycUoXdmxnvP5T9n1wy4448etD/X6sg7z+sWQnRj+CEPEvRVy7xJ+8/ZxpOOK/NYzy15waUbS/vP2gZkmwsa2c8aZDv3CA37z/StcyDGIqAvPrDXVULP+8/b/r/P12tj7x8iQdKLUfvP0mpdTiuDZC88okNCIdP7z+nBz2mhaN0PIek+9wYWO8/DyJAIJ6RgryYg8kW42DvP6ySwdVQWo48hTLbA+Zp7z9LawGsWTqEPGC0AfMhc+8/Hz60ByHVgrxfm3szl3zvP8kNRzu5Kom8KaH1FEaG7z/TiDpgBLZ0PPY/i+cukO8/cXKdUezFgzyDTMf7UZrvP/CR048S94+82pCkoq+k7z99dCPimK6NvPFnji1Ir+8/CCCqQbzDjjwnWmHuG7rvPzLrqcOUK4Q8l7prNyvF7z/uhdExqWSKPEBFblt20O8/7eM75Lo3jrwUvpyt/dvvP53NkU07iXc82JCegcHn7z+JzGBBwQVTPPFxjyvC8+8/";var{f64_pow:Ey}=(await WebAssembly.instantiateStreaming(fetch(Ay))).instance.exports;var Gs=new Float64Array(1),vy=new Float32Array(Gs.buffer),Zr=new Int32Array(Gs.buffer);globalThis.f32_as_i32=function(i){return vy[0]=i,Zr[0]};globalThis.i32_as_f32=function(i){return Zr[0]=i,vy[0]};globalThis.f64_as_i64=function(i){return Gs[0]=i,i64_new(Zr[0],Zr[1])};globalThis.i64_as_f64=function(i){return Zr[0]=i64_low(i),Zr[1]=i64_high(i),Gs[0]};globalThis.f64_pow=Ey;import me from"long";globalThis.i64_zero=me.ZERO;globalThis.i64_one=me.ONE;globalThis.i64_neg_one=me.fromInt(-1);globalThis.i64_minimum=me.MIN_VALUE;globalThis.i64_maximum=me.MAX_VALUE;globalThis.i64_is=function(i){return me.isLong(i)};globalThis.i64_new=function(i,e){return me.fromBits(i,e)};globalThis.i64_low=function(i){return i.low};globalThis.i64_high=function(i){return i.high};globalThis.i64_not=function(i){return i.not()};globalThis.i64_neg=function(i){return i.neg()};globalThis.i64_clz=function(i){return i.clz()};globalThis.i64_ctz=function(i){return i.ctz()};globalThis.i64_add=function(i,e){return i.add(e)};globalThis.i64_sub=function(i,e){return i.sub(e)};globalThis.i64_mul=function(i,e){return i.mul(e)};globalThis.i64_pow=function(i,e){let r=e.low,n=e.high;if(n<=0){if(n<0)return i.eq(globalThis.i64_neg_one)?r&1?i:me.ONE:i.eq(me.ONE)?i:me.ZERO;if(r==0)return me.ONE;if(r==1)return i;if(r==2)return i.mul(i)}let s=me.ONE;for(;r|n;)r&1&&(s=s.mul(i)),e=e.shru(1),i=i.mul(i),r=e.low,n=e.high;return s};globalThis.i64_div=function(i,e){return i.div(e)};globalThis.i64_div_u=function(i,e){return i.toUnsigned().div(e.toUnsigned()).toSigned()};globalThis.i64_rem=function(i,e){return i.mod(e)};globalThis.i64_rem_u=function(i,e){return i.toUnsigned().mod(e.toUnsigned()).toSigned()};globalThis.i64_and=function(i,e){return i.and(e)};globalThis.i64_or=function(i,e){return i.or(e)};globalThis.i64_xor=function(i,e){return i.xor(e)};globalThis.i64_shl=function(i,e){return i.shl(e)};globalThis.i64_shr=function(i,e){return i.shr(e)};globalThis.i64_shr_u=function(i,e){return i.shru(e)};globalThis.i64_eq=function(i,e){return i.eq(e)};globalThis.i64_ne=function(i,e){return i.ne(e)};globalThis.i64_ge=function(i,e){return i.ge(e)};globalThis.i64_ge_u=function(i,e){return i.toUnsigned().ge(e.toUnsigned())};globalThis.i64_gt=function(i,e){return i.gt(e)};globalThis.i64_gt_u=function(i,e){return i.toUnsigned().gt(e.toUnsigned())};globalThis.i64_le=function(i,e){return i.le(e)};globalThis.i64_le_u=function(i,e){return i.toUnsigned().le(e.toUnsigned())};globalThis.i64_lt=function(i,e){return i.lt(e)};globalThis.i64_lt_u=function(i,e){return i.toUnsigned().lt(e.toUnsigned())};globalThis.i64_align=function(i,e){assert(e&&(e&e-1)==0);let r=me.fromInt(e-1);return i.add(r).and(r.not())};globalThis.i64_signbit=function(i){return!!(i.high>>>31)};globalThis.i64_is_i8=function(i){return i.high===0&&i.low>=0&&i.low<=i8.MAX_VALUE||i.high===-1&&i.low>=i8.MIN_VALUE&&i.low<0};globalThis.i64_is_i16=function(i){return i.high===0&&i.low>=0&&i.low<=i16.MAX_VALUE||i.high===-1&&i.low>=i16.MIN_VALUE&&i.low<0};globalThis.i64_is_i32=function(i){return i.high===0&&i.low>=0||i.high===-1&&i.low<0};globalThis.i64_is_u8=function(i){return i.high===0&&i.low>>>0<=u8.MAX_VALUE};globalThis.i64_is_u16=function(i){return i.high===0&&i.low>>>0<=u16.MAX_VALUE};globalThis.i64_is_u32=function(i){return i.high===0};globalThis.i64_is_bool=function(i){return(i.high|i.low&-2)===0};var fx=me.fromNumber(f32.MIN_SAFE_INTEGER),hx=me.fromNumber(f32.MAX_SAFE_INTEGER);globalThis.i64_is_f32=function(i){return i.gte(fx)&&i.lte(hx)};var dx=me.fromNumber(f64.MIN_SAFE_INTEGER),mx=me.fromNumber(f64.MAX_SAFE_INTEGER);globalThis.i64_is_f64=function(i){return i.gte(dx)&&i.lte(mx)};globalThis.i64_to_f32=function(i){return globalThis.Math.fround(i.toNumber())};globalThis.i64_to_f64=function(i){return i.toNumber()};globalThis.i64_to_string=function(i,e){return e?i.toUnsigned().toString():i.toString()};globalThis.i64_clone=function(i){return me.fromBits(i.low,i.high,i.unsigned)};globalThis.Map_keys=function(i){return Array.from(i.keys())};globalThis.Map_values=function(i){return Array.from(i.values())};globalThis.Set_values=function(i){return Array.from(i.values())};var Ut=(A=>(A[A.None=0]="None",A[A.SignExtension=1]="SignExtension",A[A.MutableGlobals=2]="MutableGlobals",A[A.NontrappingF2I=4]="NontrappingF2I",A[A.BulkMemory=8]="BulkMemory",A[A.Simd=16]="Simd",A[A.Threads=32]="Threads",A[A.ExceptionHandling=64]="ExceptionHandling",A[A.TailCalls=128]="TailCalls",A[A.ReferenceTypes=256]="ReferenceTypes",A[A.MultiValue=512]="MultiValue",A[A.GC=1024]="GC",A[A.Memory64=2048]="Memory64",A[A.RelaxedSimd=4096]="RelaxedSimd",A[A.ExtendedConst=8192]="ExtendedConst",A[A.Stringref=16384]="Stringref",A[A.All=32767]="All",A))(Ut||{});function Yr(t){switch(t){case 1:return"sign-extension";case 2:return"mutable-globals";case 4:return"nontrapping-f2i";case 8:return"bulk-memory";case 16:return"simd";case 32:return"threads";case 64:return"exception-handling";case 128:return"tail-calls";case 256:return"reference-types";case 512:return"multi-value";case 1024:return"gc";case 2048:return"memory64";case 4096:return"relaxed-simd";case 8192:return"extended-const";case 16384:return"stringref"}return assert(!1),""}var $r=(r=>(r[r.Js=0]="Js",r[r.Wasm32=1]="Wasm32",r[r.Wasm64=2]="Wasm64",r))($r||{});var zs=(r=>(r[r.Stub=0]="Stub",r[r.Minimal=1]="Minimal",r[r.Incremental=2]="Incremental",r))(zs||{});var Jr=class{constructor(){this.flags=0}};Jr=Lc([unmanaged],Jr);var Us=(D=>(D[D.NONE=0]="NONE",D[D.ARRAYBUFFERVIEW=1]="ARRAYBUFFERVIEW",D[D.ARRAY=2]="ARRAY",D[D.STATICARRAY=4]="STATICARRAY",D[D.SET=8]="SET",D[D.MAP=16]="MAP",D[D.POINTERFREE=32]="POINTERFREE",D[D.VALUE_ALIGN_0=64]="VALUE_ALIGN_0",D[D.VALUE_ALIGN_1=128]="VALUE_ALIGN_1",D[D.VALUE_ALIGN_2=256]="VALUE_ALIGN_2",D[D.VALUE_ALIGN_3=512]="VALUE_ALIGN_3",D[D.VALUE_ALIGN_4=1024]="VALUE_ALIGN_4",D[D.VALUE_SIGNED=2048]="VALUE_SIGNED",D[D.VALUE_FLOAT=4096]="VALUE_FLOAT",D[D.VALUE_NULLABLE=8192]="VALUE_NULLABLE",D[D.VALUE_MANAGED=16384]="VALUE_MANAGED",D[D.KEY_ALIGN_0=32768]="KEY_ALIGN_0",D[D.KEY_ALIGN_1=65536]="KEY_ALIGN_1",D[D.KEY_ALIGN_2=131072]="KEY_ALIGN_2",D[D.KEY_ALIGN_3=262144]="KEY_ALIGN_3",D[D.KEY_ALIGN_4=524288]="KEY_ALIGN_4",D[D.KEY_SIGNED=1048576]="KEY_SIGNED",D[D.KEY_FLOAT=2097152]="KEY_FLOAT",D[D.KEY_NULLABLE=4194304]="KEY_NULLABLE",D[D.KEY_MANAGED=8388608]="KEY_MANAGED",D))(Us||{});var Ve=(Q=>(Q[Q.None=0]="None",Q[Q.Import=1]="Import",Q[Q.Export=2]="Export",Q[Q.Declare=4]="Declare",Q[Q.Const=8]="Const",Q[Q.Let=16]="Let",Q[Q.Static=32]="Static",Q[Q.Readonly=64]="Readonly",Q[Q.Abstract=128]="Abstract",Q[Q.Public=256]="Public",Q[Q.Private=512]="Private",Q[Q.Protected=1024]="Protected",Q[Q.Get=2048]="Get",Q[Q.Set=4096]="Set",Q[Q.Override=8192]="Override",Q[Q.DefinitelyAssigned=16384]="DefinitelyAssigned",Q[Q.Ambient=32768]="Ambient",Q[Q.Generic=65536]="Generic",Q[Q.GenericContext=131072]="GenericContext",Q[Q.Instance=262144]="Instance",Q[Q.Constructor=524288]="Constructor",Q[Q.ModuleExport=1048576]="ModuleExport",Q[Q.ModuleImport=2097152]="ModuleImport",Q[Q.Resolved=4194304]="Resolved",Q[Q.Compiled=8388608]="Compiled",Q[Q.Errored=16777216]="Errored",Q[Q.Inlined=33554432]="Inlined",Q[Q.Scoped=67108864]="Scoped",Q[Q.Stub=134217728]="Stub",Q[Q.Overridden=268435456]="Overridden",Q[Q.Closure=536870912]="Closure",Q[Q.Quoted=1073741824]="Quoted",Q[Q.InternallyNullable=-2147483648]="InternallyNullable",Q))(Ve||{}),Ye="/",yx="..",Ds="get:",Vs="set:",ju="#",ln=".",Xu="~",Os="~lib",nt=Os+Ye,Ne=Ye+"index",Zu="@",P;(G=>(G.Empty="",G.i8="i8",G.i16="i16",G.i32="i32",G.i64="i64",G.isize="isize",G.u8="u8",G.u16="u16",G.u32="u32",G.u64="u64",G.usize="usize",G.bool="bool",G.f32="f32",G.f64="f64",G.v128="v128",G.ref_func="ref_func",G.ref_extern="ref_extern",G.ref_any="ref_any",G.ref_eq="ref_eq",G.ref_struct="ref_struct",G.ref_array="ref_array",G.ref_i31="ref_i31",G.ref_string="ref_string",G.ref_stringview_wtf8="ref_stringview_wtf8",G.ref_stringview_wtf16="ref_stringview_wtf16",G.ref_stringview_iter="ref_stringview_iter",G.i8x16="i8x16",G.u8x16="u8x16",G.i16x8="i16x8",G.u16x8="u16x8",G.i32x4="i32x4",G.u32x4="u32x4",G.i64x2="i64x2",G.u64x2="u64x2",G.f32x4="f32x4",G.f64x2="f64x2",G.void_="void",G.number="number",G.boolean="boolean",G.string="string",G.native="native",G.indexof="indexof",G.valueof="valueof",G.returnof="returnof",G.nonnull="nonnull",G.null_="null",G.true_="true",G.false_="false",G.this_="this",G.super_="super",G.constructor="constructor",G.ASC_TARGET="ASC_TARGET",G.ASC_RUNTIME="ASC_RUNTIME",G.ASC_NO_ASSERT="ASC_NO_ASSERT",G.ASC_MEMORY_BASE="ASC_MEMORY_BASE",G.ASC_TABLE_BASE="ASC_TABLE_BASE",G.ASC_OPTIMIZE_LEVEL="ASC_OPTIMIZE_LEVEL",G.ASC_SHRINK_LEVEL="ASC_SHRINK_LEVEL",G.ASC_LOW_MEMORY_LIMIT="ASC_LOW_MEMORY_LIMIT",G.ASC_EXPORT_RUNTIME="ASC_EXPORT_RUNTIME",G.ASC_FEATURE_SIGN_EXTENSION="ASC_FEATURE_SIGN_EXTENSION",G.ASC_FEATURE_MUTABLE_GLOBALS="ASC_FEATURE_MUTABLE_GLOBALS",G.ASC_FEATURE_NONTRAPPING_F2I="ASC_FEATURE_NONTRAPPING_F2I",G.ASC_FEATURE_BULK_MEMORY="ASC_FEATURE_BULK_MEMORY",G.ASC_FEATURE_SIMD="ASC_FEATURE_SIMD",G.ASC_FEATURE_THREADS="ASC_FEATURE_THREADS",G.ASC_FEATURE_EXCEPTION_HANDLING="ASC_FEATURE_EXCEPTION_HANDLING",G.ASC_FEATURE_TAIL_CALLS="ASC_FEATURE_TAIL_CALLS",G.ASC_FEATURE_REFERENCE_TYPES="ASC_FEATURE_REFERENCE_TYPES",G.ASC_FEATURE_MULTI_VALUE="ASC_FEATURE_MULTI_VALUE",G.ASC_FEATURE_GC="ASC_FEATURE_GC",G.ASC_FEATURE_MEMORY64="ASC_FEATURE_MEMORY64",G.ASC_FEATURE_RELAXED_SIMD="ASC_FEATURE_RELAXED_SIMD",G.ASC_FEATURE_EXTENDED_CONST="ASC_FEATURE_EXTENDED_CONST",G.ASC_FEATURE_STRINGREF="ASC_FEATURE_STRINGREF",G.ASC_VERSION_MAJOR="ASC_VERSION_MAJOR",G.ASC_VERSION_MINOR="ASC_VERSION_MINOR",G.ASC_VERSION_PATCH="ASC_VERSION_PATCH",G.I8="I8",G.I16="I16",G.I32="I32",G.I64="I64",G.Isize="Isize",G.U8="U8",G.U16="U16",G.U32="U32",G.U64="U64",G.Usize="Usize",G.Bool="Bool",G.F32="F32",G.F64="F64",G.V128="V128",G.RefFunc="RefFunc",G.RefExtern="RefExtern",G.RefAny="RefAny",G.RefEq="RefEq",G.RefStruct="RefStruct",G.RefArray="RefArray",G.RefI31="RefI31",G.RefString="RefString",G.String="String",G.RegExp="RegExp",G.Object="Object",G.Array="Array",G.StaticArray="StaticArray",G.Set="Set",G.Map="Map",G.Function="Function",G.ArrayBufferView="ArrayBufferView",G.ArrayBuffer="ArrayBuffer",G.Math="Math",G.Mathf="Mathf",G.NativeMath="NativeMath",G.NativeMathf="NativeMathf",G.Int8Array="Int8Array",G.Int16Array="Int16Array",G.Int32Array="Int32Array",G.Int64Array="Int64Array",G.Uint8Array="Uint8Array",G.Uint8ClampedArray="Uint8ClampedArray",G.Uint16Array="Uint16Array",G.Uint32Array="Uint32Array",G.Uint64Array="Uint64Array",G.Float32Array="Float32Array",G.Float64Array="Float64Array",G.TemplateStringsArray="TemplateStringsArray",G.Error="Error",G.abort="abort",G.trace="trace",G.seed="seed",G.pow="pow",G.ipow32="ipow32",G.ipow64="ipow64",G.mod="mod",G.alloc="__alloc",G.realloc="__realloc",G.free="__free",G.new_="__new",G.renew="__renew",G.link="__link",G.collect="__collect",G.visit="__visit",G.newBuffer="__newBuffer",G.newArray="__newArray",G.BLOCK="~lib/rt/common/BLOCK",G.OBJECT="~lib/rt/common/OBJECT",G.DefaultMemory="0",G.DefaultTable="0"))(P||={});var st=(v=>(v[v.Not_implemented_0=100]="Not_implemented_0",v[v.Operation_is_unsafe=101]="Operation_is_unsafe",v[v.User_defined_0=102]="User_defined_0",v[v.Feature_0_is_not_enabled=103]="Feature_0_is_not_enabled",v[v.Low_memory_limit_exceeded_by_static_data_0_1=104]="Low_memory_limit_exceeded_by_static_data_0_1",v[v.Module_requires_at_least_0_pages_of_initial_memory=105]="Module_requires_at_least_0_pages_of_initial_memory",v[v.Module_requires_at_least_0_pages_of_maximum_memory=106]="Module_requires_at_least_0_pages_of_maximum_memory",v[v.Shared_memory_requires_maximum_memory_to_be_defined=107]="Shared_memory_requires_maximum_memory_to_be_defined",v[v.Shared_memory_requires_feature_threads_to_be_enabled=108]="Shared_memory_requires_feature_threads_to_be_enabled",v[v.Transform_0_1=109]="Transform_0_1",v[v.Start_function_name_0_is_invalid_or_conflicts_with_another_export=110]="Start_function_name_0_is_invalid_or_conflicts_with_another_export",v[v.Element_0_not_found=111]="Element_0_not_found",v[v.Exchange_of_0_values_is_not_supported_by_all_embeddings=112]="Exchange_of_0_values_is_not_supported_by_all_embeddings",v[v.Conversion_from_type_0_to_1_requires_an_explicit_cast=200]="Conversion_from_type_0_to_1_requires_an_explicit_cast",v[v.Conversion_from_type_0_to_1_will_require_an_explicit_cast_when_switching_between_32_64_bit=201]="Conversion_from_type_0_to_1_will_require_an_explicit_cast_when_switching_between_32_64_bit",v[v.Type_0_cannot_be_changed_to_type_1=202]="Type_0_cannot_be_changed_to_type_1",v[v.Operation_0_cannot_be_applied_to_type_1=203]="Operation_0_cannot_be_applied_to_type_1",v[v.Type_0_cannot_be_nullable=204]="Type_0_cannot_be_nullable",v[v.Mutable_value_cannot_be_inlined=206]="Mutable_value_cannot_be_inlined",v[v.Unmanaged_classes_cannot_extend_managed_classes_and_vice_versa=207]="Unmanaged_classes_cannot_extend_managed_classes_and_vice_versa",v[v.Unmanaged_classes_cannot_implement_interfaces=208]="Unmanaged_classes_cannot_implement_interfaces",v[v.Invalid_regular_expression_flags=209]="Invalid_regular_expression_flags",v[v.Expression_is_never_null=210]="Expression_is_never_null",v[v.Class_0_is_final_and_cannot_be_extended=211]="Class_0_is_final_and_cannot_be_extended",v[v.Decorator_0_is_not_valid_here=212]="Decorator_0_is_not_valid_here",v[v.Duplicate_decorator=213]="Duplicate_decorator",v[v.Type_0_is_illegal_in_this_context=214]="Type_0_is_illegal_in_this_context",v[v.Optional_parameter_must_have_an_initializer=215]="Optional_parameter_must_have_an_initializer",v[v.Class_0_cannot_declare_a_constructor_when_instantiated_from_an_object_literal=216]="Class_0_cannot_declare_a_constructor_when_instantiated_from_an_object_literal",v[v.Function_0_cannot_be_inlined_into_itself=217]="Function_0_cannot_be_inlined_into_itself",v[v.Cannot_access_method_0_without_calling_it_as_it_requires_this_to_be_set=218]="Cannot_access_method_0_without_calling_it_as_it_requires_this_to_be_set",v[v.Optional_properties_are_not_supported=219]="Optional_properties_are_not_supported",v[v.Expression_must_be_a_compile_time_constant=220]="Expression_must_be_a_compile_time_constant",v[v.Type_0_is_not_a_function_index_or_function_reference=221]="Type_0_is_not_a_function_index_or_function_reference",v[v._0_must_be_a_value_between_1_and_2_inclusive=222]="_0_must_be_a_value_between_1_and_2_inclusive",v[v._0_must_be_a_power_of_two=223]="_0_must_be_a_power_of_two",v[v._0_is_not_a_valid_operator=224]="_0_is_not_a_valid_operator",v[v.Expression_cannot_be_represented_by_a_type=225]="Expression_cannot_be_represented_by_a_type",v[v.Expression_resolves_to_unusual_type_0=226]="Expression_resolves_to_unusual_type_0",v[v.Array_literal_expected=227]="Array_literal_expected",v[v.Function_0_is_virtual_and_will_not_be_inlined=228]="Function_0_is_virtual_and_will_not_be_inlined",v[v.Property_0_only_has_a_setter_and_is_missing_a_getter=229]="Property_0_only_has_a_setter_and_is_missing_a_getter",v[v._0_keyword_cannot_be_used_here=230]="_0_keyword_cannot_be_used_here",v[v.A_class_with_a_constructor_explicitly_returning_something_else_than_this_must_be_final=231]="A_class_with_a_constructor_explicitly_returning_something_else_than_this_must_be_final",v[v.Property_0_is_always_assigned_before_being_used=233]="Property_0_is_always_assigned_before_being_used",v[v.Expression_does_not_compile_to_a_value_at_runtime=234]="Expression_does_not_compile_to_a_value_at_runtime",v[v.Only_variables_functions_and_enums_become_WebAssembly_module_exports=235]="Only_variables_functions_and_enums_become_WebAssembly_module_exports",v[v.Literal_0_does_not_fit_into_i64_or_u64_types=236]="Literal_0_does_not_fit_into_i64_or_u64_types",v[v.Index_signature_accessors_in_type_0_differ_in_types=237]="Index_signature_accessors_in_type_0_differ_in_types",v[v.Initializer_definitive_assignment_or_nullable_type_expected=238]="Initializer_definitive_assignment_or_nullable_type_expected",v[v.Definitive_assignment_has_no_effect_on_local_variables=239]="Definitive_assignment_has_no_effect_on_local_variables",v[v.Ambiguous_operator_overload_0_conflicting_overloads_1_and_2=240]="Ambiguous_operator_overload_0_conflicting_overloads_1_and_2",v[v.Importing_the_table_disables_some_indirect_call_optimizations=901]="Importing_the_table_disables_some_indirect_call_optimizations",v[v.Exporting_the_table_disables_some_indirect_call_optimizations=902]="Exporting_the_table_disables_some_indirect_call_optimizations",v[v.Expression_compiles_to_a_dynamic_check_at_runtime=903]="Expression_compiles_to_a_dynamic_check_at_runtime",v[v.Indexed_access_may_involve_bounds_checking=904]="Indexed_access_may_involve_bounds_checking",v[v.Explicitly_returning_constructor_drops_this_allocation=905]="Explicitly_returning_constructor_drops_this_allocation",v[v.Unnecessary_definite_assignment=906]="Unnecessary_definite_assignment",v[v._NaN_does_not_compare_equal_to_any_other_value_including_itself_Use_isNaN_x_instead=907]="_NaN_does_not_compare_equal_to_any_other_value_including_itself_Use_isNaN_x_instead",v[v.Comparison_with_0_0_is_sign_insensitive_Use_Object_is_x_0_0_if_the_sign_matters=908]="Comparison_with_0_0_is_sign_insensitive_Use_Object_is_x_0_0_if_the_sign_matters",v[v.Unterminated_string_literal=1002]="Unterminated_string_literal",v[v.Identifier_expected=1003]="Identifier_expected",v[v._0_expected=1005]="_0_expected",v[v.A_file_cannot_have_a_reference_to_itself=1006]="A_file_cannot_have_a_reference_to_itself",v[v.Trailing_comma_not_allowed=1009]="Trailing_comma_not_allowed",v[v.Unexpected_token=1012]="Unexpected_token",v[v.A_rest_parameter_must_be_last_in_a_parameter_list=1014]="A_rest_parameter_must_be_last_in_a_parameter_list",v[v.Parameter_cannot_have_question_mark_and_initializer=1015]="Parameter_cannot_have_question_mark_and_initializer",v[v.A_required_parameter_cannot_follow_an_optional_parameter=1016]="A_required_parameter_cannot_follow_an_optional_parameter",v[v._0_modifier_cannot_appear_on_class_elements_of_this_kind=1031]="_0_modifier_cannot_appear_on_class_elements_of_this_kind",v[v.Statements_are_not_allowed_in_ambient_contexts=1036]="Statements_are_not_allowed_in_ambient_contexts",v[v.Initializers_are_not_allowed_in_ambient_contexts=1039]="Initializers_are_not_allowed_in_ambient_contexts",v[v._0_modifier_cannot_be_used_here=1042]="_0_modifier_cannot_be_used_here",v[v.A_rest_parameter_cannot_be_optional=1047]="A_rest_parameter_cannot_be_optional",v[v.A_rest_parameter_cannot_have_an_initializer=1048]="A_rest_parameter_cannot_have_an_initializer",v[v.A_set_accessor_must_have_exactly_one_parameter=1049]="A_set_accessor_must_have_exactly_one_parameter",v[v.A_set_accessor_parameter_cannot_have_an_initializer=1052]="A_set_accessor_parameter_cannot_have_an_initializer",v[v.A_get_accessor_cannot_have_parameters=1054]="A_get_accessor_cannot_have_parameters",v[v.Enum_member_must_have_initializer=1061]="Enum_member_must_have_initializer",v[v.Type_parameters_cannot_appear_on_a_constructor_declaration=1092]="Type_parameters_cannot_appear_on_a_constructor_declaration",v[v.Type_annotation_cannot_appear_on_a_constructor_declaration=1093]="Type_annotation_cannot_appear_on_a_constructor_declaration",v[v.An_accessor_cannot_have_type_parameters=1094]="An_accessor_cannot_have_type_parameters",v[v.A_set_accessor_cannot_have_a_return_type_annotation=1095]="A_set_accessor_cannot_have_a_return_type_annotation",v[v.Type_parameter_list_cannot_be_empty=1098]="Type_parameter_list_cannot_be_empty",v[v.Type_argument_list_cannot_be_empty=1099]="Type_argument_list_cannot_be_empty",v[v.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement=1104]="A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement",v[v.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement=1105]="A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement",v[v.A_return_statement_can_only_be_used_within_a_function_body=1108]="A_return_statement_can_only_be_used_within_a_function_body",v[v.Expression_expected=1109]="Expression_expected",v[v.Type_expected=1110]="Type_expected",v[v.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement=1113]="A_default_clause_cannot_appear_more_than_once_in_a_switch_statement",v[v.Duplicate_label_0=1114]="Duplicate_label_0",v[v.An_export_assignment_cannot_have_modifiers=1120]="An_export_assignment_cannot_have_modifiers",v[v.Octal_literals_are_not_allowed_in_strict_mode=1121]="Octal_literals_are_not_allowed_in_strict_mode",v[v.Digit_expected=1124]="Digit_expected",v[v.Hexadecimal_digit_expected=1125]="Hexadecimal_digit_expected",v[v.Unexpected_end_of_text=1126]="Unexpected_end_of_text",v[v.Invalid_character=1127]="Invalid_character",v[v._case_or_default_expected=1130]="_case_or_default_expected",v[v._super_must_be_followed_by_an_argument_list_or_member_access=1034]="_super_must_be_followed_by_an_argument_list_or_member_access",v[v.A_declare_modifier_cannot_be_used_in_an_already_ambient_context=1038]="A_declare_modifier_cannot_be_used_in_an_already_ambient_context",v[v.Type_argument_expected=1140]="Type_argument_expected",v[v.String_literal_expected=1141]="String_literal_expected",v[v.Line_break_not_permitted_here=1142]="Line_break_not_permitted_here",v[v.Declaration_expected=1146]="Declaration_expected",v[v._const_declarations_must_be_initialized=1155]="_const_declarations_must_be_initialized",v[v.Unterminated_regular_expression_literal=1161]="Unterminated_regular_expression_literal",v[v.Declarations_with_initializers_cannot_also_have_definite_assignment_assertions=1263]="Declarations_with_initializers_cannot_also_have_definite_assignment_assertions",v[v.Interface_declaration_cannot_have_implements_clause=1176]="Interface_declaration_cannot_have_implements_clause",v[v.Binary_digit_expected=1177]="Binary_digit_expected",v[v.Octal_digit_expected=1178]="Octal_digit_expected",v[v.An_implementation_cannot_be_declared_in_ambient_contexts=1183]="An_implementation_cannot_be_declared_in_ambient_contexts",v[v.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer=1190]="The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer",v[v.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive=1198]="An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive",v[v.Unterminated_Unicode_escape_sequence=1199]="Unterminated_Unicode_escape_sequence",v[v.Decorators_are_not_valid_here=1206]="Decorators_are_not_valid_here",v[v._abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration=1242]="_abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration",v[v.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract=1245]="Method_0_cannot_have_an_implementation_because_it_is_marked_abstract",v[v.An_interface_property_cannot_have_an_initializer=1246]="An_interface_property_cannot_have_an_initializer",v[v.A_definite_assignment_assertion_is_not_permitted_in_this_context=1255]="A_definite_assignment_assertion_is_not_permitted_in_this_context",v[v.A_class_may_only_extend_another_class=1311]="A_class_may_only_extend_another_class",v[v.A_parameter_property_cannot_be_declared_using_a_rest_parameter=1317]="A_parameter_property_cannot_be_declared_using_a_rest_parameter",v[v.A_default_export_can_only_be_used_in_a_module=1319]="A_default_export_can_only_be_used_in_a_module",v[v.An_expression_of_type_0_cannot_be_tested_for_truthiness=1345]="An_expression_of_type_0_cannot_be_tested_for_truthiness",v[v.An_identifier_or_keyword_cannot_immediately_follow_a_numeric_literal=1351]="An_identifier_or_keyword_cannot_immediately_follow_a_numeric_literal",v[v.Duplicate_identifier_0=2300]="Duplicate_identifier_0",v[v.Cannot_find_name_0=2304]="Cannot_find_name_0",v[v.Module_0_has_no_exported_member_1=2305]="Module_0_has_no_exported_member_1",v[v.An_interface_can_only_extend_an_interface=2312]="An_interface_can_only_extend_an_interface",v[v.Generic_type_0_requires_1_type_argument_s=2314]="Generic_type_0_requires_1_type_argument_s",v[v.Type_0_is_not_generic=2315]="Type_0_is_not_generic",v[v.Type_0_is_not_assignable_to_type_1=2322]="Type_0_is_not_assignable_to_type_1",v[v.Property_0_is_private_in_type_1_but_not_in_type_2=2325]="Property_0_is_private_in_type_1_but_not_in_type_2",v[v.Index_signature_is_missing_in_type_0=2329]="Index_signature_is_missing_in_type_0",v[v._this_cannot_be_referenced_in_current_location=2332]="_this_cannot_be_referenced_in_current_location",v[v._this_cannot_be_referenced_in_constructor_arguments=2333]="_this_cannot_be_referenced_in_constructor_arguments",v[v._super_can_only_be_referenced_in_a_derived_class=2335]="_super_can_only_be_referenced_in_a_derived_class",v[v._super_cannot_be_referenced_in_constructor_arguments=2336]="_super_cannot_be_referenced_in_constructor_arguments",v[v.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors=2337]="Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors",v[v.Property_0_does_not_exist_on_type_1=2339]="Property_0_does_not_exist_on_type_1",v[v.Property_0_is_private_and_only_accessible_within_class_1=2341]="Property_0_is_private_and_only_accessible_within_class_1",v[v.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures=2349]="Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures",v[v.This_expression_is_not_constructable=2351]="This_expression_is_not_constructable",v[v.A_function_whose_declared_type_is_not_void_must_return_a_value=2355]="A_function_whose_declared_type_is_not_void_must_return_a_value",v[v.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access=2357]="The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access",v[v.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access=2364]="The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access",v[v.Operator_0_cannot_be_applied_to_types_1_and_2=2365]="Operator_0_cannot_be_applied_to_types_1_and_2",v[v.A_super_call_must_be_the_first_statement_in_the_constructor=2376]="A_super_call_must_be_the_first_statement_in_the_constructor",v[v.Constructors_for_derived_classes_must_contain_a_super_call=2377]="Constructors_for_derived_classes_must_contain_a_super_call",v[v._get_and_set_accessor_must_have_the_same_type=2380]="_get_and_set_accessor_must_have_the_same_type",v[v.Overload_signatures_must_all_be_public_private_or_protected=2385]="Overload_signatures_must_all_be_public_private_or_protected",v[v.Constructor_implementation_is_missing=2390]="Constructor_implementation_is_missing",v[v.Function_implementation_is_missing_or_not_immediately_following_the_declaration=2391]="Function_implementation_is_missing_or_not_immediately_following_the_declaration",v[v.Multiple_constructor_implementations_are_not_allowed=2392]="Multiple_constructor_implementations_are_not_allowed",v[v.Duplicate_function_implementation=2393]="Duplicate_function_implementation",v[v.This_overload_signature_is_not_compatible_with_its_implementation_signature=2394]="This_overload_signature_is_not_compatible_with_its_implementation_signature",v[v.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local=2395]="Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local",v[v.Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2=2416]="Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2",v[v.A_class_can_only_implement_an_interface=2422]="A_class_can_only_implement_an_interface",v[v.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged=2434]="A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged",v[v.Types_have_separate_declarations_of_a_private_property_0=2442]="Types_have_separate_declarations_of_a_private_property_0",v[v.Property_0_is_protected_in_type_1_but_public_in_type_2=2444]="Property_0_is_protected_in_type_1_but_public_in_type_2",v[v.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses=2445]="Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses",v[v.Variable_0_used_before_its_declaration=2448]="Variable_0_used_before_its_declaration",v[v.Cannot_redeclare_block_scoped_variable_0=2451]="Cannot_redeclare_block_scoped_variable_0",v[v.The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly=2453]="The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly",v[v.Variable_0_is_used_before_being_assigned=2454]="Variable_0_is_used_before_being_assigned",v[v.Type_alias_0_circularly_references_itself=2456]="Type_alias_0_circularly_references_itself",v[v.Type_0_has_no_property_1=2460]="Type_0_has_no_property_1",v[v.The_0_operator_cannot_be_applied_to_type_1=2469]="The_0_operator_cannot_be_applied_to_type_1",v[v.In_const_enum_declarations_member_initializer_must_be_constant_expression=2474]="In_const_enum_declarations_member_initializer_must_be_constant_expression",v[v.Export_declaration_conflicts_with_exported_declaration_of_0=2484]="Export_declaration_conflicts_with_exported_declaration_of_0",v[v._0_is_referenced_directly_or_indirectly_in_its_own_base_expression=2506]="_0_is_referenced_directly_or_indirectly_in_its_own_base_expression",v[v.Cannot_create_an_instance_of_an_abstract_class=2511]="Cannot_create_an_instance_of_an_abstract_class",v[v.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_2=2515]="Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_2",v[v.Object_is_possibly_null=2531]="Object_is_possibly_null",v[v.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property=2540]="Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property",v[v.The_target_of_an_assignment_must_be_a_variable_or_a_property_access=2541]="The_target_of_an_assignment_must_be_a_variable_or_a_property_access",v[v.Index_signature_in_type_0_only_permits_reading=2542]="Index_signature_in_type_0_only_permits_reading",v[v.Expected_0_arguments_but_got_1=2554]="Expected_0_arguments_but_got_1",v[v.Expected_at_least_0_arguments_but_got_1=2555]="Expected_at_least_0_arguments_but_got_1",v[v.Expected_0_type_arguments_but_got_1=2558]="Expected_0_type_arguments_but_got_1",v[v.Property_0_has_no_initializer_and_is_not_assigned_in_the_constructor_before_this_is_used_or_returned=2564]="Property_0_has_no_initializer_and_is_not_assigned_in_the_constructor_before_this_is_used_or_returned",v[v.Property_0_is_used_before_being_assigned=2565]="Property_0_is_used_before_being_assigned",v[v._0_is_defined_as_an_accessor_in_class_1_but_is_overridden_here_in_2_as_an_instance_property=2610]="_0_is_defined_as_an_accessor_in_class_1_but_is_overridden_here_in_2_as_an_instance_property",v[v._0_is_defined_as_a_property_in_class_1_but_is_overridden_here_in_2_as_an_accessor=2611]="_0_is_defined_as_a_property_in_class_1_but_is_overridden_here_in_2_as_an_accessor",v[v.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums=2651]="A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums",v[v.Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration=2673]="Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration",v[v.Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration=2674]="Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration",v[v.Cannot_extend_a_class_0_Class_constructor_is_marked_as_private=2675]="Cannot_extend_a_class_0_Class_constructor_is_marked_as_private",v[v.The_this_types_of_each_signature_are_incompatible=2685]="The_this_types_of_each_signature_are_incompatible",v[v.Namespace_0_has_no_exported_member_1=2694]="Namespace_0_has_no_exported_member_1",v[v.Namespace_can_only_have_declarations=2695]="Namespace_can_only_have_declarations",v[v.Required_type_parameters_may_not_follow_optional_type_parameters=2706]="Required_type_parameters_may_not_follow_optional_type_parameters",v[v.Duplicate_property_0=2718]="Duplicate_property_0",v[v.Property_0_is_missing_in_type_1_but_required_in_type_2=2741]="Property_0_is_missing_in_type_1_but_required_in_type_2",v[v.Type_0_has_no_call_signatures=2757]="Type_0_has_no_call_signatures",v[v.Get_accessor_0_must_be_at_least_as_accessible_as_the_setter=2808]="Get_accessor_0_must_be_at_least_as_accessible_as_the_setter",v[v.This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0=4117]="This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0",v[v.File_0_not_found=6054]="File_0_not_found",v[v.Numeric_separators_are_not_allowed_here=6188]="Numeric_separators_are_not_allowed_here",v[v.Multiple_consecutive_numeric_separators_are_not_permitted=6189]="Multiple_consecutive_numeric_separators_are_not_permitted",v[v.This_expression_is_not_callable_because_it_is_a_get_accessor_Did_you_mean_to_use_it_without=6234]="This_expression_is_not_callable_because_it_is_a_get_accessor_Did_you_mean_to_use_it_without",v[v._super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class=17009]="_super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class",v[v._super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class=17011]="_super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class",v))(st||{});function qs(t){switch(t){case 100:return"Not implemented: {0}";case 101:return"Operation is unsafe.";case 102:return"User-defined: {0}";case 103:return"Feature '{0}' is not enabled.";case 104:return"Low memory limit exceeded by static data: {0} > {1}";case 105:return"Module requires at least '{0}' pages of initial memory.";case 106:return"Module requires at least '{0}' pages of maximum memory.";case 107:return"Shared memory requires maximum memory to be defined.";case 108:return"Shared memory requires feature 'threads' to be enabled.";case 109:return"Transform '{0}': {1}";case 110:return"Start function name '{0}' is invalid or conflicts with another export.";case 111:return"Element '{0}' not found.";case 112:return"Exchange of '{0}' values is not supported by all embeddings";case 200:return"Conversion from type '{0}' to '{1}' requires an explicit cast.";case 201:return"Conversion from type '{0}' to '{1}' will require an explicit cast when switching between 32/64-bit.";case 202:return"Type '{0}' cannot be changed to type '{1}'.";case 203:return"Operation '{0}' cannot be applied to type '{1}'.";case 204:return"Type '{0}' cannot be nullable.";case 206:return"Mutable value cannot be inlined.";case 207:return"Unmanaged classes cannot extend managed classes and vice-versa.";case 208:return"Unmanaged classes cannot implement interfaces.";case 209:return"Invalid regular expression flags.";case 210:return"Expression is never 'null'.";case 211:return"Class '{0}' is final and cannot be extended.";case 212:return"Decorator '{0}' is not valid here.";case 213:return"Duplicate decorator.";case 214:return"Type '{0}' is illegal in this context.";case 215:return"Optional parameter must have an initializer.";case 216:return"Class '{0}' cannot declare a constructor when instantiated from an object literal.";case 217:return"Function '{0}' cannot be inlined into itself.";case 218:return"Cannot access method '{0}' without calling it as it requires 'this' to be set.";case 219:return"Optional properties are not supported.";case 220:return"Expression must be a compile-time constant.";case 221:return"Type '{0}' is not a function index or function reference.";case 222:return"'{0}' must be a value between '{1}' and '{2}' inclusive.";case 223:return"'{0}' must be a power of two.";case 224:return"'{0}' is not a valid operator.";case 225:return"Expression cannot be represented by a type.";case 226:return"Expression resolves to unusual type '{0}'.";case 227:return"Array literal expected.";case 228:return"Function '{0}' is virtual and will not be inlined.";case 229:return"Property '{0}' only has a setter and is missing a getter.";case 230:return"'{0}' keyword cannot be used here.";case 231:return"A class with a constructor explicitly returning something else than 'this' must be '@final'.";case 233:return"Property '{0}' is always assigned before being used.";case 234:return"Expression does not compile to a value at runtime.";case 235:return"Only variables, functions and enums become WebAssembly module exports.";case 236:return"Literal '{0}' does not fit into 'i64' or 'u64' types.";case 237:return"Index signature accessors in type '{0}' differ in types.";case 238:return"Initializer, definitive assignment or nullable type expected.";case 239:return"Definitive assignment has no effect on local variables.";case 240:return"Ambiguous operator overload '{0}' (conflicting overloads '{1}' and '{2}').";case 901:return"Importing the table disables some indirect call optimizations.";case 902:return"Exporting the table disables some indirect call optimizations.";case 903:return"Expression compiles to a dynamic check at runtime.";case 904:return"Indexed access may involve bounds checking.";case 905:return"Explicitly returning constructor drops 'this' allocation.";case 906:return"Unnecessary definite assignment.";case 907:return"'NaN' does not compare equal to any other value including itself. Use isNaN(x) instead.";case 908:return"Comparison with -0.0 is sign insensitive. Use Object.is(x, -0.0) if the sign matters.";case 1002:return"Unterminated string literal.";case 1003:return"Identifier expected.";case 1005:return"'{0}' expected.";case 1006:return"A file cannot have a reference to itself.";case 1009:return"Trailing comma not allowed.";case 1012:return"Unexpected token.";case 1014:return"A rest parameter must be last in a parameter list.";case 1015:return"Parameter cannot have question mark and initializer.";case 1016:return"A required parameter cannot follow an optional parameter.";case 1031:return"'{0}' modifier cannot appear on class elements of this kind.";case 1036:return"Statements are not allowed in ambient contexts.";case 1039:return"Initializers are not allowed in ambient contexts.";case 1042:return"'{0}' modifier cannot be used here.";case 1047:return"A rest parameter cannot be optional.";case 1048:return"A rest parameter cannot have an initializer.";case 1049:return"A 'set' accessor must have exactly one parameter.";case 1052:return"A 'set' accessor parameter cannot have an initializer.";case 1054:return"A 'get' accessor cannot have parameters.";case 1061:return"Enum member must have initializer.";case 1092:return"Type parameters cannot appear on a constructor declaration.";case 1093:return"Type annotation cannot appear on a constructor declaration.";case 1094:return"An accessor cannot have type parameters.";case 1095:return"A 'set' accessor cannot have a return type annotation.";case 1098:return"Type parameter list cannot be empty.";case 1099:return"Type argument list cannot be empty.";case 1104:return"A 'continue' statement can only be used within an enclosing iteration statement.";case 1105:return"A 'break' statement can only be used within an enclosing iteration or switch statement.";case 1108:return"A 'return' statement can only be used within a function body.";case 1109:return"Expression expected.";case 1110:return"Type expected.";case 1113:return"A 'default' clause cannot appear more than once in a 'switch' statement.";case 1114:return"Duplicate label '{0}'.";case 1120:return"An export assignment cannot have modifiers.";case 1121:return"Octal literals are not allowed in strict mode.";case 1124:return"Digit expected.";case 1125:return"Hexadecimal digit expected.";case 1126:return"Unexpected end of text.";case 1127:return"Invalid character.";case 1130:return"'case' or 'default' expected.";case 1034:return"'super' must be followed by an argument list or member access.";case 1038:return"A 'declare' modifier cannot be used in an already ambient context.";case 1140:return"Type argument expected.";case 1141:return"String literal expected.";case 1142:return"Line break not permitted here.";case 1146:return"Declaration expected.";case 1155:return"'const' declarations must be initialized.";case 1161:return"Unterminated regular expression literal.";case 1263:return"Declarations with initializers cannot also have definite assignment assertions.";case 1176:return"Interface declaration cannot have 'implements' clause.";case 1177:return"Binary digit expected.";case 1178:return"Octal digit expected.";case 1183:return"An implementation cannot be declared in ambient contexts.";case 1190:return"The variable declaration of a 'for...of' statement cannot have an initializer.";case 1198:return"An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive.";case 1199:return"Unterminated Unicode escape sequence.";case 1206:return"Decorators are not valid here.";case 1242:return"'abstract' modifier can only appear on a class, method, or property declaration.";case 1245:return"Method '{0}' cannot have an implementation because it is marked abstract.";case 1246:return"An interface property cannot have an initializer.";case 1255:return"A definite assignment assertion '!' is not permitted in this context.";case 1311:return"A class may only extend another class.";case 1317:return"A parameter property cannot be declared using a rest parameter.";case 1319:return"A default export can only be used in a module.";case 1345:return"An expression of type '{0}' cannot be tested for truthiness.";case 1351:return"An identifier or keyword cannot immediately follow a numeric literal.";case 2300:return"Duplicate identifier '{0}'.";case 2304:return"Cannot find name '{0}'.";case 2305:return"Module '{0}' has no exported member '{1}'.";case 2312:return"An interface can only extend an interface.";case 2314:return"Generic type '{0}' requires {1} type argument(s).";case 2315:return"Type '{0}' is not generic.";case 2322:return"Type '{0}' is not assignable to type '{1}'.";case 2325:return"Property '{0}' is private in type '{1}' but not in type '{2}'.";case 2329:return"Index signature is missing in type '{0}'.";case 2332:return"'this' cannot be referenced in current location.";case 2333:return"'this' cannot be referenced in constructor arguments.";case 2335:return"'super' can only be referenced in a derived class.";case 2336:return"'super' cannot be referenced in constructor arguments.";case 2337:return"Super calls are not permitted outside constructors or in nested functions inside constructors.";case 2339:return"Property '{0}' does not exist on type '{1}'.";case 2341:return"Property '{0}' is private and only accessible within class '{1}'.";case 2349:return"Cannot invoke an expression whose type lacks a call signature. Type '{0}' has no compatible call signatures.";case 2351:return"This expression is not constructable.";case 2355:return"A function whose declared type is not 'void' must return a value.";case 2357:return"The operand of an increment or decrement operator must be a variable or a property access.";case 2364:return"The left-hand side of an assignment expression must be a variable or a property access.";case 2365:return"Operator '{0}' cannot be applied to types '{1}' and '{2}'.";case 2376:return"A 'super' call must be the first statement in the constructor.";case 2377:return"Constructors for derived classes must contain a 'super' call.";case 2380:return"'get' and 'set' accessor must have the same type.";case 2385:return"Overload signatures must all be public, private or protected.";case 2390:return"Constructor implementation is missing.";case 2391:return"Function implementation is missing or not immediately following the declaration.";case 2392:return"Multiple constructor implementations are not allowed.";case 2393:return"Duplicate function implementation.";case 2394:return"This overload signature is not compatible with its implementation signature.";case 2395:return"Individual declarations in merged declaration '{0}' must be all exported or all local.";case 2416:return"Property '{0}' in type '{1}' is not assignable to the same property in base type '{2}'.";case 2422:return"A class can only implement an interface.";case 2434:return"A namespace declaration cannot be located prior to a class or function with which it is merged.";case 2442:return"Types have separate declarations of a private property '{0}'.";case 2444:return"Property '{0}' is protected in type '{1}' but public in type '{2}'.";case 2445:return"Property '{0}' is protected and only accessible within class '{1}' and its subclasses.";case 2448:return"Variable '{0}' used before its declaration.";case 2451:return"Cannot redeclare block-scoped variable '{0}'";case 2453:return"The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly.";case 2454:return"Variable '{0}' is used before being assigned.";case 2456:return"Type alias '{0}' circularly references itself.";case 2460:return"Type '{0}' has no property '{1}'.";case 2469:return"The '{0}' operator cannot be applied to type '{1}'.";case 2474:return"In 'const' enum declarations member initializer must be constant expression.";case 2484:return"Export declaration conflicts with exported declaration of '{0}'.";case 2506:return"'{0}' is referenced directly or indirectly in its own base expression.";case 2511:return"Cannot create an instance of an abstract class.";case 2515:return"Non-abstract class '{0}' does not implement inherited abstract member '{1}' from '{2}'.";case 2531:return"Object is possibly 'null'.";case 2540:return"Cannot assign to '{0}' because it is a constant or a read-only property.";case 2541:return"The target of an assignment must be a variable or a property access.";case 2542:return"Index signature in type '{0}' only permits reading.";case 2554:return"Expected {0} arguments, but got {1}.";case 2555:return"Expected at least {0} arguments, but got {1}.";case 2558:return"Expected {0} type arguments, but got {1}.";case 2564:return"Property '{0}' has no initializer and is not assigned in the constructor before 'this' is used or returned.";case 2565:return"Property '{0}' is used before being assigned.";case 2610:return"'{0}' is defined as an accessor in class '{1}', but is overridden here in '{2}' as an instance property.";case 2611:return"'{0}' is defined as a property in class '{1}', but is overridden here in '{2}' as an accessor.";case 2651:return"A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums.";case 2673:return"Constructor of class '{0}' is private and only accessible within the class declaration.";case 2674:return"Constructor of class '{0}' is protected and only accessible within the class declaration.";case 2675:return"Cannot extend a class '{0}'. Class constructor is marked as private.";case 2685:return"The 'this' types of each signature are incompatible.";case 2694:return"Namespace '{0}' has no exported member '{1}'.";case 2695:return"Namespace can only have declarations.";case 2706:return"Required type parameters may not follow optional type parameters.";case 2718:return"Duplicate property '{0}'.";case 2741:return"Property '{0}' is missing in type '{1}' but required in type '{2}'.";case 2757:return"Type '{0}' has no call signatures.";case 2808:return"Get accessor '{0}' must be at least as accessible as the setter.";case 4117:return"This member cannot have an 'override' modifier because it is not declared in the base class '{0}'.";case 6054:return"File '{0}' not found.";case 6188:return"Numeric separators are not allowed here.";case 6189:return"Multiple consecutive numeric separators are not permitted.";case 6234:return"This expression is not callable because it is a 'get' accessor. Did you mean to use it without '()'?";case 17009:return"'super' must be called before accessing 'this' in the constructor of a derived class.";case 17011:return"'super' must be called before accessing a property of 'super' in the constructor of a derived class.";default:return""}}var op={};Dl(op,{BitSet:()=>Ju,COLOR_BLUE:()=>Ux,COLOR_CYAN:()=>np,COLOR_GRAY:()=>Gx,COLOR_GREEN:()=>zx,COLOR_MAGENTA:()=>ip,COLOR_RED:()=>Zs,COLOR_RESET:()=>_n,COLOR_WHITE:()=>Dx,COLOR_YELLOW:()=>rp,CharCode:()=>$e,SURROGATE_HIGH:()=>un,SURROGATE_LOW:()=>ri,accuratePow64:()=>Ks,cloneMap:()=>pe,colorize:()=>Vx,combineSurrogates:()=>pn,dirname:()=>Ry,escapeString:()=>ye,indent:()=>U,isAlpha:()=>tp,isAlphaOrDecimal:()=>Sy,isColorsEnabled:()=>ai,isDecimal:()=>Je,isHexBase:()=>cn,isHexOrDecimal:()=>Fx,isHighSurrogate:()=>ii,isIdentifier:()=>Me,isIdentifierPart:()=>si,isIdentifierStart:()=>ni,isLineBreak:()=>bt,isLowSurrogate:()=>Hs,isOctal:()=>js,isPowerOf2:()=>gt,isSurrogate:()=>vx,isSurrogateHigh:()=>Ix,isSurrogateLow:()=>Sx,isWhiteSpace:()=>on,mergeMaps:()=>Ex,normalizePath:()=>fr,numCodeUnits:()=>cr,readF32:()=>xx,readF64:()=>Tx,readI16:()=>bx,readI32:()=>ei,readI64:()=>Iy,readI8:()=>gx,readV128:()=>Ax,resolvePath:()=>Xs,setColorsEnabled:()=>Ys,v128_ones:()=>lp,v128_zero:()=>ap,writeF32:()=>ur,writeF64:()=>pr,writeI16:()=>Dt,writeI32:()=>he,writeI32AsI64:()=>Ws,writeI64:()=>ti,writeI64AsI32:()=>Yu,writeI8:()=>ce,writeV128:()=>$u});function gx(t,i){return t[i]}function ce(t,i,e){i[e]=t}function bx(t,i){return i32(t[i])|i32(t[i+1])<<8}function Dt(t,i,e){i[e]=t,i[e+1]=t>>>8}function ei(t,i){return i32(t[i])|i32(t[i+1])<<8|i32(t[i+2])<<16|i32(t[i+3])<<24}function he(t,i,e){i[e]=t,i[e+1]=t>>>8,i[e+2]=t>>>16,i[e+3]=t>>>24}function Ws(t,i,e,r=!1){he(t,i,e),he(r||t>=0?0:-1,i,e+4)}function Iy(t,i){let e=ei(t,i),r=ei(t,i+4);return i64_new(e,r)}function ti(t,i,e){he(i64_low(t),i,e),he(i64_high(t),i,e+4)}function Yu(t,i,e,r=!1){assert(r?i64_is_u32(t):i64_is_i32(t)),he(i64_low(t),i,e)}function xx(t,i){return i32_as_f32(ei(t,i))}function ur(t,i,e){he(f32_as_i32(t),i,e)}function Tx(t,i){return i64_as_f64(Iy(t,i))}function pr(t,i,e){let r=f64_as_i64(t);he(i64_low(r),i,e),he(i64_high(r),i,e+4)}function Ax(t,i){return t.slice(i,i+16)}function $u(t,i,e){assert(t.length==16),i.set(t,e)}function pe(t){if(ASC_TARGET){let i=new Map;if(t)for(let e=Map_keys(t),r=0,n=e.length;r<n;++r){let s=unchecked(e[r]),a=assert(t.get(s));i.set(s,a)}return i}else return new Map(t)}function Ex(t,i){if(ASC_TARGET){let e=new Map;for(let r=Map_keys(t),n=0,s=r.length;n<s;++n){let a=unchecked(r[n]),l=assert(t.get(a));e.set(a,l)}for(let r=Map_keys(i),n=0,s=r.length;n<s;++n){let a=unchecked(r[n]),l=assert(i.get(a));e.set(a,l)}return e}else{let e=new Map(t);return i.forEach((r,n)=>e.set(n,r)),e}}var Ju=class{constructor(){this.clear()}get size(){let i=0,e=this.words;for(let r=0,n=e.length;r<n;r++){let s=unchecked(e[r]);s&&(i+=popcnt(s))}return i}add(i){let e=i>>>5,r=this.words;return e>=r.length&&(this.words=new Uint32Array(e+16),this.words.set(r),r=this.words),unchecked(r[e]|=1<<i),this}delete(i){let e=i>>>5,r=this.words;e>=r.length||unchecked(r[e]&=~(1<<i))}has(i){let e=i>>>5,r=this.words;return e>=r.length?!1:(unchecked(r[i>>>5])&1<<i)!==0}clear(){this.words=new Uint32Array(16)}toArray(){let i=new Array(this.size);for(let e=0,r=0,n=this.words.length;e<n;++e){let s=unchecked(this.words[e]);for(;s;){let a=s&-s;unchecked(i[r++]=(e<<5)+popcnt(a-1)),s^=a}}return i}toString(){return`BitSet { ${this.toArray()} }`}};function gt(t){return t!=0&&(t&t-1)==0}function Ks(t,i){return ASC_TARGET?Math.pow(t,i):f64_pow(t,i)}var $e=(w=>(w[w.Null=0]="Null",w[w.LineFeed=10]="LineFeed",w[w.CarriageReturn=13]="CarriageReturn",w[w.LineSeparator=8232]="LineSeparator",w[w.ParagraphSeparator=8233]="ParagraphSeparator",w[w.NextLine=133]="NextLine",w[w.Space=32]="Space",w[w.NonBreakingSpace=160]="NonBreakingSpace",w[w.EnQuad=8192]="EnQuad",w[w.EmQuad=8193]="EmQuad",w[w.EnSpace=8194]="EnSpace",w[w.EmSpace=8195]="EmSpace",w[w.ThreePerEmSpace=8196]="ThreePerEmSpace",w[w.FourPerEmSpace=8197]="FourPerEmSpace",w[w.SixPerEmSpace=8198]="SixPerEmSpace",w[w.FigureSpace=8199]="FigureSpace",w[w.PunctuationSpace=8200]="PunctuationSpace",w[w.ThinSpace=8201]="ThinSpace",w[w.HairSpace=8202]="HairSpace",w[w.ZeroWidthSpace=8203]="ZeroWidthSpace",w[w.NarrowNoBreakSpace=8239]="NarrowNoBreakSpace",w[w.IdeographicSpace=12288]="IdeographicSpace",w[w.MathematicalSpace=8287]="MathematicalSpace",w[w.Ogham=5760]="Ogham",w[w._=95]="_",w[w._0=48]="_0",w[w._1=49]="_1",w[w._2=50]="_2",w[w._3=51]="_3",w[w._4=52]="_4",w[w._5=53]="_5",w[w._6=54]="_6",w[w._7=55]="_7",w[w._8=56]="_8",w[w._9=57]="_9",w[w.a=97]="a",w[w.b=98]="b",w[w.c=99]="c",w[w.d=100]="d",w[w.e=101]="e",w[w.f=102]="f",w[w.g=103]="g",w[w.h=104]="h",w[w.i=105]="i",w[w.j=106]="j",w[w.k=107]="k",w[w.l=108]="l",w[w.m=109]="m",w[w.n=110]="n",w[w.o=111]="o",w[w.p=112]="p",w[w.q=113]="q",w[w.r=114]="r",w[w.s=115]="s",w[w.t=116]="t",w[w.u=117]="u",w[w.v=118]="v",w[w.w=119]="w",w[w.x=120]="x",w[w.y=121]="y",w[w.z=122]="z",w[w.A=65]="A",w[w.B=66]="B",w[w.C=67]="C",w[w.D=68]="D",w[w.E=69]="E",w[w.F=70]="F",w[w.G=71]="G",w[w.H=72]="H",w[w.I=73]="I",w[w.J=74]="J",w[w.K=75]="K",w[w.L=76]="L",w[w.M=77]="M",w[w.N=78]="N",w[w.O=79]="O",w[w.P=80]="P",w[w.Q=81]="Q",w[w.R=82]="R",w[w.S=83]="S",w[w.T=84]="T",w[w.U=85]="U",w[w.V=86]="V",w[w.W=87]="W",w[w.X=88]="X",w[w.Y=89]="Y",w[w.Z=90]="Z",w[w.Ampersand=38]="Ampersand",w[w.Asterisk=42]="Asterisk",w[w.At=64]="At",w[w.Backslash=92]="Backslash",w[w.Backtick=96]="Backtick",w[w.Bar=124]="Bar",w[w.Caret=94]="Caret",w[w.CloseBrace=125]="CloseBrace",w[w.CloseBracket=93]="CloseBracket",w[w.CloseParen=41]="CloseParen",w[w.Colon=58]="Colon",w[w.Comma=44]="Comma",w[w.Dollar=36]="Dollar",w[w.Dot=46]="Dot",w[w.DoubleQuote=34]="DoubleQuote",w[w.Equals=61]="Equals",w[w.Exclamation=33]="Exclamation",w[w.GreaterThan=62]="GreaterThan",w[w.Hash=35]="Hash",w[w.LessThan=60]="LessThan",w[w.Minus=45]="Minus",w[w.OpenBrace=123]="OpenBrace",w[w.OpenBracket=91]="OpenBracket",w[w.OpenParen=40]="OpenParen",w[w.Percent=37]="Percent",w[w.Plus=43]="Plus",w[w.Question=63]="Question",w[w.Semicolon=59]="Semicolon",w[w.SingleQuote=39]="SingleQuote",w[w.Slash=47]="Slash",w[w.Tilde=126]="Tilde",w[w.Backspace=8]="Backspace",w[w.FormFeed=12]="FormFeed",w[w.ByteOrderMark=65279]="ByteOrderMark",w[w.Tab=9]="Tab",w[w.VerticalTab=11]="VerticalTab",w))($e||{});function bt(t){switch(t){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function on(t){switch(t){case 32:case 9:case 11:case 12:case 160:case 133:case 5760:case 8239:case 8287:case 12288:case 65279:return!0;default:return t>=8192&&t<=8203}}var un=55296,ri=56320;function vx(t){return(t&63488)==un}function Ix(t){return t<ri}function Sx(t){return t>=ri}function ii(t){return(t&64512)==un}function Hs(t){return(t&64512)==ri}function pn(t,i){return 65536+((t&1023)<<10)|i&1023}function cr(t){return 1+i32(t>65535)}function tp(t){let i=t|32;return i>=97&&i<=122}function Je(t){return t>=48&&t<=57}function js(t){return t>=48&&t<=55}function cn(t){let i=t|32;return i>=97&&i<=102}function Fx(t){return Je(t)||cn(t)}function Sy(t){return tp(t)||Je(t)}function ni(t){return tp(t)||t==95||t==36||t>=kx&&t<=wx&&Fy(t,Rx)}function si(t){return Sy(t)||t==95||t==36||t>=Px&&t<=Bx&&Fy(t,Cx)}function Me(t){let i=t.length;if(!i)return!1;let e=t.codePointAt(0);if(!ni(e))return!1;let r=cr(e);for(;r<i;){if(e=t.codePointAt(r),!si(e))return!1;r+=cr(e)}return!0}var Rx=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,895,895,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1327,1329,1366,1369,1369,1376,1416,1488,1514,1519,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2144,2154,2160,2183,2185,2190,2208,2249,2308,2361,2365,2365,2384,2384,2392,2401,2417,2432,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2556,2556,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2809,2809,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3129,3133,3133,3160,3162,3165,3165,3168,3169,3200,3200,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3293,3294,3296,3297,3313,3314,3332,3340,3342,3344,3346,3386,3389,3389,3406,3406,3412,3414,3423,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3718,3722,3724,3747,3749,3749,3751,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5905,5919,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6264,6272,6312,6314,6314,6320,6389,6400,6430,6480,6509,6512,6516,6528,6571,6576,6601,6656,6678,6688,6740,6823,6823,6917,6963,6981,6988,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7296,7304,7312,7354,7357,7359,7401,7404,7406,7411,7413,7414,7418,7418,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8472,8477,8484,8484,8486,8486,8488,8488,8490,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12443,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12735,12784,12799,13312,19903,19968,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42653,42656,42735,42775,42783,42786,42888,42891,42954,42960,42961,42963,42963,42965,42969,42994,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43261,43262,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43488,43492,43494,43503,43514,43518,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43646,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43881,43888,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66335,66349,66378,66384,66421,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66736,66771,66776,66811,66816,66855,66864,66915,66928,66938,66940,66954,66956,66962,66964,66965,66967,66977,66979,66993,66995,67001,67003,67004,67072,67382,67392,67413,67424,67431,67456,67461,67463,67504,67506,67514,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68096,68096,68112,68115,68117,68119,68121,68149,68192,68220,68224,68252,68288,68295,68297,68324,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68899,69248,69289,69296,69297,69376,69404,69415,69415,69424,69445,69488,69505,69552,69572,69600,69622,69635,69687,69745,69746,69749,69749,69763,69807,69840,69864,69891,69926,69956,69956,69959,69959,69968,70002,70006,70006,70019,70066,70081,70084,70106,70106,70108,70108,70144,70161,70163,70187,70272,70278,70280,70280,70282,70285,70287,70301,70303,70312,70320,70366,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70461,70461,70480,70480,70493,70497,70656,70708,70727,70730,70751,70753,70784,70831,70852,70853,70855,70855,71040,71086,71128,71131,71168,71215,71236,71236,71296,71338,71352,71352,71424,71450,71488,71494,71680,71723,71840,71903,71935,71942,71945,71945,71948,71955,71957,71958,71960,71983,71999,71999,72001,72001,72096,72103,72106,72144,72161,72161,72163,72163,72192,72192,72203,72242,72250,72250,72272,72272,72284,72329,72349,72349,72368,72440,72704,72712,72714,72750,72768,72768,72818,72847,72960,72966,72968,72969,72971,73008,73030,73030,73056,73061,73063,73064,73066,73097,73112,73112,73440,73458,73648,73648,73728,74649,74752,74862,74880,75075,77712,77808,77824,78894,82944,83526,92160,92728,92736,92766,92784,92862,92880,92909,92928,92975,92992,92995,93027,93047,93053,93071,93760,93823,93952,94026,94032,94032,94099,94111,94176,94177,94179,94179,94208,100343,100352,101589,101632,101640,110576,110579,110581,110587,110589,110590,110592,110882,110928,110930,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,122624,122654,123136,123180,123191,123197,123214,123214,123536,123565,123584,123627,124896,124902,124904,124907,124909,124910,124912,124926,124928,125124,125184,125251,125259,125259,126464,126467,126469,126495,126497,126498,126500,126500,126503,126503,126505,126514,126516,126519,126521,126521,126523,126523,126530,126530,126535,126535,126537,126537,126539,126539,126541,126543,126545,126546,126548,126548,126551,126551,126553,126553,126555,126555,126557,126557,126559,126559,126561,126562,126564,126564,126567,126570,126572,126578,126580,126583,126585,126588,126590,126590,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651,131072,173791,173824,177976,177984,178205,178208,183969,183984,191456,194560,195101,196608,201546],kx=170,wx=201546,Cx=[170,170,181,181,183,183,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,895,895,902,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1327,1329,1366,1369,1369,1376,1416,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1519,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2045,2045,2048,2093,2112,2139,2144,2154,2160,2183,2185,2190,2200,2273,2275,2403,2406,2415,2417,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2556,2556,2558,2558,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2809,2815,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2901,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3072,3084,3086,3088,3090,3112,3114,3129,3132,3140,3142,3144,3146,3149,3157,3158,3160,3162,3165,3165,3168,3171,3174,3183,3200,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3293,3294,3296,3299,3302,3311,3313,3314,3328,3340,3342,3344,3346,3396,3398,3400,3402,3406,3412,3415,3423,3427,3430,3439,3450,3455,3457,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3558,3567,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3718,3722,3724,3747,3749,3749,3751,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4969,4977,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5909,5919,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6159,6169,6176,6264,6272,6314,6320,6389,6400,6430,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6618,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6832,6845,6847,6862,6912,6988,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7296,7304,7312,7354,7357,7359,7376,7378,7380,7418,7424,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8472,8477,8484,8484,8486,8486,8488,8488,8490,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12735,12784,12799,13312,19903,19968,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42737,42775,42783,42786,42888,42891,42954,42960,42961,42963,42963,42965,42969,42994,43047,43052,43052,43072,43123,43136,43205,43216,43225,43232,43255,43259,43259,43261,43309,43312,43347,43360,43388,43392,43456,43471,43481,43488,43518,43520,43574,43584,43597,43600,43609,43616,43638,43642,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43881,43888,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65071,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66045,66045,66176,66204,66208,66256,66272,66272,66304,66335,66349,66378,66384,66426,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66720,66729,66736,66771,66776,66811,66816,66855,66864,66915,66928,66938,66940,66954,66956,66962,66964,66965,66967,66977,66979,66993,66995,67001,67003,67004,67072,67382,67392,67413,67424,67431,67456,67461,67463,67504,67506,67514,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68096,68099,68101,68102,68108,68115,68117,68119,68121,68149,68152,68154,68159,68159,68192,68220,68224,68252,68288,68295,68297,68326,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68903,68912,68921,69248,69289,69291,69292,69296,69297,69376,69404,69415,69415,69424,69456,69488,69509,69552,69572,69600,69622,69632,69702,69734,69749,69759,69818,69826,69826,69840,69864,69872,69881,69888,69940,69942,69951,69956,69959,69968,70003,70006,70006,70016,70084,70089,70092,70094,70106,70108,70108,70144,70161,70163,70199,70206,70206,70272,70278,70280,70280,70282,70285,70287,70301,70303,70312,70320,70378,70384,70393,70400,70403,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70459,70468,70471,70472,70475,70477,70480,70480,70487,70487,70493,70499,70502,70508,70512,70516,70656,70730,70736,70745,70750,70753,70784,70853,70855,70855,70864,70873,71040,71093,71096,71104,71128,71133,71168,71232,71236,71236,71248,71257,71296,71352,71360,71369,71424,71450,71453,71467,71472,71481,71488,71494,71680,71738,71840,71913,71935,71942,71945,71945,71948,71955,71957,71958,71960,71989,71991,71992,71995,72003,72016,72025,72096,72103,72106,72151,72154,72161,72163,72164,72192,72254,72263,72263,72272,72345,72349,72349,72368,72440,72704,72712,72714,72758,72760,72768,72784,72793,72818,72847,72850,72871,72873,72886,72960,72966,72968,72969,72971,73014,73018,73018,73020,73021,73023,73031,73040,73049,73056,73061,73063,73064,73066,73102,73104,73105,73107,73112,73120,73129,73440,73462,73648,73648,73728,74649,74752,74862,74880,75075,77712,77808,77824,78894,82944,83526,92160,92728,92736,92766,92768,92777,92784,92862,92864,92873,92880,92909,92912,92916,92928,92982,92992,92995,93008,93017,93027,93047,93053,93071,93760,93823,93952,94026,94031,94087,94095,94111,94176,94177,94179,94180,94192,94193,94208,100343,100352,101589,101632,101640,110576,110579,110581,110587,110589,110590,110592,110882,110928,110930,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,113821,113822,118528,118573,118576,118598,119141,119145,119149,119154,119163,119170,119173,119179,119210,119213,119362,119364,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,120782,120831,121344,121398,121403,121452,121461,121461,121476,121476,121499,121503,121505,121519,122624,122654,122880,122886,122888,122904,122907,122913,122915,122916,122918,122922,123136,123180,123184,123197,123200,123209,123214,123214,123536,123566,123584,123641,124896,124902,124904,124907,124909,124910,124912,124926,124928,125124,125136,125142,125184,125259,125264,125273,126464,126467,126469,126495,126497,126498,126500,126500,126503,126503,126505,126514,126516,126519,126521,126521,126523,126523,126530,126530,126535,126535,126537,126537,126539,126539,126541,126543,126545,126546,126548,126548,126551,126551,126553,126553,126555,126555,126557,126557,126559,126559,126561,126562,126564,126564,126567,126570,126572,126578,126580,126583,126585,126588,126590,126590,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651,130032,130041,131072,173791,173824,177976,177984,178205,178208,183969,183984,191456,194560,195101,196608,201546,917760,917999],Px=170,Bx=917999;function Fy(t,i){let e=0,r=i.length;for(;e+1<r;){let n=e+(r-e>>>1);n-=n&1;let s=i[n];if(s<=t&&t<=i[n+1])return!0;t<s?r=n:e=n+2}return!1}var ep="  ",Lx="    ",Nx="      ",Mx="        ",Qs=new Map;function U(t,i){if(i<=4)switch(i){case 1:t.push(ep);break;case 2:t.push(Lx);break;case 3:t.push(Nx);break;case 4:t.push(Mx);break}else{let e;Qs.size<=1024?Qs.has(i)?e=assert(Qs.get(i)):Qs.set(i,e=ep.repeat(i)):e=ep.repeat(i),t.push(e)}}function ye(t,i){let e=new Array,r=0,n=0;for(let s=t.length;n<s;)switch(t.charCodeAt(n)){case 0:{n>r&&e.push(t.substring(r,r=n+1)),e.push("\\0"),r=++n;break}case 8:{n>r&&e.push(t.substring(r,n)),r=++n,e.push("\\b");break}case 9:{n>r&&e.push(t.substring(r,n)),r=++n,e.push("\\t");break}case 10:{n>r&&e.push(t.substring(r,n)),r=++n,e.push("\\n");break}case 11:{n>r&&e.push(t.substring(r,n)),r=++n,e.push("\\v");break}case 12:{n>r&&e.push(t.substring(r,n)),r=++n,e.push("\\f");break}case 13:{n>r&&e.push(t.substring(r,n)),e.push("\\r"),r=++n;break}case 34:{i==34?(n>r&&e.push(t.substring(r,n)),e.push('\\"'),r=++n):++n;break}case 39:{i==39?(n>r&&e.push(t.substring(r,n)),e.push("\\'"),r=++n):++n;break}case 92:{n>r&&e.push(t.substring(r,n)),e.push("\\\\"),r=++n;break}case 96:{i==96?(n>r&&e.push(t.substring(r,n)),e.push("\\`"),r=++n):++n;break}default:{++n;break}}return n>r&&e.push(t.substring(r,n)),e.join("")}var _r=47;function fr(t){let i=0,e=t.length;for(;i+1<e&&t.charCodeAt(i)==46&&t.charCodeAt(i+1)==_r;)i+=2;(i>0||e<t.length)&&(t=t.substring(i,e),e-=i,i=0);let r;for(;i+1<e;){if(r=!1,t.charCodeAt(i)==_r&&t.charCodeAt(i+1)==46){if(r=i+2==e,r||i+2<e&&t.charCodeAt(i+2)==_r){t=r?t.substring(0,i):t.substring(0,i)+t.substring(i+2),e-=2;continue}if(r=i+3==e,r&&t.charCodeAt(i+2)==46||i+3<e&&t.charCodeAt(i+2)==46&&t.charCodeAt(i+3)==_r){let n=i;for(;--n>=0;)if(t.charCodeAt(n)==_r){(i-n!=3||t.charCodeAt(n+1)!=46||t.charCodeAt(n+2)!=46)&&(t=r?t.substring(0,n):t.substring(0,n)+t.substring(i+3),e-=i+3-n,i=n-1);break}if(n<0&&i>0&&(i!=2||t.charCodeAt(0)!=46||t.charCodeAt(1)!=46)){t=t.substring(i+4),e=t.length;continue}}}i++}return e>0?t:"."}function Xs(t,i){return t.startsWith("std/")?t:fr(Ry(i)+Ye+t)}function Ry(t){let i=t.length;if(i<=1){if(i==0)return".";if(t.charCodeAt(0)==_r)return t}for(;--i>0;)if(t.charCodeAt(i)==_r)return t.substring(0,i);return"."}var Gx="\x1B[90m",Zs="\x1B[91m",zx="\x1B[92m",rp="\x1B[93m",Ux="\x1B[94m",ip="\x1B[95m",np="\x1B[96m",Dx="\x1B[97m",_n="\x1B[0m",sp=!0;function ai(){return sp}function Ys(t){let i=t;return sp=t,i}function Vx(t,i){return sp?i+t+_n:t}var ap=new Uint8Array(16),lp=new Uint8Array(16).fill(255);var Js=(n=>(n[n.Pedantic=0]="Pedantic",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n))(Js||{}),ae=class t{constructor(i,e){this.start=i;this.end=e}static join(i,e){if(i.source!=e.source)throw new Error("source mismatch");let r=new t(i.start<e.start?i.start:e.start,i.end>e.end?i.end:e.end);return r.source=i.source,r}equals(i){return this.source==i.source&&this.start==i.start&&this.end==i.end}get atStart(){let i=new t(this.start,this.start);return i.source=this.source,i}get atEnd(){let i=new t(this.end,this.end);return i.source=this.source,i}toString(){return this.source.text.substring(this.start,this.end)}};function up(t){switch(t){case 0:return"PEDANTIC";case 1:return"INFO";case 2:return"WARNING";case 3:return"ERROR";default:return assert(!1),""}}function wy(t){switch(t){case 0:return ip;case 1:return np;case 2:return rp;case 3:return Zs;default:return assert(!1),""}}var $s=class t{constructor(i,e,r){this.range=null;this.relatedRange=null;this.code=i,this.category=e,this.message=r}static create(i,e,r=null,n=null,s=null){let a=qs(i);return r!=null&&(a=a.replace("{0}",r)),n!=null&&(a=a.replace("{1}",n)),s!=null&&(a=a.replace("{2}",s)),new t(i,e,a)}equals(i){if(this.code!=i.code)return!1;let e=this.range,r=i.range;if(e){if(!r||!e.equals(r))return!1}else if(r)return!1;let n=this.relatedRange,s=i.relatedRange;if(n){if(!s||!n.equals(s))return!1}else if(s)return!1;return this.message==i.message}withRange(i){return this.range=i,this}withRelatedRange(i){return this.relatedRange=i,this}toString(){let i=up(this.category),e=this.range,r=this.code,n=this.message;if(e){let s=e.source,a=s.normalizedPath,l=s.lineAt(e.start),o=s.columnAt(),p=e.end-e.start;return`${i} ${r}: "${n}" in ${a}(${l},${o}+${p})`}return`${i} ${r}: ${n}`}};function Cy(t,i=!1,e=!1){let r=Ys(i),n=[];ai()&&n.push(wy(t.category)),n.push(up(t.category)),ai()&&n.push(_n),n.push(t.code<1e3?" AS":" TS"),n.push(t.code.toString()),n.push(": "),n.push(t.message);let s=t.range;if(s){let a=s.source,l=t.relatedRange,o=0;if(l&&(o=max(a.lineAt(s.start),l.source.lineAt(l.start))),e?(n.push(`
`),n.push(ky(s,o))):(n.push(`
 in `),n.push(a.normalizedPath)),n.push("("),n.push(a.lineAt(s.start).toString()),n.push(","),n.push(a.columnAt().toString()),n.push(")"),l){let p=l.source;e?(n.push(`
`),n.push(ky(l,o))):(n.push(`
 in `),n.push(p.normalizedPath)),n.push("("),n.push(p.lineAt(l.start).toString()),n.push(","),n.push(p.columnAt().toString()),n.push(")")}}return Ys(r),n.join("")}function ky(t,i=0){let e=t.source,r=e.text,n=r.length,s=t.start,a=s,l=e.lineAt(s).toString(),o=i?max(i.toString().length,l.length):l.length,p=" ".repeat(o);for(;s>0&&!bt(r.charCodeAt(s-1));)s--;for(;s<n&&on(r.charCodeAt(s));)s++;for(;a<n&&!bt(r.charCodeAt(a));)a++;let c=[p,`  :
 `," ".repeat(o-l.length),l," \u2502 ",r.substring(s,a).replaceAll("	","  "),`
 `,p," \u2502 "];for(;s<t.start;)r.charCodeAt(s)==9?(c.push("  "),s+=2):(c.push(" "),s++);if(ai()&&c.push(Zs),t.start==t.end)c.push("^");else for(;s++<t.end;){let _=r.charCodeAt(s);if(_==9)c.push("~~");else if(bt(_)){c.push(s==t.start+1?"^":"~");break}else c.push("~")}return ai()&&c.push(_n),c.push(`
 `),c.push(p),c.push(" \u2514\u2500 in "),c.push(e.normalizedPath),c.join("")}var Oe=class{constructor(i=null){this.seen=new Map;i||(i=[]),this.diagnostics=i}emitDiagnostic(i,e,r,n,s=null,a=null,l=null){let o=$s.create(i,e,s,a,l);if(r&&(o=o.withRange(r)),n&&(o.relatedRange=n),r){let p=this.seen;if(p.has(r.source)){let c=assert(p.get(r.source));if(c.has(r.start)){let _=assert(c.get(r.start));for(let f=0,d=_.length;f<d;++f)if(_[f].equals(o))return;_.push(o)}else c.set(r.start,[o])}else{let c=new Map;c.set(r.start,[o]),p.set(r.source,c)}}this.diagnostics.push(o)}pedantic(i,e,r=null,n=null,s=null){this.emitDiagnostic(i,0,e,null,r,n,s)}pedanticRelated(i,e,r,n=null,s=null,a=null){this.emitDiagnostic(i,0,e,r,n,s,a)}info(i,e,r=null,n=null,s=null){this.emitDiagnostic(i,1,e,null,r,n,s)}infoRelated(i,e,r,n=null,s=null,a=null){this.emitDiagnostic(i,1,e,r,n,s,a)}warning(i,e,r=null,n=null,s=null){this.emitDiagnostic(i,2,e,null,r,n,s)}warningRelated(i,e,r,n=null,s=null,a=null){this.emitDiagnostic(i,2,e,r,n,s,a)}error(i,e,r=null,n=null,s=null){this.emitDiagnostic(i,3,e,null,r,n,s)}errorRelated(i,e,r,n=null,s=null,a=null){this.emitDiagnostic(i,3,e,r,n,s,a)}};var xt=(z=>(z[z.Source=0]="Source",z[z.NamedType=1]="NamedType",z[z.FunctionType=2]="FunctionType",z[z.TypeName=3]="TypeName",z[z.TypeParameter=4]="TypeParameter",z[z.Parameter=5]="Parameter",z[z.Identifier=6]="Identifier",z[z.Assertion=7]="Assertion",z[z.Binary=8]="Binary",z[z.Call=9]="Call",z[z.Class=10]="Class",z[z.Comma=11]="Comma",z[z.ElementAccess=12]="ElementAccess",z[z.False=13]="False",z[z.Function=14]="Function",z[z.InstanceOf=15]="InstanceOf",z[z.Literal=16]="Literal",z[z.New=17]="New",z[z.Null=18]="Null",z[z.Omitted=19]="Omitted",z[z.Parenthesized=20]="Parenthesized",z[z.PropertyAccess=21]="PropertyAccess",z[z.Ternary=22]="Ternary",z[z.Super=23]="Super",z[z.This=24]="This",z[z.True=25]="True",z[z.Constructor=26]="Constructor",z[z.UnaryPostfix=27]="UnaryPostfix",z[z.UnaryPrefix=28]="UnaryPrefix",z[z.Compiled=29]="Compiled",z[z.Block=30]="Block",z[z.Break=31]="Break",z[z.Continue=32]="Continue",z[z.Do=33]="Do",z[z.Empty=34]="Empty",z[z.Export=35]="Export",z[z.ExportDefault=36]="ExportDefault",z[z.ExportImport=37]="ExportImport",z[z.Expression=38]="Expression",z[z.For=39]="For",z[z.ForOf=40]="ForOf",z[z.If=41]="If",z[z.Import=42]="Import",z[z.Return=43]="Return",z[z.Switch=44]="Switch",z[z.Throw=45]="Throw",z[z.Try=46]="Try",z[z.Variable=47]="Variable",z[z.Void=48]="Void",z[z.While=49]="While",z[z.Module=50]="Module",z[z.ClassDeclaration=51]="ClassDeclaration",z[z.EnumDeclaration=52]="EnumDeclaration",z[z.EnumValueDeclaration=53]="EnumValueDeclaration",z[z.FieldDeclaration=54]="FieldDeclaration",z[z.FunctionDeclaration=55]="FunctionDeclaration",z[z.ImportDeclaration=56]="ImportDeclaration",z[z.InterfaceDeclaration=57]="InterfaceDeclaration",z[z.MethodDeclaration=58]="MethodDeclaration",z[z.NamespaceDeclaration=59]="NamespaceDeclaration",z[z.TypeDeclaration=60]="TypeDeclaration",z[z.VariableDeclaration=61]="VariableDeclaration",z[z.Decorator=62]="Decorator",z[z.ExportMember=63]="ExportMember",z[z.SwitchCase=64]="SwitchCase",z[z.IndexSignature=65]="IndexSignature",z[z.Comment=66]="Comment",z))(xt||{}),N=class t{constructor(i,e){this.kind=i;this.range=e}static createSimpleTypeName(i,e){return new li(t.createIdentifierExpression(i,e),null,e)}static createNamedType(i,e,r,n){return new hr(i,e,r,n)}static createFunctionType(i,e,r,n,s){return new dr(i,e,r,n,s)}static createOmittedType(i){return new hr(t.createSimpleTypeName("",i),null,!1,i)}static createTypeParameter(i,e,r,n){return new ea(i,e,r,n)}static createParameter(i,e,r,n,s){return new oi(i,e,r,n,s)}static createDecorator(i,e,r){return new ta(Tt.fromNode(i),i,e,r)}static createComment(i,e,r){return new ra(i,e,r)}static createIdentifierExpression(i,e,r=!1){return new qe(i,r,e)}static createEmptyIdentifierExpression(i){return new qe("",!1,i)}static createArrayLiteralExpression(i,e){return new mr(i,e)}static createAssertionExpression(i,e,r,n){return new ia(i,e,r,n)}static createBinaryExpression(i,e,r,n){return new na(i,e,r,n)}static createCallExpression(i,e,r,n){return new sa(i,e,r,n)}static createClassExpression(i){return new aa(i)}static createCommaExpression(i,e){return new la(i,e)}static createConstructorExpression(i){return new oa(i)}static createElementAccessExpression(i,e,r){return new ua(i,e,r)}static createFalseExpression(i){return new Fa(i)}static createFloatLiteralExpression(i,e){return new pa(i,e)}static createFunctionExpression(i){return new ca(i)}static createInstanceOfExpression(i,e,r){return new _a(i,e,r)}static createIntegerLiteralExpression(i,e){return new fa(i,e)}static createNewExpression(i,e,r,n){return new ha(i,e,r,n)}static createNullExpression(i){return new da(i)}static createObjectLiteralExpression(i,e,r){return new ma(i,e,r)}static createOmittedExpression(i){return new ya(i)}static createParenthesizedExpression(i,e){return new ga(i,e)}static createPropertyAccessExpression(i,e,r){return new ba(i,e,r)}static createRegexpLiteralExpression(i,e,r){return new xa(i,e,r)}static createTernaryExpression(i,e,r,n){return new Ta(i,e,r,n)}static createStringLiteralExpression(i,e){return new Aa(i,e)}static createSuperExpression(i){return new Ea(i)}static createTemplateLiteralExpression(i,e,r,n,s){return new va(i,e,r,n,s)}static createThisExpression(i){return new Ia(i)}static createTrueExpression(i){return new Sa(i)}static createUnaryPostfixExpression(i,e,r){return new Ra(i,e,r)}static createUnaryPrefixExpression(i,e,r){return new ka(i,e,r)}static createCompiledExpression(i,e,r){return new wa(i,e,r)}static createBlockStatement(i,e){return new Pa(i,e)}static createBreakStatement(i,e){return new Ba(i,e)}static createClassDeclaration(i,e,r,n,s,a,l,o){return new dn(i,e,r,n,s,a,l,o)}static createContinueStatement(i,e){return new La(i,e)}static createDoStatement(i,e,r){return new Na(i,e,r)}static createEmptyStatement(i){return new Ma(i)}static createEnumDeclaration(i,e,r,n,s){return new Ga(i,e,r,n,s)}static createEnumValueDeclaration(i,e,r,n){return new za(i,e,r,n)}static createExportStatement(i,e,r,n){return new Va(i,e,r,n)}static createExportDefaultStatement(i,e){return new Oa(i,e)}static createExportImportStatement(i,e,r){return new Ua(i,e,r)}static createExportMember(i,e,r){return e||(e=i),new Da(i,e,r)}static createExpressionStatement(i){return new qa(i)}static createIfStatement(i,e,r,n){return new Ha(i,e,r,n)}static createImportStatement(i,e,r){return new yn(i,null,e,r)}static createWildcardImportStatement(i,e,r){return new yn(null,i,e,r)}static createImportDeclaration(i,e,r){return e||(e=i),new ja(e,i,r)}static createInterfaceDeclaration(i,e,r,n,s,a,l,o){return new Xa(i,e,r,n,s,a,l,o)}static createFieldDeclaration(i,e,r,n,s,a){return new Wa(i,e,r,n,s,-1,a)}static createForStatement(i,e,r,n,s){return new Ka(i,e,r,n,s)}static createForOfStatement(i,e,r,n){return new Qa(i,e,r,n)}static createFunctionDeclaration(i,e,r,n,s,a,l,o){return new mn(i,e,r,n,s,a,l,o)}static createIndexSignature(i,e,r,n){return new Ca(i,e,r,n)}static createMethodDeclaration(i,e,r,n,s,a,l){return new yr(i,e,r,n,s,a,l)}static createNamespaceDeclaration(i,e,r,n,s){return new Za(i,e,r,n,s)}static createReturnStatement(i,e){return new Ya(i,e)}static createSwitchStatement(i,e,r){return new Ja(i,e,r)}static createSwitchCase(i,e,r){return new $a(i,e,r)}static createThrowStatement(i,e){return new el(i,e)}static createTryStatement(i,e,r,n,s){return new tl(i,e,r,n,s)}static createTypeDeclaration(i,e,r,n,s,a){return new il(i,e,r,n,s,a)}static createModuleDeclaration(i,e,r){return new rl(i,e,r)}static createVariableStatement(i,e,r){return new sl(i,e,r)}static createVariableDeclaration(i,e,r,n,s,a){return new nl(i,e,r,n,s,a)}static createVoidStatement(i,e){return new al(i,e)}static createWhileStatement(i,e,r){return new ll(i,e,r)}isLiteralKind(i){return this.kind==16&&changetype(this).literalKind==i}get isNumericLiteral(){if(this.kind==16)switch(changetype(this).literalKind){case 0:case 1:return!0}return!1}get compilesToConst(){switch(this.kind){case 16:{switch(changetype(this).literalKind){case 0:case 1:case 2:return!0}break}case 18:case 25:case 13:return!0}return!1}isAccessOn(i){let e=changetype(this);return e.kind==9&&(e=e.expression),e.kind==21&&e.expression.kind==i}get isAccessOnThis(){return this.isAccessOn(24)}get isAccessOnSuper(){return this.isAccessOn(23)}get isEmpty(){return this.kind==34}},fn=class extends N{constructor(e,r,n){super(e,n);this.isNullable=r;this.currentlyResolving=!1}hasGenericComponent(e){if(this.kind==1){let r=changetype(this);if(!r.name.next){let n=r.typeArguments;if(n&&n.length>0){for(let s=0,a=n.length;s<a;++s)if(n[s].hasGenericComponent(e))return!0}else{let s=r.name.identifier.text;for(let a=0,l=e.length;a<l;++a)if(e[a].name.text==s)return!0}}}else if(this.kind==2){let r=changetype(this),n=r.parameters;for(let a=0,l=n.length;a<l;++a)if(n[a].type.hasGenericComponent(e))return!0;if(r.returnType.hasGenericComponent(e))return!0;let s=r.explicitThisType;if(s&&s.hasGenericComponent(e))return!0}else assert(!1);return!1}},li=class extends N{constructor(e,r,n){super(3,n);this.identifier=e;this.next=r}},hr=class extends fn{constructor(e,r,n,s){super(1,n,s);this.name=e;this.typeArguments=r}get hasTypeArguments(){let e=this.typeArguments;return e!=null&&e.length>0}get isNull(){return this.name.identifier.text=="null"}},dr=class extends fn{constructor(e,r,n,s,a){super(2,s,a);this.parameters=e;this.returnType=r;this.explicitThisType=n}},ea=class extends N{constructor(e,r,n,s){super(4,s);this.name=e;this.extendsType=r;this.defaultType=n}},gr=(r=>(r[r.Default=0]="Default",r[r.Optional=1]="Optional",r[r.Rest=2]="Rest",r))(gr||{}),oi=class extends N{constructor(e,r,n,s,a){super(5,a);this.parameterKind=e;this.name=r;this.type=n;this.initializer=s;this.implicitFieldDeclaration=null;this.flags=0}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}},Tt=(g=>(g[g.Custom=0]="Custom",g[g.Global=1]="Global",g[g.Operator=2]="Operator",g[g.OperatorBinary=3]="OperatorBinary",g[g.OperatorPrefix=4]="OperatorPrefix",g[g.OperatorPostfix=5]="OperatorPostfix",g[g.Unmanaged=6]="Unmanaged",g[g.Final=7]="Final",g[g.Inline=8]="Inline",g[g.External=9]="External",g[g.ExternalJs=10]="ExternalJs",g[g.Builtin=11]="Builtin",g[g.Lazy=12]="Lazy",g[g.Unsafe=13]="Unsafe",g))(Tt||{});(i=>{function t(e){if(e.kind==6){let r=e.text;switch(assert(r.length),r.charCodeAt(0)){case 98:{if(r=="builtin")return 11;break}case 101:{if(r=="external")return 9;break}case 102:{if(r=="final")return 7;break}case 103:{if(r=="global")return 1;break}case 105:{if(r=="inline")return 8;break}case 108:{if(r=="lazy")return 12;break}case 111:{if(r=="operator")return 2;break}case 117:{if(r=="unmanaged")return 6;if(r=="unsafe")return 13;break}}}else if(e.kind==21){let r=e,n=r.expression;if(n.kind==6){let s=n.text;assert(s.length);let a=r.property.text;if(assert(a.length),s=="operator")switch(a.charCodeAt(0)){case 98:{if(a=="binary")return 3;break}case 112:{if(a=="prefix")return 4;if(a=="postfix")return 5;break}}else if(s=="external")switch(a.charCodeAt(0)){case 106:{if(a=="js")return 10;break}}}}return 0}i.fromNode=t})(Tt||={});var ta=class extends N{constructor(e,r,n,s){super(62,s);this.decoratorKind=e;this.name=r;this.args=n}},pp=(r=>(r[r.Line=0]="Line",r[r.Triple=1]="Triple",r[r.Block=2]="Block",r))(pp||{}),ra=class extends N{constructor(e,r,n){super(66,n);this.commentKind=e;this.text=r}},de=class extends N{},qe=class extends de{constructor(e,r,n){super(6,n);this.text=e;this.isQuoted=r}},Vt=(l=>(l[l.Float=0]="Float",l[l.Integer=1]="Integer",l[l.String=2]="String",l[l.Template=3]="Template",l[l.RegExp=4]="RegExp",l[l.Array=5]="Array",l[l.Object=6]="Object",l))(Vt||{}),at=class extends de{constructor(e,r){super(16,r);this.literalKind=e}},mr=class extends at{constructor(e,r){super(5,r);this.elementExpressions=e}},pi=(n=>(n[n.Prefix=0]="Prefix",n[n.As=1]="As",n[n.NonNull=2]="NonNull",n[n.Const=3]="Const",n))(pi||{}),ia=class extends de{constructor(e,r,n,s){super(7,s);this.assertionKind=e;this.expression=r;this.toType=n}},na=class extends de{constructor(e,r,n,s){super(8,s);this.operator=e;this.left=r;this.right=n}},sa=class extends de{constructor(e,r,n,s){super(9,s);this.expression=e;this.typeArguments=r;this.args=n}get typeArgumentsRange(){let e=this.typeArguments,r;return e&&(r=e.length)?ae.join(e[0].range,e[r-1].range):this.expression.range}get argumentsRange(){let e=this.args,r=e.length;return r?ae.join(e[0].range,e[r-1].range):this.expression.range}},aa=class extends de{constructor(e){super(10,e.range);this.declaration=e}},la=class extends de{constructor(e,r){super(11,r);this.expressions=e}},oa=class extends qe{constructor(i){super("constructor",!1,i),this.kind=26}},ua=class extends de{constructor(e,r,n){super(12,n);this.expression=e;this.elementExpression=r}},pa=class extends at{constructor(e,r){super(0,r);this.value=e}},ca=class extends de{constructor(e){super(14,e.range);this.declaration=e}},_a=class extends de{constructor(e,r,n){super(15,n);this.expression=e;this.isType=r}},fa=class extends at{constructor(e,r){super(1,r);this.value=e}},ha=class extends de{constructor(e,r,n,s){super(17,s);this.typeName=e;this.typeArguments=r;this.args=n}get typeArgumentsRange(){let e=this.typeArguments,r;return e&&(r=e.length)>0?ae.join(e[0].range,e[r-1].range):this.typeName.range}get argumentsRange(){let e=this.args,r=e.length;return r?ae.join(e[0].range,e[r-1].range):this.typeName.range}},da=class extends qe{constructor(i){super("null",!1,i),this.kind=18}},ma=class extends at{constructor(e,r,n){super(6,n);this.names=e;this.values=r}},ya=class extends de{constructor(i){super(19,i)}},ga=class extends de{constructor(e,r){super(20,r);this.expression=e}},ba=class extends de{constructor(e,r,n){super(21,n);this.expression=e;this.property=r}},xa=class extends at{constructor(e,r,n){super(4,n);this.pattern=e;this.patternFlags=r}},Ta=class extends de{constructor(e,r,n,s){super(22,s);this.condition=e;this.ifThen=r;this.ifElse=n}},Aa=class extends at{constructor(e,r){super(2,r);this.value=e}},Ea=class extends qe{constructor(i){super("super",!1,i),this.kind=23}},va=class extends at{constructor(e,r,n,s,a){super(3,a);this.tag=e;this.parts=r;this.rawParts=n;this.expressions=s}},Ia=class extends qe{constructor(i){super("this",!1,i),this.kind=24}},Sa=class extends qe{constructor(i){super("true",!1,i),this.kind=25}},Fa=class extends qe{constructor(i){super("false",!1,i),this.kind=13}},hn=class extends de{constructor(e,r,n,s){super(e,s);this.operator=r;this.operand=n}},Ra=class extends hn{constructor(i,e,r){super(27,i,e,r)}},ka=class extends hn{constructor(i,e,r){super(28,i,e,r)}},wa=class extends de{constructor(e,r,n){super(29,n);this.expr=e;this.type=r}},oe=class extends N{},ci=(n=>(n[n.User=0]="User",n[n.UserEntry=1]="UserEntry",n[n.Library=2]="Library",n[n.LibraryEntry=3]="LibraryEntry",n))(ci||{}),fe=class t extends N{constructor(e,r,n){super(0,new ae(0,n.length));this.sourceKind=e;this.normalizedPath=r;this.text=n;this.statements=new Array;this.debugInfoIndex=-1;this.exportPaths=null;this.lineCache=null;this.lineColumn=1;let s=gn(r);this.internalPath=s;let a=s.lastIndexOf(Ye);this.simplePath=a>=0?s.substring(a+1):s,this.range.source=this}static get native(){let e=t._native;return e||(t._native=e=new t(3,nt+"native.ts","[native code]")),e}static{this._native=null}get isNative(){return this.internalPath==Os}get isLibrary(){let e=this.sourceKind;return e==2||e==3}lineAt(e){assert(e>=0&&e<2147483647);let r=this.lineCache;if(!r){this.lineCache=r=[0];let a=this.text,l=0,o=a.length;for(;l<o;)a.charCodeAt(l++)==10&&r.push(l);r.push(2147483647)}let n=0,s=r.length-1;for(;n<s;){let a=n+(s-n>>1),l=unchecked(r[a]);if(e<l)s=a;else{if(e<unchecked(r[a+1]))return this.lineColumn=e-l+1,a+1;n=a+1}}return assert(0)}columnAt(){return this.lineColumn}},We=class extends oe{constructor(e,r,n,s,a){super(e,a);this.name=r;this.decorators=n;this.flags=s;this.overriddenModuleName=null}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}},Ca=class extends N{constructor(e,r,n,s){super(65,s);this.keyType=e;this.valueType=r;this.flags=n}},ui=class extends We{constructor(e,r,n,s,a,l,o){super(e,r,n,s,o);this.type=a;this.initializer=l}},Pa=class extends oe{constructor(e,r){super(30,r);this.statements=e}},Ba=class extends oe{constructor(e,r){super(31,r);this.label=e}},dn=class extends We{constructor(e,r,n,s,a,l,o,p){super(51,e,r,n,p);this.typeParameters=s;this.extendsType=a;this.implementsTypes=l;this.members=o;this.indexSignature=null}get isGeneric(){let e=this.typeParameters;return e!=null&&e.length>0}},La=class extends oe{constructor(e,r){super(32,r);this.label=e}},Na=class extends oe{constructor(e,r,n){super(33,n);this.body=e;this.condition=r}},Ma=class extends oe{constructor(i){super(34,i)}},Ga=class extends We{constructor(e,r,n,s,a){super(52,e,r,n,a);this.values=s}},za=class extends ui{constructor(i,e,r,n){super(53,i,null,e,null,r,n)}},Ua=class extends oe{constructor(e,r,n){super(37,n);this.name=e;this.externalName=r}},Da=class extends N{constructor(e,r,n){super(63,n);this.localName=e;this.exportedName=r}},Va=class extends oe{constructor(e,r,n,s){super(35,s);this.members=e;this.path=r;this.isDeclare=n;if(r){let a=fr(r.value);r.value.startsWith(".")?a=Xs(a,s.source.internalPath):a.startsWith(nt)||(a=nt+a),this.internalPath=a}else this.internalPath=null}},Oa=class extends oe{constructor(e,r){super(36,r);this.declaration=e}},qa=class extends oe{constructor(e){super(38,e.range);this.expression=e}},Wa=class extends ui{constructor(e,r,n,s,a,l,o){super(54,e,r,n,s,a,o);this.parameterIndex=l}},Ka=class extends oe{constructor(e,r,n,s,a){super(39,a);this.initializer=e;this.condition=r;this.incrementor=n;this.body=s}},Qa=class extends oe{constructor(e,r,n,s){super(40,s);this.variable=e;this.iterable=r;this.body=n}},_i=(r=>(r[r.None=0]="None",r[r.Parenthesized=1]="Parenthesized",r[r.Single=2]="Single",r))(_i||{}),mn=class t extends We{constructor(e,r,n,s,a,l,o,p){super(55,e,r,n,p);this.typeParameters=s;this.signature=a;this.body=l;this.arrowKind=o}get isGeneric(){let e=this.typeParameters;return e!=null&&e.length>0}clone(){return new t(this.name,this.decorators,this.flags,this.typeParameters,this.signature,this.body,this.arrowKind,this.range)}},Ha=class extends oe{constructor(e,r,n,s){super(41,s);this.condition=e;this.ifTrue=r;this.ifFalse=n}},ja=class extends We{constructor(e,r,n){super(56,e,null,0,n);this.foreignName=r}},yn=class extends oe{constructor(e,r,n,s){super(42,s);this.declarations=e;this.namespaceName=r;this.path=n;let a=fr(n.value);n.value.startsWith(".")?a=Xs(a,s.source.internalPath):a.startsWith(nt)||(a=nt+a),this.internalPath=gn(a)}},Xa=class extends dn{constructor(i,e,r,n,s,a,l,o){super(i,e,r,n,s,a,l,o),this.kind=57}},yr=class extends mn{constructor(i,e,r,n,s,a,l){super(i,e,r,n,s,a,0,l),this.kind=58}},Za=class extends We{constructor(e,r,n,s,a){super(59,e,r,n,a);this.members=s}},Ya=class extends oe{constructor(e,r){super(43,r);this.value=e}},$a=class extends N{constructor(e,r,n){super(64,n);this.label=e;this.statements=r}get isDefault(){return this.label==null}},Ja=class extends oe{constructor(e,r,n){super(44,n);this.condition=e;this.cases=r}},el=class extends oe{constructor(e,r){super(45,r);this.value=e}},tl=class extends oe{constructor(e,r,n,s,a){super(46,a);this.bodyStatements=e;this.catchVariable=r;this.catchStatements=n;this.finallyStatements=s}},rl=class extends oe{constructor(e,r,n){super(50,n);this.moduleName=e;this.flags=r}},il=class extends We{constructor(e,r,n,s,a,l){super(60,e,r,n,l);this.typeParameters=s;this.type=a}},nl=class extends ui{constructor(i,e,r,n,s,a){super(61,i,e,r,n,s,a)}},sl=class extends oe{constructor(e,r,n){super(47,n);this.decorators=e;this.declarations=r}},al=class extends oe{constructor(e,r){super(48,r);this.expression=e}},ll=class extends oe{constructor(e,r,n){super(49,n);this.condition=e;this.body=r}};function At(t,i){if(i)for(let e=0,r=i.length;e<r;++e){let n=i[e];if(n.decoratorKind==t)return n}return null}function gn(t){return t.endsWith("/")?t+="index":t.endsWith(".ts")&&(t=t.substring(0,t.length-3)),t}function Ie(t){if(t.kind==1){let i=t.name;return!(i.next||i.identifier.text.length>0)}return!1}var fi=(C=>(C[C.Abstract=0]="Abstract",C[C.As=1]="As",C[C.Async=2]="Async",C[C.Await=3]="Await",C[C.Break=4]="Break",C[C.Case=5]="Case",C[C.Catch=6]="Catch",C[C.Class=7]="Class",C[C.Const=8]="Const",C[C.Continue=9]="Continue",C[C.Constructor=10]="Constructor",C[C.Debugger=11]="Debugger",C[C.Declare=12]="Declare",C[C.Default=13]="Default",C[C.Delete=14]="Delete",C[C.Do=15]="Do",C[C.Else=16]="Else",C[C.Enum=17]="Enum",C[C.Export=18]="Export",C[C.Extends=19]="Extends",C[C.False=20]="False",C[C.Finally=21]="Finally",C[C.For=22]="For",C[C.From=23]="From",C[C.Function=24]="Function",C[C.Get=25]="Get",C[C.If=26]="If",C[C.Implements=27]="Implements",C[C.Import=28]="Import",C[C.In=29]="In",C[C.InstanceOf=30]="InstanceOf",C[C.Interface=31]="Interface",C[C.Is=32]="Is",C[C.KeyOf=33]="KeyOf",C[C.Let=34]="Let",C[C.Module=35]="Module",C[C.Namespace=36]="Namespace",C[C.New=37]="New",C[C.Null=38]="Null",C[C.Of=39]="Of",C[C.Override=40]="Override",C[C.Package=41]="Package",C[C.Private=42]="Private",C[C.Protected=43]="Protected",C[C.Public=44]="Public",C[C.Readonly=45]="Readonly",C[C.Return=46]="Return",C[C.Set=47]="Set",C[C.Static=48]="Static",C[C.Super=49]="Super",C[C.Switch=50]="Switch",C[C.This=51]="This",C[C.Throw=52]="Throw",C[C.True=53]="True",C[C.Try=54]="Try",C[C.Type=55]="Type",C[C.TypeOf=56]="TypeOf",C[C.Var=57]="Var",C[C.Void=58]="Void",C[C.While=59]="While",C[C.With=60]="With",C[C.Yield=61]="Yield",C[C.OpenBrace=62]="OpenBrace",C[C.CloseBrace=63]="CloseBrace",C[C.OpenParen=64]="OpenParen",C[C.CloseParen=65]="CloseParen",C[C.OpenBracket=66]="OpenBracket",C[C.CloseBracket=67]="CloseBracket",C[C.Dot=68]="Dot",C[C.Dot_Dot_Dot=69]="Dot_Dot_Dot",C[C.Semicolon=70]="Semicolon",C[C.Comma=71]="Comma",C[C.LessThan=72]="LessThan",C[C.GreaterThan=73]="GreaterThan",C[C.LessThan_Equals=74]="LessThan_Equals",C[C.GreaterThan_Equals=75]="GreaterThan_Equals",C[C.Equals_Equals=76]="Equals_Equals",C[C.Exclamation_Equals=77]="Exclamation_Equals",C[C.Equals_Equals_Equals=78]="Equals_Equals_Equals",C[C.Exclamation_Equals_Equals=79]="Exclamation_Equals_Equals",C[C.Equals_GreaterThan=80]="Equals_GreaterThan",C[C.Plus=81]="Plus",C[C.Minus=82]="Minus",C[C.Asterisk_Asterisk=83]="Asterisk_Asterisk",C[C.Asterisk=84]="Asterisk",C[C.Slash=85]="Slash",C[C.Percent=86]="Percent",C[C.Plus_Plus=87]="Plus_Plus",C[C.Minus_Minus=88]="Minus_Minus",C[C.LessThan_LessThan=89]="LessThan_LessThan",C[C.GreaterThan_GreaterThan=90]="GreaterThan_GreaterThan",C[C.GreaterThan_GreaterThan_GreaterThan=91]="GreaterThan_GreaterThan_GreaterThan",C[C.Ampersand=92]="Ampersand",C[C.Bar=93]="Bar",C[C.Caret=94]="Caret",C[C.Exclamation=95]="Exclamation",C[C.Tilde=96]="Tilde",C[C.Ampersand_Ampersand=97]="Ampersand_Ampersand",C[C.Bar_Bar=98]="Bar_Bar",C[C.Question=99]="Question",C[C.Colon=100]="Colon",C[C.Equals=101]="Equals",C[C.Plus_Equals=102]="Plus_Equals",C[C.Minus_Equals=103]="Minus_Equals",C[C.Asterisk_Equals=104]="Asterisk_Equals",C[C.Asterisk_Asterisk_Equals=105]="Asterisk_Asterisk_Equals",C[C.Slash_Equals=106]="Slash_Equals",C[C.Percent_Equals=107]="Percent_Equals",C[C.LessThan_LessThan_Equals=108]="LessThan_LessThan_Equals",C[C.GreaterThan_GreaterThan_Equals=109]="GreaterThan_GreaterThan_Equals",C[C.GreaterThan_GreaterThan_GreaterThan_Equals=110]="GreaterThan_GreaterThan_GreaterThan_Equals",C[C.Ampersand_Equals=111]="Ampersand_Equals",C[C.Bar_Equals=112]="Bar_Equals",C[C.Caret_Equals=113]="Caret_Equals",C[C.At=114]="At",C[C.Identifier=115]="Identifier",C[C.StringLiteral=116]="StringLiteral",C[C.IntegerLiteral=117]="IntegerLiteral",C[C.FloatLiteral=118]="FloatLiteral",C[C.TemplateLiteral=119]="TemplateLiteral",C[C.Invalid=120]="Invalid",C[C.EndOfFile=121]="EndOfFile",C))(fi||{}),_p=(r=>(r[r.Default=0]="Default",r[r.Prefer=1]="Prefer",r[r.Always=2]="Always",r))(_p||{});function Py(t){let i=t.length;switch(assert(i),t.charCodeAt(0)){case 97:{if(i==5){if(t=="async")return 2;if(t=="await")return 3;break}if(t=="as")return 1;if(t=="abstract")return 0;break}case 98:{if(t=="break")return 4;break}case 99:{if(i==5){if(t=="const")return 8;if(t=="class")return 7;if(t=="catch")return 6;break}if(t=="case")return 5;if(t=="continue")return 9;if(t=="constructor")return 10;break}case 100:{if(i==7){if(t=="default")return 13;if(t=="declare")return 12;break}if(t=="do")return 15;if(t=="delete")return 14;if(t=="debugger")return 11;break}case 101:{if(i==4){if(t=="else")return 16;if(t=="enum")return 17;break}if(t=="export")return 18;if(t=="extends")return 19;break}case 102:{if(i<=5){if(t=="false")return 20;if(t=="for")return 22;if(t=="from")return 23;break}if(t=="function")return 24;if(t=="finally")return 21;break}case 103:{if(t=="get")return 25;break}case 105:{if(i==2){if(t=="if")return 26;if(t=="in")return 29;if(t=="is")return 32;break}switch(t.charCodeAt(3)){case 108:{if(t=="implements")return 27;break}case 111:{if(t=="import")return 28;break}case 116:{if(t=="instanceof")return 30;break}case 101:{if(t=="interface")return 31;break}}break}case 107:{if(t=="keyof")return 33;break}case 108:{if(t=="let")return 34;break}case 109:{if(t=="module")return 35;break}case 110:{if(t=="new")return 37;if(t=="null")return 38;if(t=="namespace")return 36;break}case 111:{if(t=="of")return 39;if(t=="override")return 40;break}case 112:{if(i==7){if(t=="private")return 42;if(t=="package")return 41;break}if(t=="public")return 44;if(t=="protected")return 43;break}case 114:{if(t=="return")return 46;if(t=="readonly")return 45;break}case 115:{if(i==6){if(t=="switch")return 50;if(t=="static")return 48;break}if(t=="set")return 47;if(t=="super")return 49;break}case 116:{if(i==4){if(t=="true")return 53;if(t=="this")return 51;if(t=="type")return 55;break}if(t=="try")return 54;if(t=="throw")return 52;if(t=="typeof")return 56;break}case 118:{if(t=="var")return 57;if(t=="void")return 58;break}case 119:{if(t=="while")return 59;if(t=="with")return 60;break}case 121:{if(t=="yield")return 61;break}}return 120}function By(t){switch(t){case 0:case 1:case 10:case 12:case 14:case 23:case 22:case 25:case 30:case 32:case 33:case 35:case 36:case 38:case 45:case 47:case 55:case 58:return!0;default:return!1}}function fp(t){switch(assert(t.length),t.charCodeAt(0)){case 100:return t=="delete";case 102:return t=="for";case 105:return t=="instanceof";case 110:return t=="null";case 118:return t=="void"}return!1}function Te(t){switch(t){case 14:return"delete";case 29:return"in";case 30:return"instanceof";case 37:return"new";case 56:return"typeof";case 58:return"void";case 61:return"yield";case 69:return"...";case 71:return",";case 72:return"<";case 73:return">";case 74:return"<=";case 75:return">=";case 76:return"==";case 77:return"!=";case 78:return"===";case 79:return"!==";case 81:return"+";case 82:return"-";case 83:return"**";case 84:return"*";case 85:return"/";case 86:return"%";case 87:return"++";case 88:return"--";case 89:return"<<";case 90:return">>";case 91:return">>>";case 92:return"&";case 93:return"|";case 94:return"^";case 95:return"!";case 96:return"~";case 97:return"&&";case 98:return"||";case 101:return"=";case 102:return"+=";case 103:return"-=";case 104:return"*=";case 105:return"**=";case 106:return"/=";case 107:return"%=";case 108:return"<<=";case 109:return">>=";case 110:return">>>=";case 111:return"&=";case 112:return"|=";case 113:return"^=";default:return assert(!1),""}}var bn=class extends Oe{constructor(e,r=null){super(r);this.end=0;this.pos=0;this.token=-1;this.tokenPos=0;this.nextToken=-1;this.nextTokenPos=0;this.nextTokenOnNewLine=2;this.onComment=null;this.readingTemplateString=!1;this.readStringStart=0;this.readStringEnd=0;r||(r=[]),this.diagnostics=r,this.source=e;let n=e.text,s=n.length,a=0;if(a<s&&n.charCodeAt(a)==65279&&++a,a+1<s&&n.charCodeAt(a)==35&&n.charCodeAt(a+1)==33)for(a+=2;a<s&&n.charCodeAt(a)!=10;)++a;this.pos=a,this.end=s}next(e=0){this.clearNextToken();let r;do r=this.unsafeNext(e);while(r==120);return this.token=r,r}unsafeNext(e=0,r=i32.MAX_VALUE){let n=this.source.text,s=this.end,a=this.pos;for(;a<s;){this.tokenPos=a;let l=n.charCodeAt(a);switch(l){case 13:if(!(++a<s&&n.charCodeAt(a)==10))break;case 10:case 9:case 11:case 12:case 32:{++a;break}case 33:return++a,r>1&&a<s&&n.charCodeAt(a)==61?(++a,r>2&&a<s&&n.charCodeAt(a)==61?(this.pos=a+1,79):(this.pos=a,77)):(this.pos=a,95);case 34:case 39:return this.pos=a,116;case 96:return this.pos=a,119;case 37:return++a,r>1&&a<s&&n.charCodeAt(a)==61?(this.pos=a+1,107):(this.pos=a,86);case 38:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==38)return this.pos=a+1,97;if(o==61)return this.pos=a+1,111}return this.pos=a,92}case 40:return this.pos=a+1,64;case 41:return this.pos=a+1,65;case 42:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==61)return this.pos=a+1,104;if(o==42)return++a,r>2&&a<s&&n.charCodeAt(a)==61?(this.pos=a+1,105):(this.pos=a,83)}return this.pos=a,84}case 43:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==43)return this.pos=a+1,87;if(o==61)return this.pos=a+1,102}return this.pos=a,81}case 44:return this.pos=a+1,71;case 45:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==45)return this.pos=a+1,88;if(o==61)return this.pos=a+1,103}return this.pos=a,82}case 46:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(Je(o))return this.pos=a-1,118;if(r>2&&a+1<s&&o==46&&n.charCodeAt(a+1)==46)return this.pos=a+2,69}return this.pos=a,68}case 47:{let o=a;if(++a,r>1&&a<s){let p=n.charCodeAt(a);if(p==47){let c=0;for(a+1<s&&n.charCodeAt(a+1)==47&&(++a,c=1);++a<s;)if(n.charCodeAt(a)==10){++a;break}this.onComment&&this.onComment(c,n.substring(o,a),this.range(o,a));break}if(p==42){let c=!1;for(;++a<s;)if(l=n.charCodeAt(a),l==42&&a+1<s&&n.charCodeAt(a+1)==47){a+=2,c=!0;break}c?this.onComment&&this.onComment(2,n.substring(o,a),this.range(o,a)):this.error(1005,this.range(a),"*/");break}if(p==61)return this.pos=a+1,106}return this.pos=a,85}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.pos=a,this.testInteger()?117:118;case 58:return this.pos=a+1,100;case 59:return this.pos=a+1,70;case 60:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==60)return++a,r>2&&a<s&&n.charCodeAt(a)==61?(this.pos=a+1,108):(this.pos=a,89);if(o==61)return this.pos=a+1,74}return this.pos=a,72}case 61:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==61)return++a,r>2&&a<s&&n.charCodeAt(a)==61?(this.pos=a+1,78):(this.pos=a,76);if(o==62)return this.pos=a+1,80}return this.pos=a,101}case 62:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==62){if(++a,r>2&&a<s){if(o=n.charCodeAt(a),o==62)return++a,r>3&&a<s&&n.charCodeAt(a)==61?(this.pos=a+1,110):(this.pos=a,91);if(o==61)return this.pos=a+1,109}return this.pos=a,90}if(o==61)return this.pos=a+1,75}return this.pos=a,73}case 63:return this.pos=a+1,99;case 91:return this.pos=a+1,66;case 93:return this.pos=a+1,67;case 94:return++a,r>1&&a<s&&n.charCodeAt(a)==61?(this.pos=a+1,113):(this.pos=a,94);case 123:return this.pos=a+1,62;case 124:{if(++a,r>1&&a<s){let o=n.charCodeAt(a);if(o==124)return this.pos=a+1,98;if(o==61)return this.pos=a+1,112}return this.pos=a,93}case 125:return this.pos=a+1,63;case 126:return this.pos=a+1,96;case 64:return this.pos=a+1,114;default:{if(ii(l)&&a+1<s&&(l=pn(l,n.charCodeAt(a+1))),ni(l)){let p=a;for(;(a+=cr(l))<s&&si(l=n.codePointAt(a)););if(e!=2){let c=Py(n.substring(p,a));if(c!=120&&!(e==1&&By(c)))return this.pos=a,c}return this.pos=p,115}else if(on(l)){++a;break}let o=a;return a+=cr(l),this.error(1127,this.range(o,a)),this.pos=a,120}}}return this.pos=a,121}peek(e=0,r=i32.MAX_VALUE){let n=this.nextToken;if(n<0){let s=this.pos,a=this.token,l=this.tokenPos;do n=this.unsafeNext(e,r);while(n==120);this.nextToken=n,this.nextTokenPos=this.tokenPos,this.nextTokenOnNewLine=2,this.pos=s,this.token=a,this.tokenPos=l}return n}peekOnNewLine(){switch(this.nextTokenOnNewLine){case 0:return!1;case 1:return!0}this.peek();let e=this.source.text;for(let r=this.pos,n=this.nextTokenPos;r<n;++r)if(bt(e.charCodeAt(r)))return this.nextTokenOnNewLine=1,!0;return this.nextTokenOnNewLine=0,!1}skipIdentifier(e=1){return this.skip(115,e)}skip(e,r=0){let n=this.pos,s=this.token,a=this.tokenPos,l=i32.MAX_VALUE;e==73&&(l=1);let o;do o=this.unsafeNext(r,l);while(o==120);return o==e?(this.token=e,this.clearNextToken(),!0):(this.pos=n,this.token=s,this.tokenPos=a,!1)}mark(){let e=cp;return e?(cp=null,e.pos=this.pos,e.token=this.token,e.tokenPos=this.tokenPos):e=new ol(this.pos,this.token,this.tokenPos),e}discard(e){cp=e}reset(e){this.pos=e.pos,this.token=e.token,this.tokenPos=e.tokenPos,this.clearNextToken()}clearNextToken(){this.nextToken=-1,this.nextTokenPos=0,this.nextTokenOnNewLine=2}range(e=-1,r=-1){e<0?(e=this.tokenPos,r=this.pos):r<0&&(r=e);let n=new ae(e,r);return n.source=this.source,n}readIdentifier(){let e=this.source.text,r=this.end,n=this.pos,s=n,a=e.codePointAt(n);for(assert(ni(a));(n+=cr(a))<r&&si(a=e.codePointAt(n)););return this.pos=n,e.substring(s,n)}readString(e=0,r=!1){let n=this.source.text,s=this.end,a=this.pos;e||(e=n.charCodeAt(a++));let l=a;this.readStringStart=l;let o="";for(;;){if(a>=s){o+=n.substring(l,a),this.error(1002,this.range(l-1,s)),this.readStringEnd=s;break}let p=n.charCodeAt(a);if(p==e){this.readStringEnd=a,o+=n.substring(l,a++);break}if(p==92){o+=n.substring(l,a),this.pos=a,o+=this.readEscapeSequence(r),a=this.pos,l=a;continue}if(e==96){if(p==36&&a+1<s&&n.charCodeAt(a+1)==123)return o+=n.substring(l,a),this.readStringEnd=a,this.pos=a+2,this.readingTemplateString=!0,o}else if(bt(p)){o+=n.substring(l,a),this.error(1002,this.range(l-1,a)),this.readStringEnd=a;break}++a}return this.pos=a,this.readingTemplateString=!1,o}readEscapeSequence(e=!1){let r=this.pos,n=this.end;if(++this.pos>=n)return this.error(1126,this.range(n)),"";let s=this.source.text,a=s.charCodeAt(this.pos++);switch(a){case 48:return e&&this.pos<n&&Je(s.charCodeAt(this.pos))?(++this.pos,s.substring(r,this.pos)):"\0";case 98:return"\b";case 116:return"	";case 110:return`
`;case 118:return"\v";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 117:return this.pos<n&&s.charCodeAt(this.pos)==123?(++this.pos,this.readExtendedUnicodeEscape(e?r:-1)):this.readUnicodeEscape(e?r:-1);case 120:return this.readHexadecimalEscape(2,e?r:-1);case 13:this.pos<n&&s.charCodeAt(this.pos)==10&&++this.pos;case 10:case 8232:case 8233:return"";default:return String.fromCodePoint(a)}}readRegexpPattern(){let e=this.source.text,r=this.pos,n=this.end,s=!1;for(;;){if(this.pos>=n){this.error(1161,this.range(r,n));break}if(e.charCodeAt(this.pos)==92){++this.pos,s=!0;continue}let a=e.charCodeAt(this.pos);if(!s&&a==47)break;if(bt(a)){this.error(1161,this.range(r,this.pos));break}++this.pos,s=!1}return e.substring(r,this.pos)}readRegexpFlags(){let e=this.source.text,r=this.pos,n=this.end,s=0;for(;this.pos<n;){let a=e.charCodeAt(this.pos);if(!si(a))break;switch(++this.pos,a){case 103:{s|=s&1?-1:1;break}case 105:{s|=s&2?-1:2;break}case 109:{s|=s&4?-1:4;break}default:{s=-1;break}}}return s==-1&&this.error(209,this.range(r,this.pos)),e.substring(r,this.pos)}testInteger(){let e=this.source.text,r=this.pos,n=this.end;if(r+1<n&&e.charCodeAt(r)==48)switch(e.charCodeAt(r+2)|32){case 120:case 98:case 111:return!0}for(;r<n;){let s=e.charCodeAt(r);if(s==46||(s|32)==101)return!1;if(s!=95&&(s<48||s>57))break;r++}return!0}readInteger(){let e=this.source.text,r=this.pos;if(r+2<this.end&&e.charCodeAt(r)==48){switch(e.charCodeAt(r+1)|32){case 120:return this.pos=r+2,this.readHexInteger();case 98:return this.pos=r+2,this.readBinaryInteger();case 111:return this.pos=r+2,this.readOctalInteger()}if(js(e.charCodeAt(r+1))){let n=r;this.pos=r+1;let s=this.readOctalInteger();return this.error(1121,this.range(n,this.pos)),s}}return this.readDecimalInteger()}readHexInteger(){let e=this.source.text,r=this.pos,n=this.end,s=r,a=s,l=i64_zero,o=i64_new(4),p=l,c=!1;for(;r<n;){let _=e.charCodeAt(r);if(Je(_))p=i64_add(i64_shl(l,o),i64_new(_-48));else if(cn(_))p=i64_add(i64_shl(l,o),i64_new((_|32)+-87));else if(_==95)a==r&&this.error(a==s?6188:6189,this.range(r)),a=r+1;else break;i64_gt_u(l,p)&&(c=!0),l=p,++r}return r==s?this.error(1125,this.range(s)):a==r&&this.error(6188,this.range(a-1)),c&&this.error(236,this.range(s-2,r),this.source.text.substring(s-2,r)),this.pos=r,l}readDecimalInteger(){let e=this.source.text,r=this.pos,n=this.end,s=r,a=s,l=i64_zero,o=i64_new(10),p=l,c=!1;for(;r<n;){let _=e.charCodeAt(r);if(Je(_))p=i64_add(i64_mul(l,o),i64_new(_-48));else if(_==95)a==r?this.error(a==s?6188:6189,this.range(r)):r-1==s&&e.charCodeAt(r-1)==48&&this.error(6188,this.range(r)),a=r+1;else break;i64_gt_u(l,p)&&(c=!0),l=p,++r}return r==s?this.error(1124,this.range(s)):a==r?this.error(6188,this.range(a-1)):c&&this.error(236,this.range(s,r),this.source.text.substring(s,r)),this.pos=r,l}readOctalInteger(){let e=this.source.text,r=this.pos,n=this.end,s=r,a=s,l=i64_zero,o=i64_new(3),p=l,c=!1;for(;r<n;){let _=e.charCodeAt(r);if(js(_))p=i64_add(i64_shl(l,o),i64_new(_-48));else if(_==95)a==r&&this.error(a==s?6188:6189,this.range(r)),a=r+1;else break;i64_gt_u(l,p)&&(c=!0),l=p,++r}return r==s?this.error(1178,this.range(s)):a==r?this.error(6188,this.range(a-1)):c&&this.error(236,this.range(s-2,r),this.source.text.substring(s-2,r)),this.pos=r,l}readBinaryInteger(){let e=this.source.text,r=this.pos,n=this.end,s=r,a=s,l=i64_zero,o=l,p=!1;for(;r<n;){let c=e.charCodeAt(r);if(c==48)o=i64_shl(l,i64_one);else if(c==49)o=i64_or(i64_shl(l,i64_one),i64_one);else if(c==95)a==r&&this.error(a==s?6188:6189,this.range(r)),a=r+1;else break;i64_gt(l,o)&&(p=!0),l=o,++r}return r==s?this.error(1177,this.range(s)):a==r?this.error(6188,this.range(a-1)):p&&this.error(236,this.range(s-2,r),this.source.text.substring(s-2,r)),this.pos=r,l}readFloat(){return this.readDecimalFloat()}readDecimalFloat(){let e=this.source.text,r=this.end,n=this.pos,s=this.readDecimalFloatPartial(!1);if(this.pos<r&&e.charCodeAt(this.pos)==46&&(++this.pos,s+=this.readDecimalFloatPartial()),this.pos<r){let l=e.charCodeAt(this.pos);(l|32)==101&&((++this.pos<r&&(l=e.charCodeAt(this.pos))==45||l==43&&Je(e.charCodeAt(this.pos+1)))&&++this.pos,s+=this.readDecimalFloatPartial())}let a=e.substring(n,this.pos);return s&&(a=a.replaceAll("_","")),parseFloat(a)}readDecimalFloatPartial(e=!0){let r=this.source.text,n=this.pos,s=n,a=this.end,l=s,o=0;for(;n<a;){let p=r.charCodeAt(n);if(p==95)l==n?this.error(l==s?6188:6189,this.range(n)):!e&&n-1==s&&r.charCodeAt(n-1)==48&&this.error(6188,this.range(n)),l=n+1,++o;else if(!Je(p))break;++n}return n!=s&&l==n&&this.error(6188,this.range(l-1)),this.pos=n,o}readHexFloat(){throw new Error("not implemented")}readHexadecimalEscape(e=2,r=-1){let n=0,s=this.source.text,a=this.pos,l=this.end;for(;a<l;){let o=s.charCodeAt(a++);if(Je(o))n=(n<<4)+o-48;else if(cn(o))n=(n<<4)+(o|32)+-87;else return~r?(this.pos=--a,s.substring(r,a)):(this.pos=a,this.error(1125,this.range(a-1,a)),"");if(--e==0)break}return e?(this.pos=a,~r?s.substring(r,a):(this.error(1126,this.range(a)),"")):(this.pos=a,String.fromCodePoint(n))}checkForIdentifierStartAfterNumericLiteral(){let e=this.pos;e<this.end&&ni(this.source.text.charCodeAt(e))&&this.error(1351,this.range(e))}readUnicodeEscape(e=-1){return this.readHexadecimalEscape(4,e)}readExtendedUnicodeEscape(e=-1){let r=this.pos,n=this.readHexInteger(),s=i64_low(n),a=!1;assert(!i64_high(n)),s>1114111&&(e==-1&&this.error(1198,this.range(r,this.pos)),a=!0);let l=this.end,o=this.source.text;return this.pos>=l?(e==-1&&this.error(1126,this.range(r,l)),a=!0):o.charCodeAt(this.pos)==125?++this.pos:(e==-1&&this.error(1199,this.range(r,this.pos)),a=!0),a?~e?o.substring(e,this.pos):"":String.fromCodePoint(s)}},ol=class{constructor(i,e,r){this.pos=i;this.token=e;this.tokenPos=r}},cp=null;var L;(F=>(F.None=0,F.Unreachable=1,F.I32=2,F.I64=3,F.F32=4,F.F64=5,F.V128=6,F.Funcref=Uc(),F.Externref=Dc(),F.Anyref=Vc(),F.Eqref=Oc(),F.Structref=Wc(),F.Arrayref=Kc(),F.I31ref=qc(),F.Stringref=Qc(),F.StringviewWTF8=Hc(),F.StringviewWTF16=jc(),F.StringviewIter=Xc(),F.Noneref=Zc(),F.Nofuncref=$c(),F.Noexternref=Yc()))(L||={});var ue;(I=>{I.Extern=0,I.Func=1,I.Any=2,I.Eq=3,I.I31=4,I.Struct=5,I.Array=6,I.Exn=7,I.String=8,I.StringviewWTF8=9,I.StringviewWTF16=10,I.StringviewIter=11,I.None=12,I.Noextern=13,I.Nofunc=14;function E(k){return Jc(k)}I.isBottom=E;function x(k){return e_(k)}I.getBottom=x;function A(k,F){return t_(k,F)}I.isSubtype=A;function S(k,F){if(k==F)return k;if(x(k)!=x(F))return-1;if(E(k))return F;if(E(F))return k;if(k>F){let B=k;k=F,F=B}switch(k){case I.Extern:case I.Func:return-1;case I.Any:return k;case I.Eq:return F==I.I31||F==I.Struct||F==I.Array?I.Eq:I.Any;case I.I31:return F==I.Struct||F==I.Array?I.Eq:I.Any;case I.Struct:return F==I.Array?I.Eq:I.Any;case I.Array:case I.String:case I.StringviewWTF8:case I.StringviewWTF16:case I.StringviewIter:return I.Any}return assert(!1),-1}I.leastUpperBound=S})(ue||={});var Tn;(r=>(r.NotPacked=0,r.I8=1,r.I16=2))(Tn||={});var dp;(s=>{s.SelfSupertype=0,s.InvalidSupertype=1,s.ForwardSupertypeReference=2,s.ForwardChildReference=3;function n(a){switch(a){case 0:return"SelfSupertype";case 1:return"InvalidSupertype";case 2:return"ForwardSupertypeReference";case 3:return"ForwardChildReference"}return assert(!1),""}s.toString=n})(dp||={});var mp=(S=>(S[S.MVP=0]="MVP",S[S.Atomics=1]="Atomics",S[S.MutableGlobals=2]="MutableGlobals",S[S.TruncSat=4]="TruncSat",S[S.SIMD=8]="SIMD",S[S.BulkMemory=16]="BulkMemory",S[S.SignExt=32]="SignExt",S[S.ExceptionHandling=64]="ExceptionHandling",S[S.TailCall=128]="TailCall",S[S.ReferenceTypes=256]="ReferenceTypes",S[S.MultiValue=512]="MultiValue",S[S.GC=1024]="GC",S[S.Memory64=2048]="Memory64",S[S.RelaxedSIMD=4096]="RelaxedSIMD",S[S.ExtendedConst=8192]="ExtendedConst",S[S.Stringref=16384]="Stringref",S[S.MultiMemory=32768]="MultiMemory",S[S.All=131071]="All",S))(mp||{}),br=(M=>(M[M.Invalid=0]="Invalid",M[M.Block=1]="Block",M[M.If=2]="If",M[M.Loop=3]="Loop",M[M.Break=4]="Break",M[M.Switch=5]="Switch",M[M.Call=6]="Call",M[M.CallIndirect=7]="CallIndirect",M[M.LocalGet=8]="LocalGet",M[M.LocalSet=9]="LocalSet",M[M.GlobalGet=10]="GlobalGet",M[M.GlobalSet=11]="GlobalSet",M[M.Load=12]="Load",M[M.Store=13]="Store",M[M.Const=14]="Const",M[M.Unary=15]="Unary",M[M.Binary=16]="Binary",M[M.Select=17]="Select",M[M.Drop=18]="Drop",M[M.Return=19]="Return",M[M.MemorySize=20]="MemorySize",M[M.MemoryGrow=21]="MemoryGrow",M[M.Nop=22]="Nop",M[M.Unreachable=23]="Unreachable",M[M.AtomicRMW=24]="AtomicRMW",M[M.AtomicCmpxchg=25]="AtomicCmpxchg",M[M.AtomicWait=26]="AtomicWait",M[M.AtomicNotify=27]="AtomicNotify",M[M.AtomicFence=28]="AtomicFence",M[M.SIMDExtract=29]="SIMDExtract",M[M.SIMDReplace=30]="SIMDReplace",M[M.SIMDShuffle=31]="SIMDShuffle",M[M.SIMDTernary=32]="SIMDTernary",M[M.SIMDShift=33]="SIMDShift",M[M.SIMDLoad=34]="SIMDLoad",M[M.SIMDLoadStoreLane=35]="SIMDLoadStoreLane",M[M.MemoryInit=36]="MemoryInit",M[M.DataDrop=37]="DataDrop",M[M.MemoryCopy=38]="MemoryCopy",M[M.MemoryFill=39]="MemoryFill",M[M.Pop=40]="Pop",M[M.RefNull=41]="RefNull",M[M.RefIsNull=42]="RefIsNull",M[M.RefFunc=43]="RefFunc",M[M.RefEq=44]="RefEq",M[M.TableGet=45]="TableGet",M[M.TableSet=46]="TableSet",M[M.TableSize=47]="TableSize",M[M.TableGrow=48]="TableGrow",M[M.TableFill=49]="TableFill",M[M.TableCopy=50]="TableCopy",M[M.Try=51]="Try",M[M.TryTable=52]="TryTable",M[M.Throw=53]="Throw",M[M.Rethrow=54]="Rethrow",M[M.ThrowRef=55]="ThrowRef",M[M.TupleMake=56]="TupleMake",M[M.TupleExtract=57]="TupleExtract",M[M.RefI31=58]="RefI31",M[M.I31Get=59]="I31Get",M[M.CallRef=60]="CallRef",M[M.RefTest=61]="RefTest",M[M.RefCast=62]="RefCast",M[M.BrOn=63]="BrOn",M[M.StructNew=64]="StructNew",M[M.StructGet=65]="StructGet",M[M.StructSet=66]="StructSet",M[M.ArrayNew=67]="ArrayNew",M[M.ArrayNewData=68]="ArrayNewData",M[M.ArrayNewElem=69]="ArrayNewElem",M[M.ArrayNewFixed=70]="ArrayNewFixed",M[M.ArrayGet=71]="ArrayGet",M[M.ArraySet=72]="ArraySet",M[M.ArrayLen=73]="ArrayLen",M[M.ArrayCopy=74]="ArrayCopy",M[M.ArrayFill=75]="ArrayFill",M[M.ArrayInitData=76]="ArrayInitData",M[M.ArrayInitElem=77]="ArrayInitElem",M[M.RefAs=78]="RefAs",M[M.StringNew=79]="StringNew",M[M.StringConst=80]="StringConst",M[M.StringMeasure=81]="StringMeasure",M[M.StringEncode=82]="StringEncode",M[M.StringConcat=83]="StringConcat",M[M.StringEq=84]="StringEq",M[M.StringAs=85]="StringAs",M[M.StringWTF8Advance=86]="StringWTF8Advance",M[M.StringWTF16Get=87]="StringWTF16Get",M[M.StringIterNext=88]="StringIterNext",M[M.StringIterMove=89]="StringIterMove",M[M.StringSliceWTF=90]="StringSliceWTF",M[M.StringSliceIter=91]="StringSliceIter",M[M.ResumeId=92]="ResumeId",M))(br||{}),yp=(s=>(s[s.Function=0]="Function",s[s.Table=1]="Table",s[s.Memory=2]="Memory",s[s.Global=3]="Global",s[s.Tag=4]="Tag",s))(yp||{}),En=(R=>(R[R.ClzI32=0]="ClzI32",R[R.ClzI64=1]="ClzI64",R[R.CtzI32=2]="CtzI32",R[R.CtzI64=3]="CtzI64",R[R.PopcntI32=4]="PopcntI32",R[R.PopcntI64=5]="PopcntI64",R[R.NegF32=6]="NegF32",R[R.NegF64=7]="NegF64",R[R.AbsF32=8]="AbsF32",R[R.AbsF64=9]="AbsF64",R[R.CeilF32=10]="CeilF32",R[R.CeilF64=11]="CeilF64",R[R.FloorF32=12]="FloorF32",R[R.FloorF64=13]="FloorF64",R[R.TruncF32=14]="TruncF32",R[R.TruncF64=15]="TruncF64",R[R.NearestF32=16]="NearestF32",R[R.NearestF64=17]="NearestF64",R[R.SqrtF32=18]="SqrtF32",R[R.SqrtF64=19]="SqrtF64",R[R.EqzI32=20]="EqzI32",R[R.EqzI64=21]="EqzI64",R[R.ExtendI32ToI64=22]="ExtendI32ToI64",R[R.ExtendU32ToU64=23]="ExtendU32ToU64",R[R.WrapI64ToI32=24]="WrapI64ToI32",R[R.TruncF32ToI32=25]="TruncF32ToI32",R[R.TruncF32ToI64=26]="TruncF32ToI64",R[R.TruncF32ToU32=27]="TruncF32ToU32",R[R.TruncF32ToU64=28]="TruncF32ToU64",R[R.TruncF64ToI32=29]="TruncF64ToI32",R[R.TruncF64ToI64=30]="TruncF64ToI64",R[R.TruncF64ToU32=31]="TruncF64ToU32",R[R.TruncF64ToU64=32]="TruncF64ToU64",R[R.ReinterpretF32ToI32=33]="ReinterpretF32ToI32",R[R.ReinterpretF64ToI64=34]="ReinterpretF64ToI64",R[R.ConvertI32ToF32=35]="ConvertI32ToF32",R[R.ConvertI32ToF64=36]="ConvertI32ToF64",R[R.ConvertU32ToF32=37]="ConvertU32ToF32",R[R.ConvertU32ToF64=38]="ConvertU32ToF64",R[R.ConvertI64ToF32=39]="ConvertI64ToF32",R[R.ConvertI64ToF64=40]="ConvertI64ToF64",R[R.ConvertU64ToF32=41]="ConvertU64ToF32",R[R.ConvertU64ToF64=42]="ConvertU64ToF64",R[R.PromoteF32ToF64=43]="PromoteF32ToF64",R[R.DemoteF64ToF32=44]="DemoteF64ToF32",R[R.ReinterpretI32ToF32=45]="ReinterpretI32ToF32",R[R.ReinterpretI64ToF64=46]="ReinterpretI64ToF64",R[R.Extend8I32=47]="Extend8I32",R[R.Extend16I32=48]="Extend16I32",R[R.Extend8I64=49]="Extend8I64",R[R.Extend16I64=50]="Extend16I64",R[R.Extend32I64=51]="Extend32I64",R[R.TruncSatF32ToI32=52]="TruncSatF32ToI32",R[R.TruncSatF32ToU32=53]="TruncSatF32ToU32",R[R.TruncSatF64ToI32=54]="TruncSatF64ToI32",R[R.TruncSatF64ToU32=55]="TruncSatF64ToU32",R[R.TruncSatF32ToI64=56]="TruncSatF32ToI64",R[R.TruncSatF32ToU64=57]="TruncSatF32ToU64",R[R.TruncSatF64ToI64=58]="TruncSatF64ToI64",R[R.TruncSatF64ToU64=59]="TruncSatF64ToU64",R[R.SplatI8x16=60]="SplatI8x16",R[R.SplatI16x8=61]="SplatI16x8",R[R.SplatI32x4=62]="SplatI32x4",R[R.SplatI64x2=63]="SplatI64x2",R[R.SplatF32x4=64]="SplatF32x4",R[R.SplatF64x2=65]="SplatF64x2",R[R.NotV128=66]="NotV128",R[R.AnyTrueV128=67]="AnyTrueV128",R[R.AbsI8x16=68]="AbsI8x16",R[R.NegI8x16=69]="NegI8x16",R[R.AllTrueI8x16=70]="AllTrueI8x16",R[R.BitmaskI8x16=71]="BitmaskI8x16",R[R.PopcntI8x16=72]="PopcntI8x16",R[R.AbsI16x8=73]="AbsI16x8",R[R.NegI16x8=74]="NegI16x8",R[R.AllTrueI16x8=75]="AllTrueI16x8",R[R.BitmaskI16x8=76]="BitmaskI16x8",R[R.AbsI32x4=77]="AbsI32x4",R[R.NegI32x4=78]="NegI32x4",R[R.AllTrueI32x4=79]="AllTrueI32x4",R[R.BitmaskI32x4=80]="BitmaskI32x4",R[R.AbsI64x2=81]="AbsI64x2",R[R.NegI64x2=82]="NegI64x2",R[R.AllTrueI64x2=83]="AllTrueI64x2",R[R.BitmaskI64x2=84]="BitmaskI64x2",R[R.AbsF32x4=85]="AbsF32x4",R[R.NegF32x4=86]="NegF32x4",R[R.SqrtF32x4=87]="SqrtF32x4",R[R.CeilF32x4=88]="CeilF32x4",R[R.FloorF32x4=89]="FloorF32x4",R[R.TruncF32x4=90]="TruncF32x4",R[R.NearestF32x4=91]="NearestF32x4",R[R.AbsF64x2=92]="AbsF64x2",R[R.NegF64x2=93]="NegF64x2",R[R.SqrtF64x2=94]="SqrtF64x2",R[R.CeilF64x2=95]="CeilF64x2",R[R.FloorF64x2=96]="FloorF64x2",R[R.TruncF64x2=97]="TruncF64x2",R[R.NearestF64x2=98]="NearestF64x2",R[R.ExtaddPairwiseI8x16ToI16x8=99]="ExtaddPairwiseI8x16ToI16x8",R[R.ExtaddPairwiseU8x16ToU16x8=100]="ExtaddPairwiseU8x16ToU16x8",R[R.ExtaddPairwiseI16x8ToI32x4=101]="ExtaddPairwiseI16x8ToI32x4",R[R.ExtaddPairwiseU16x8ToU32x4=102]="ExtaddPairwiseU16x8ToU32x4",R[R.TruncSatF32x4ToI32x4=103]="TruncSatF32x4ToI32x4",R[R.TruncSatF32x4ToU32x4=104]="TruncSatF32x4ToU32x4",R[R.ConvertI32x4ToF32x4=105]="ConvertI32x4ToF32x4",R[R.ConvertU32x4ToF32x4=106]="ConvertU32x4ToF32x4",R[R.ExtendLowI8x16ToI16x8=107]="ExtendLowI8x16ToI16x8",R[R.ExtendHighI8x16ToI16x8=108]="ExtendHighI8x16ToI16x8",R[R.ExtendLowU8x16ToU16x8=109]="ExtendLowU8x16ToU16x8",R[R.ExtendHighU8x16ToU16x8=110]="ExtendHighU8x16ToU16x8",R[R.ExtendLowI16x8ToI32x4=111]="ExtendLowI16x8ToI32x4",R[R.ExtendHighI16x8ToI32x4=112]="ExtendHighI16x8ToI32x4",R[R.ExtendLowU16x8ToU32x4=113]="ExtendLowU16x8ToU32x4",R[R.ExtendHighU16x8ToU32x4=114]="ExtendHighU16x8ToU32x4",R[R.ExtendLowI32x4ToI64x2=115]="ExtendLowI32x4ToI64x2",R[R.ExtendHighI32x4ToI64x2=116]="ExtendHighI32x4ToI64x2",R[R.ExtendLowU32x4ToU64x2=117]="ExtendLowU32x4ToU64x2",R[R.ExtendHighU32x4ToU64x2=118]="ExtendHighU32x4ToU64x2",R[R.ConvertLowI32x4ToF64x2=119]="ConvertLowI32x4ToF64x2",R[R.ConvertLowU32x4ToF64x2=120]="ConvertLowU32x4ToF64x2",R[R.TruncSatF64x2ToI32x4Zero=121]="TruncSatF64x2ToI32x4Zero",R[R.TruncSatF64x2ToU32x4Zero=122]="TruncSatF64x2ToU32x4Zero",R[R.DemoteZeroF64x2ToF32x4=123]="DemoteZeroF64x2ToF32x4",R[R.PromoteLowF32x4ToF64x2=124]="PromoteLowF32x4ToF64x2",R[R.RelaxedTruncF32x4ToI32x4=125]="RelaxedTruncF32x4ToI32x4",R[R.RelaxedTruncF32x4ToU32x4=126]="RelaxedTruncF32x4ToU32x4",R[R.RelaxedTruncF64x2ToI32x4Zero=127]="RelaxedTruncF64x2ToI32x4Zero",R[R.RelaxedTruncF64x2ToU32x4Zero=128]="RelaxedTruncF64x2ToU32x4Zero",R[R._last=128]="_last",R[R.ClzSize=129]="ClzSize",R[R.CtzSize=130]="CtzSize",R[R.PopcntSize=131]="PopcntSize",R[R.EqzSize=132]="EqzSize",R))(En||{}),di=(b=>(b[b.AddI32=0]="AddI32",b[b.SubI32=1]="SubI32",b[b.MulI32=2]="MulI32",b[b.DivI32=3]="DivI32",b[b.DivU32=4]="DivU32",b[b.RemI32=5]="RemI32",b[b.RemU32=6]="RemU32",b[b.AndI32=7]="AndI32",b[b.OrI32=8]="OrI32",b[b.XorI32=9]="XorI32",b[b.ShlI32=10]="ShlI32",b[b.ShrI32=11]="ShrI32",b[b.ShrU32=12]="ShrU32",b[b.RotlI32=13]="RotlI32",b[b.RotrI32=14]="RotrI32",b[b.EqI32=15]="EqI32",b[b.NeI32=16]="NeI32",b[b.LtI32=17]="LtI32",b[b.LtU32=18]="LtU32",b[b.LeI32=19]="LeI32",b[b.LeU32=20]="LeU32",b[b.GtI32=21]="GtI32",b[b.GtU32=22]="GtU32",b[b.GeI32=23]="GeI32",b[b.GeU32=24]="GeU32",b[b.AddI64=25]="AddI64",b[b.SubI64=26]="SubI64",b[b.MulI64=27]="MulI64",b[b.DivI64=28]="DivI64",b[b.DivU64=29]="DivU64",b[b.RemI64=30]="RemI64",b[b.RemU64=31]="RemU64",b[b.AndI64=32]="AndI64",b[b.OrI64=33]="OrI64",b[b.XorI64=34]="XorI64",b[b.ShlI64=35]="ShlI64",b[b.ShrI64=36]="ShrI64",b[b.ShrU64=37]="ShrU64",b[b.RotlI64=38]="RotlI64",b[b.RotrI64=39]="RotrI64",b[b.EqI64=40]="EqI64",b[b.NeI64=41]="NeI64",b[b.LtI64=42]="LtI64",b[b.LtU64=43]="LtU64",b[b.LeI64=44]="LeI64",b[b.LeU64=45]="LeU64",b[b.GtI64=46]="GtI64",b[b.GtU64=47]="GtU64",b[b.GeI64=48]="GeI64",b[b.GeU64=49]="GeU64",b[b.AddF32=50]="AddF32",b[b.SubF32=51]="SubF32",b[b.MulF32=52]="MulF32",b[b.DivF32=53]="DivF32",b[b.CopysignF32=54]="CopysignF32",b[b.MinF32=55]="MinF32",b[b.MaxF32=56]="MaxF32",b[b.EqF32=57]="EqF32",b[b.NeF32=58]="NeF32",b[b.LtF32=59]="LtF32",b[b.LeF32=60]="LeF32",b[b.GtF32=61]="GtF32",b[b.GeF32=62]="GeF32",b[b.AddF64=63]="AddF64",b[b.SubF64=64]="SubF64",b[b.MulF64=65]="MulF64",b[b.DivF64=66]="DivF64",b[b.CopysignF64=67]="CopysignF64",b[b.MinF64=68]="MinF64",b[b.MaxF64=69]="MaxF64",b[b.EqF64=70]="EqF64",b[b.NeF64=71]="NeF64",b[b.LtF64=72]="LtF64",b[b.LeF64=73]="LeF64",b[b.GtF64=74]="GtF64",b[b.GeF64=75]="GeF64",b[b.EqI8x16=76]="EqI8x16",b[b.NeI8x16=77]="NeI8x16",b[b.LtI8x16=78]="LtI8x16",b[b.LtU8x16=79]="LtU8x16",b[b.GtI8x16=80]="GtI8x16",b[b.GtU8x16=81]="GtU8x16",b[b.LeI8x16=82]="LeI8x16",b[b.LeU8x16=83]="LeU8x16",b[b.GeI8x16=84]="GeI8x16",b[b.GeU8x16=85]="GeU8x16",b[b.EqI16x8=86]="EqI16x8",b[b.NeI16x8=87]="NeI16x8",b[b.LtI16x8=88]="LtI16x8",b[b.LtU16x8=89]="LtU16x8",b[b.GtI16x8=90]="GtI16x8",b[b.GtU16x8=91]="GtU16x8",b[b.LeI16x8=92]="LeI16x8",b[b.LeU16x8=93]="LeU16x8",b[b.GeI16x8=94]="GeI16x8",b[b.GeU16x8=95]="GeU16x8",b[b.EqI32x4=96]="EqI32x4",b[b.NeI32x4=97]="NeI32x4",b[b.LtI32x4=98]="LtI32x4",b[b.LtU32x4=99]="LtU32x4",b[b.GtI32x4=100]="GtI32x4",b[b.GtU32x4=101]="GtU32x4",b[b.LeI32x4=102]="LeI32x4",b[b.LeU32x4=103]="LeU32x4",b[b.GeI32x4=104]="GeI32x4",b[b.GeU32x4=105]="GeU32x4",b[b.EqI64x2=106]="EqI64x2",b[b.NeI64x2=107]="NeI64x2",b[b.LtI64x2=108]="LtI64x2",b[b.GtI64x2=109]="GtI64x2",b[b.LeI64x2=110]="LeI64x2",b[b.GeI64x2=111]="GeI64x2",b[b.EqF32x4=112]="EqF32x4",b[b.NeF32x4=113]="NeF32x4",b[b.LtF32x4=114]="LtF32x4",b[b.GtF32x4=115]="GtF32x4",b[b.LeF32x4=116]="LeF32x4",b[b.GeF32x4=117]="GeF32x4",b[b.EqF64x2=118]="EqF64x2",b[b.NeF64x2=119]="NeF64x2",b[b.LtF64x2=120]="LtF64x2",b[b.GtF64x2=121]="GtF64x2",b[b.LeF64x2=122]="LeF64x2",b[b.GeF64x2=123]="GeF64x2",b[b.AndV128=124]="AndV128",b[b.OrV128=125]="OrV128",b[b.XorV128=126]="XorV128",b[b.AndnotV128=127]="AndnotV128",b[b.AddI8x16=128]="AddI8x16",b[b.AddSatI8x16=129]="AddSatI8x16",b[b.AddSatU8x16=130]="AddSatU8x16",b[b.SubI8x16=131]="SubI8x16",b[b.SubSatI8x16=132]="SubSatI8x16",b[b.SubSatU8x16=133]="SubSatU8x16",b[b.MinI8x16=134]="MinI8x16",b[b.MinU8x16=135]="MinU8x16",b[b.MaxI8x16=136]="MaxI8x16",b[b.MaxU8x16=137]="MaxU8x16",b[b.AvgrU8x16=138]="AvgrU8x16",b[b.AddI16x8=139]="AddI16x8",b[b.AddSatI16x8=140]="AddSatI16x8",b[b.AddSatU16x8=141]="AddSatU16x8",b[b.SubI16x8=142]="SubI16x8",b[b.SubSatI16x8=143]="SubSatI16x8",b[b.SubSatU16x8=144]="SubSatU16x8",b[b.MulI16x8=145]="MulI16x8",b[b.MinI16x8=146]="MinI16x8",b[b.MinU16x8=147]="MinU16x8",b[b.MaxI16x8=148]="MaxI16x8",b[b.MaxU16x8=149]="MaxU16x8",b[b.AvgrU16x8=150]="AvgrU16x8",b[b.Q15mulrSatI16x8=151]="Q15mulrSatI16x8",b[b.ExtmulLowI16x8=152]="ExtmulLowI16x8",b[b.ExtmulHighI16x8=153]="ExtmulHighI16x8",b[b.ExtmulLowU16x8=154]="ExtmulLowU16x8",b[b.ExtmulHighU16x8=155]="ExtmulHighU16x8",b[b.AddI32x4=156]="AddI32x4",b[b.SubI32x4=157]="SubI32x4",b[b.MulI32x4=158]="MulI32x4",b[b.MinI32x4=159]="MinI32x4",b[b.MinU32x4=160]="MinU32x4",b[b.MaxI32x4=161]="MaxI32x4",b[b.MaxU32x4=162]="MaxU32x4",b[b.DotI16x8=163]="DotI16x8",b[b.ExtmulLowI32x4=164]="ExtmulLowI32x4",b[b.ExtmulHighI32x4=165]="ExtmulHighI32x4",b[b.ExtmulLowU32x4=166]="ExtmulLowU32x4",b[b.ExtmulHighU32x4=167]="ExtmulHighU32x4",b[b.AddI64x2=168]="AddI64x2",b[b.SubI64x2=169]="SubI64x2",b[b.MulI64x2=170]="MulI64x2",b[b.ExtmulLowI64x2=171]="ExtmulLowI64x2",b[b.ExtmulHighI64x2=172]="ExtmulHighI64x2",b[b.ExtmulLowU64x2=173]="ExtmulLowU64x2",b[b.ExtmulHighU64x2=174]="ExtmulHighU64x2",b[b.AddF32x4=175]="AddF32x4",b[b.SubF32x4=176]="SubF32x4",b[b.MulF32x4=177]="MulF32x4",b[b.DivF32x4=178]="DivF32x4",b[b.MinF32x4=179]="MinF32x4",b[b.MaxF32x4=180]="MaxF32x4",b[b.PminF32x4=181]="PminF32x4",b[b.PmaxF32x4=182]="PmaxF32x4",b[b.AddF64x2=183]="AddF64x2",b[b.SubF64x2=184]="SubF64x2",b[b.MulF64x2=185]="MulF64x2",b[b.DivF64x2=186]="DivF64x2",b[b.MinF64x2=187]="MinF64x2",b[b.MaxF64x2=188]="MaxF64x2",b[b.PminF64x2=189]="PminF64x2",b[b.PmaxF64x2=190]="PmaxF64x2",b[b.NarrowI16x8ToI8x16=191]="NarrowI16x8ToI8x16",b[b.NarrowU16x8ToU8x16=192]="NarrowU16x8ToU8x16",b[b.NarrowI32x4ToI16x8=193]="NarrowI32x4ToI16x8",b[b.NarrowU32x4ToU16x8=194]="NarrowU32x4ToU16x8",b[b.SwizzleI8x16=195]="SwizzleI8x16",b[b.RelaxedSwizzleI8x16=196]="RelaxedSwizzleI8x16",b[b.RelaxedMinF32x4=197]="RelaxedMinF32x4",b[b.RelaxedMaxF32x4=198]="RelaxedMaxF32x4",b[b.RelaxedMinF64x2=199]="RelaxedMinF64x2",b[b.RelaxedMaxF64x2=200]="RelaxedMaxF64x2",b[b.RelaxedQ15MulrI16x8=201]="RelaxedQ15MulrI16x8",b[b.RelaxedDotI8x16I7x16ToI16x8=202]="RelaxedDotI8x16I7x16ToI16x8",b[b._last=202]="_last",b[b.AddSize=203]="AddSize",b[b.SubSize=204]="SubSize",b[b.MulSize=205]="MulSize",b[b.DivISize=206]="DivISize",b[b.DivUSize=207]="DivUSize",b[b.RemISize=208]="RemISize",b[b.RemUSize=209]="RemUSize",b[b.AndSize=210]="AndSize",b[b.OrSize=211]="OrSize",b[b.XorSize=212]="XorSize",b[b.ShlSize=213]="ShlSize",b[b.ShrISize=214]="ShrISize",b[b.ShrUSize=215]="ShrUSize",b[b.RotlSize=216]="RotlSize",b[b.RotrSize=217]="RotrSize",b[b.EqSize=218]="EqSize",b[b.NeSize=219]="NeSize",b[b.LtISize=220]="LtISize",b[b.LtUSize=221]="LtUSize",b[b.LeISize=222]="LeISize",b[b.LeUSize=223]="LeUSize",b[b.GtISize=224]="GtISize",b[b.GtUSize=225]="GtUSize",b[b.GeISize=226]="GeISize",b[b.GeUSize=227]="GeUSize",b))(di||{}),gp=(a=>(a[a.Add=0]="Add",a[a.Sub=1]="Sub",a[a.And=2]="And",a[a.Or=3]="Or",a[a.Xor=4]="Xor",a[a.Xchg=5]="Xchg",a))(gp||{}),bp=(o=>(o[o.ExtractLaneI8x16=0]="ExtractLaneI8x16",o[o.ExtractLaneU8x16=1]="ExtractLaneU8x16",o[o.ExtractLaneI16x8=2]="ExtractLaneI16x8",o[o.ExtractLaneU16x8=3]="ExtractLaneU16x8",o[o.ExtractLaneI32x4=4]="ExtractLaneI32x4",o[o.ExtractLaneI64x2=5]="ExtractLaneI64x2",o[o.ExtractLaneF32x4=6]="ExtractLaneF32x4",o[o.ExtractLaneF64x2=7]="ExtractLaneF64x2",o))(bp||{}),xp=(a=>(a[a.ReplaceLaneI8x16=0]="ReplaceLaneI8x16",a[a.ReplaceLaneI16x8=1]="ReplaceLaneI16x8",a[a.ReplaceLaneI32x4=2]="ReplaceLaneI32x4",a[a.ReplaceLaneI64x2=3]="ReplaceLaneI64x2",a[a.ReplaceLaneF32x4=4]="ReplaceLaneF32x4",a[a.ReplaceLaneF64x2=5]="ReplaceLaneF64x2",a))(xp||{}),Tp=(f=>(f[f.ShlI8x16=0]="ShlI8x16",f[f.ShrI8x16=1]="ShrI8x16",f[f.ShrU8x16=2]="ShrU8x16",f[f.ShlI16x8=3]="ShlI16x8",f[f.ShrI16x8=4]="ShrI16x8",f[f.ShrU16x8=5]="ShrU16x8",f[f.ShlI32x4=6]="ShlI32x4",f[f.ShrI32x4=7]="ShrI32x4",f[f.ShrU32x4=8]="ShrU32x4",f[f.ShlI64x2=9]="ShlI64x2",f[f.ShrI64x2=10]="ShrI64x2",f[f.ShrU64x2=11]="ShrU64x2",f))(Tp||{}),Ap=(f=>(f[f.Load8Splat=0]="Load8Splat",f[f.Load16Splat=1]="Load16Splat",f[f.Load32Splat=2]="Load32Splat",f[f.Load64Splat=3]="Load64Splat",f[f.Load8x8S=4]="Load8x8S",f[f.Load8x8U=5]="Load8x8U",f[f.Load16x4S=6]="Load16x4S",f[f.Load16x4U=7]="Load16x4U",f[f.Load32x2S=8]="Load32x2S",f[f.Load32x2U=9]="Load32x2U",f[f.Load32Zero=10]="Load32Zero",f[f.Load64Zero=11]="Load64Zero",f))(Ap||{}),Ep=(o=>(o[o.Load8Lane=0]="Load8Lane",o[o.Load16Lane=1]="Load16Lane",o[o.Load32Lane=2]="Load32Lane",o[o.Load64Lane=3]="Load64Lane",o[o.Store8Lane=4]="Store8Lane",o[o.Store16Lane=5]="Store16Lane",o[o.Store32Lane=6]="Store32Lane",o[o.Store64Lane=7]="Store64Lane",o))(Ep||{}),vp=(c=>(c[c.Bitselect=0]="Bitselect",c[c.RelaxedMaddF32x4=1]="RelaxedMaddF32x4",c[c.RelaxedNmaddF32x4=2]="RelaxedNmaddF32x4",c[c.RelaxedMaddF64x2=3]="RelaxedMaddF64x2",c[c.RelaxedNmaddF64x2=4]="RelaxedNmaddF64x2",c[c.RelaxedLaneselectI8x16=5]="RelaxedLaneselectI8x16",c[c.RelaxedLaneselectI16x8=6]="RelaxedLaneselectI16x8",c[c.RelaxedLaneselectI32x4=7]="RelaxedLaneselectI32x4",c[c.RelaxedLaneselectI64x2=8]="RelaxedLaneselectI64x2",c[c.RelaxedDotI8x16I7x16AddToI32x4=9]="RelaxedDotI8x16I7x16AddToI32x4",c))(vp||{}),Ly=(r=>(r[r.NonNull=0]="NonNull",r[r.ExternInternalize=1]="ExternInternalize",r[r.ExternExternalize=2]="ExternExternalize",r))(Ly||{}),Ny=(n=>(n[n.Null=0]="Null",n[n.NonNull=1]="NonNull",n[n.Cast=2]="Cast",n[n.CastFail=3]="CastFail",n))(Ny||{}),My=(p=>(p[p.UTF8=0]="UTF8",p[p.WTF8=1]="WTF8",p[p.LossyUTF8=2]="LossyUTF8",p[p.WTF16=3]="WTF16",p[p.UTF8Array=4]="UTF8Array",p[p.WTF8Array=5]="WTF8Array",p[p.LossyUTF8Array=6]="LossyUTF8Array",p[p.WTF16Array=7]="WTF16Array",p[p.FromCodePoint=8]="FromCodePoint",p))(My||{}),Gy=(s=>(s[s.UTF8=0]="UTF8",s[s.WTF8=1]="WTF8",s[s.WTF16=2]="WTF16",s[s.IsUSV=3]="IsUSV",s[s.WTF16View=4]="WTF16View",s))(Gy||{}),zy=(o=>(o[o.UTF8=0]="UTF8",o[o.LossyUTF8=1]="LossyUTF8",o[o.WTF8=2]="WTF8",o[o.WTF16=3]="WTF16",o[o.UTF8Array=4]="UTF8Array",o[o.LossyUTF8Array=5]="LossyUTF8Array",o[o.WTF8Array=6]="WTF8Array",o[o.WTF16Array=7]="WTF16Array",o))(zy||{}),Uy=(e=>(e[e.Equal=0]="Equal",e[e.Compare=1]="Compare",e))(Uy||{}),Dy=(r=>(r[r.WTF8=0]="WTF8",r[r.WTF16=1]="WTF16",r[r.Iter=2]="Iter",r))(Dy||{}),Vy=(e=>(e[e.Advance=0]="Advance",e[e.Rewind=1]="Rewind",e))(Vy||{}),Oy=(e=>(e[e.WTF8=0]="WTF8",e[e.WTF16=1]="WTF16",e))(Oy||{}),_l=(r=>(r[r.Default=0]="Default",r[r.PreserveSideeffects=1]="PreserveSideeffects",r[r.TraverseCalls=2]="TraverseCalls",r))(_l||{}),hi=class{constructor(i,e){this.buffer=i;this.offset=e}},qt=class t{constructor(i,e,r){this.ref=i;this.useShadowStack=e;this.sizeType=r;this.hasTemporaryFunction=!1;this.cachedStringsToPointers=new Map;this.cachedPointersToStrings=new Map;assert(r==L.I32||r==L.I64),this.lit=it(ql())}static create(i,e){return new t(i_(),i,e)}static createFrom(i,e,r){let n=xn(i),s=new t(km(n,i.length),e,r);return J(changetype(n)),s}i32(i){let e=this.lit;return s_(e,i),Kr(this.ref,e)}i64(i,e=0){let r=this.lit;return a_(r,i,e),Kr(this.ref,r)}usize(i){return i64_is(i)?this.sizeType==L.I64?this.i64(i64_low(i),i64_high(i)):(assert(i64_is_u32(i)),this.i32(i64_low(i))):this.sizeType==L.I64?this.i64(i32(i)):this.i32(i32(i))}f32(i){let e=this.lit;return l_(e,i),Kr(this.ref,e)}f64(i){let e=this.lit;return o_(e,i),Kr(this.ref,e)}v128(i){assert(i.length==16);let e=this.lit;for(let r=0;r<16;++r)Ce(e+r,unchecked(i[r]));return u_(e,e),Kr(this.ref,e)}ref_null(i){return fh(this.ref,i)}ref_eq(i,e){return bh(this.ref,i,e)}string_eq(i,e){return Su(this.ref,0,i,e)}string_compare(i,e){return Su(this.ref,1,i,e)}unary(i,e){if(i>128){let r=this.sizeType==L.I64;switch(i){case 129:i=r?1:0;break;case 130:i=r?3:2;break;case 131:i=r?5:4;break;case 132:i=r?21:20;break;default:assert(!1)}}return af(this.ref,i,e)}binary(i,e,r){if(i>202){let n=this.sizeType==L.I64;switch(i){case 203:i=n?25:0;break;case 204:i=n?26:1;break;case 205:i=n?27:2;break;case 206:i=n?28:3;break;case 207:i=n?29:4;break;case 208:i=n?30:5;break;case 209:i=n?31:6;break;case 210:i=n?32:7;break;case 211:i=n?33:8;break;case 212:i=n?34:9;break;case 213:i=n?35:10;break;case 214:i=n?36:11;break;case 215:i=n?37:12;break;case 216:i=n?38:13;break;case 217:i=n?39:14;break;case 218:i=n?40:15;break;case 219:i=n?41:16;break;case 220:i=n?42:17;break;case 221:i=n?43:18;break;case 222:i=n?44:19;break;case 223:i=n?45:20;break;case 224:i=n?46:21;break;case 225:i=n?47:22;break;case 226:i=n?48:23;break;case 227:i=n?49:24;break;default:assert(!1)}}return uf(this.ref,i,e,r)}memory_size(i=P.DefaultMemory,e=!1){let r=this.allocStringCached(i);return V_(this.ref,r,e)}memory_grow(i,e=P.DefaultMemory,r=!1){let n=this.allocStringCached(e);return O_(this.ref,i,n,r)}table_size(i){let e=this.allocStringCached(i);return vh(this.ref,e)}table_grow(i,e,r=0){let n=this.allocStringCached(i);return Ih(this.ref,n,r,e)}local_get(i,e){return L_(this.ref,i,e)}tostack(i){if(this.useShadowStack){let e=Lt(i);return assert(e==L.I32||e==L.Unreachable),this.call(h.tostack,[i],e)}return i}local_tee(i,e,r,n=-1){return n==-1&&(n=Lt(e)),r&&this.useShadowStack&&(e=this.tostack(e)),M_(this.ref,i,e,n)}global_get(i,e){let r=this.allocStringCached(i);return G_(this.ref,r,e)}table_get(i,e,r){let n=this.allocStringCached(i);return Ah(this.ref,n,e,r)}load(i,e,r,n,s=0,a=i,l=P.DefaultMemory){let o=this.allocStringCached(l);return W_(this.ref,i,e,s,a,n,r,o)}store(i,e,r,n,s=0,a=i,l=P.DefaultMemory){let o=this.allocStringCached(l);return Z_(this.ref,i,s,a,e,r,n,o)}atomic_load(i,e,r,n=0,s=P.DefaultMemory){let a=this.allocStringCached(s);return X_(this.ref,i,n,r,e,a)}atomic_store(i,e,r,n,s=0,a=P.DefaultMemory){let l=this.allocStringCached(a);return $_(this.ref,i,s,e,r,n,l)}atomic_rmw(i,e,r,n,s,a,l=P.DefaultMemory){let o=this.allocStringCached(l);return Tf(this.ref,i,e,r,n,s,a,o)}atomic_cmpxchg(i,e,r,n,s,a,l=P.DefaultMemory){let o=this.allocStringCached(l);return vf(this.ref,i,e,r,n,s,a,o)}atomic_wait(i,e,r,n,s=P.DefaultMemory){let a=this.allocStringCached(s);return Rf(this.ref,i,e,r,n,a)}atomic_notify(i,e,r=P.DefaultMemory){let n=this.allocStringCached(r);return Pf(this.ref,i,e,n)}atomic_fence(i=null){let e=this.allocStringCached(i);return Nf(this.ref,e)}local_set(i,e,r){return r&&this.useShadowStack&&(e=this.tostack(e)),N_(this.ref,i,e)}global_set(i,e){let r=this.allocStringCached(i);return z_(this.ref,r,e)}table_set(i,e,r){let n=this.allocStringCached(i);return Eh(this.ref,n,e,r)}block(i,e,r=L.None){let n=this.allocStringCached(i),s=_e(e),a=__(this.ref,n,s,e.length,r);return J(s),a}flatten(i,e=L.None){let r=i.length;if(r==0)return this.nop();if(r==1){let n=i[0];switch($(n)){case 19:case 53:case 23:return n}let s=ne(n);return s!=L.Unreachable&&s!=e?this.unreachable():n}return this.block(null,i,e)}br(i,e=0,r=0){let n=this.allocStringCached(i);return x_(this.ref,n,e,r)}drop(i){return Xl(this.ref,i)}maybeDrop(i){let e=Lt(i);return e!=L.None&&e!=L.Unreachable?Xl(this.ref,i):i}maybeDropCondition(i,e){return(gi(i,this.ref)&-21)!=0?this.block(null,[this.drop(i),e],ne(e)):e}loop(i,e){let r=this.allocStringCached(i);return g_(this.ref,r,e)}if(i,e,r=0){return h_(this.ref,i,e,r)}nop(){return bf(this.ref)}return(i=0){return gf(this.ref,i)}select(i,e,r,n){return ff(this.ref,r,i,e,n)}switch(i,e,r,n=0){let s=i.length,a=new Array(s);for(let c=0;c<s;++c)unchecked(a[c]=this.allocStringCached(i[c]));let l=_e(a),o=this.allocStringCached(e),p=E_(this.ref,l,s,o,r,n);return J(l),p}call(i,e,r,n=!1){let s=this.allocStringCached(i),a=_e(e),l=n?w_(this.ref,s,a,e?e.length:0,r):k_(this.ref,s,a,e?e.length:0,r);return J(a),l}return_call(i,e,r){return this.call(i,e,r,!0)}call_indirect(i,e,r,n,s,a=!1){let l=this.allocStringCached(i??P.DefaultTable),o=_e(r),p=a?B_(this.ref,l,e,o,r?r.length:0,n,s):C_(this.ref,l,e,o,r?r.length:0,n,s);return J(o),p}return_call_indirect(i,e,r,n,s){return this.call_indirect(i,e,r,n,s,!0)}unreachable(){return xf(this.ref)}memory_copy(i,e,r,n=P.DefaultMemory,s=P.DefaultMemory){let a=this.allocStringCached(n),l=this.allocStringCached(s);return sh(this.ref,i,e,r,a,l)}memory_fill(i,e,r,n=P.DefaultMemory){let s=this.allocStringCached(n);return uh(this.ref,i,e,r,s)}try(i,e,r,n,s=null){let a=r.length,l=new Array(a);for(let d=0;d<a;++d)l[d]=this.allocStringCached(r[d]);let o=_e(l),p=_e(n),c=this.allocStringCached(i),_=this.allocStringCached(s),f=Sh(this.ref,c,e,o,a,p,n.length,_);return J(p),J(o),f}throw(i,e){let r=this.allocStringCached(i),n=_e(e),s=kh(this.ref,r,n,e.length);return J(n),s}rethrow(i){let e=this.allocStringCached(i);return Ph(this.ref,e)}pop(i){return Gh(this.ref,i)}tuple_make(i){let e=_e(i),r=Bh(this.ref,e,i.length);return J(e),r}tuple_extract(i,e){return Nh(this.ref,i,e)}simd_extract(i,e,r){return Mf(this.ref,i,e,r)}simd_replace(i,e,r,n){return zf(this.ref,i,e,r,n)}simd_shuffle(i,e,r){assert(r.length==16);let n=xn(r),s=Vf(this.ref,i,e,n);return J(n),s}simd_ternary(i,e,r,n){return Wf(this.ref,i,e,r,n)}simd_shift(i,e,r){return jf(this.ref,i,e,r)}simd_load(i,e,r,n,s=P.DefaultMemory){let a=this.allocStringCached(s);return Yf(this.ref,i,r,n,e,a)}simd_loadstorelane(i,e,r,n,s,a,l=P.DefaultMemory){let o=this.allocStringCached(l);return Jf(this.ref,i,r,n,s,e,a,o)}ref_is_null(i){return hh(this.ref,i)}ref_as(i,e){return wo(this.ref,i,e)}ref_as_nonnull(i){return qy(ne(i))?wo(this.ref,0,i):i}ref_func(i,e){let r=this.allocStringCached(i);return yh(this.ref,r,e)}i31_new(i){return zh(this.ref,i)}i31_get(i,e){return Dh(this.ref,i,e)}addGlobal(i,e,r,n){let s=this.allocStringCached(i);return im(this.ref,s,e,r,n)}getGlobal(i){let e=this.allocStringCached(i);return Wu(this.ref,e)}removeGlobal(i){let e=this.allocStringCached(i);return Wu(this.ref,e)?(nm(this.ref,e),!0):!1}addTag(i,e,r){let n=this.allocStringCached(i);return pm(this.ref,n,e,r)}getTag(i){let e=this.allocStringCached(i);return cm(this.ref,e)}removeTag(i){let e=this.allocStringCached(i);_m(this.ref,e)}addFunction(i,e,r,n,s){let a=this.allocStringCached(i),l=_e(n),o=Qr(this.ref,a,e,r,l,n?n.length:0,s);return J(l),o}setLocalName(i,e,r){Od(i,e,this.allocStringCached(r))}getFunction(i){let e=this.allocStringCached(i);return Hr(this.ref,e)}removeFunction(i){let e=this.allocStringCached(i);nn(this.ref,e)}hasFunction(i){let e=this.allocStringCached(i);return Hr(this.ref,e)!=0}addTemporaryFunction(i,e,r){this.hasTemporaryFunction=assert(!this.hasTemporaryFunction);let n=this.allocStringCached(""),s=_e(e),a=Qr(this.ref,n,Ke(e),i,0,0,r);return J(s),a}removeTemporaryFunction(){this.hasTemporaryFunction=!assert(this.hasTemporaryFunction);let i=this.allocStringCached("");nn(this.ref,i)}setStart(i){Am(this.ref,i)}addFunctionExport(i,e){let r=this.allocStringCached(i),n=this.allocStringCached(e);return Cs(this.ref,r,n)}addTableExport(i,e){let r=this.allocStringCached(i),n=this.allocStringCached(e);return Zd(this.ref,r,n)}addMemoryExport(i,e){let r=this.allocStringCached(i),n=this.allocStringCached(e);return Yd(this.ref,r,n)}addGlobalExport(i,e){let r=this.allocStringCached(i),n=this.allocStringCached(e);return $d(this.ref,r,n)}addTagExport(i,e){let r=this.allocStringCached(i),n=this.allocStringCached(e);return Jd(this.ref,r,n)}removeExport(i){let e=this.allocStringCached(i);Bs(this.ref,e)}hasExport(i){let e=this.allocStringCached(i);return Ps(this.ref,e)!=0}addFunctionImport(i,e,r,n,s){let a=this.allocStringCached(i),l=this.allocStringCached(e),o=this.allocStringCached(r);Kd(this.ref,a,l,o,n,s)}addTableImport(i,e,r){let n=this.allocStringCached(i),s=this.allocStringCached(e),a=this.allocStringCached(r);Qd(this.ref,n,s,a)}addMemoryImport(i,e,r,n=!1){let s=this.allocStringCached(i),a=this.allocStringCached(e),l=this.allocStringCached(r);Hd(this.ref,s,a,l,n)}addGlobalImport(i,e,r,n,s=!1){let a=this.allocStringCached(i),l=this.allocStringCached(e),o=this.allocStringCached(r);jd(this.ref,a,l,o,n,s)}addTagImport(i,e,r,n,s){let a=this.allocStringCached(i),l=this.allocStringCached(e),o=this.allocStringCached(r);Xd(this.ref,a,l,o,n,s)}static{this.UNLIMITED_MEMORY=-1}setMemory(i,e,r,n,s=null,a=P.DefaultMemory,l=!1){let o=this.allocStringCached(s),p=this.allocStringCached(a),c=r.length,_=new Array(c),f=new Uint8Array(c),d=new Array(c),g=new Array(c);for(let I=0;I<c;++I){let k=unchecked(r[I]),F=k.buffer,B=k.offset;unchecked(_[I]=xn(F)),unchecked(f[I]=0),unchecked(d[I]=n==2?this.i64(i64_low(B),i64_high(B)):this.i32(i64_low(B))),unchecked(g[I]=F.length)}let E=_e(_),x=xn(f),A=_e(d),S=hp(g);Tm(this.ref,i,e,o,E,x,A,S,c,l,!1,p),J(S),J(A),J(x),J(E);for(let I=c-1;I>=0;--I)J(unchecked(_[I]))}static{this.UNLIMITED_TABLE=-1}addFunctionTable(i,e,r,n,s){let a=this.allocStringCached(i),l=n.length,o=new Array(l);for(let _=0;_<l;++_)unchecked(o[_]=this.allocStringCached(n[_]));let p=_e(o),c=ym(this.ref,a);c?(gm(c,e),bm(c,r)):c=mm(this.ref,a,e,r,L.Funcref),xm(this.ref,a,a,p,l,s),J(p)}addCustomSection(i,e){let r=this.allocStringCached(i),n=xn(e);Nm(this.ref,r,n,e.length),J(n)}getOptimizeLevel(){return $m()}setOptimizeLevel(i){Jm(i)}getShrinkLevel(){return ey()}setShrinkLevel(i){ty(i)}getDebugInfo(){return ry()}setDebugInfo(i){iy(i)}getLowMemoryUnused(){return ny()}setLowMemoryUnused(i){sy(i)}getZeroFilledMemory(){return ay()}setZeroFilledMemory(i){ly(i)}getFastMath(){return oy()}setFastMath(i){uy(i)}getPassArgument(i){let e=this.allocStringCached(i),r=py(e);return r?Ge(r):null}setPassArgument(i,e){let r=this.allocStringCached(i),n=this.allocStringCached(e);cy(r,n)}clearPassArguments(){_y()}getAlwaysInlineMaxSize(){return fy()}setAlwaysInlineMaxSize(i){hy(i)}getFlexibleInlineMaxSize(){return dy()}setFlexibleInlineMaxSize(i){my(i)}getOneCallerInlineMaxSize(){return yy()}setOneCallerInlineMaxSize(i){gy(i)}getAllowInliningFunctionsWithLoops(){return by()}setAllowInliningFunctionsWithLoops(i){xy(i)}getFeatures(){return Bm(this.ref)}setFeatures(i){Lm(this.ref,i)}runPasses(i,e=0){let r=i.length,n=new Array(r);for(let a=0;a<r;++a)n[a]=ul(i[a]);let s=_e(n);e?qd(e,this.ref,s,r):vm(this.ref,s,r),J(s);for(let a=r-1;a>=0;--a)J(n[a])}optimize(i,e,r=!1,n=!1){if((i>=3||e>=2)&&(i=4),this.setOptimizeLevel(i),this.setShrinkLevel(e),this.setDebugInfo(r),this.setZeroFilledMemory(n),this.setFastMath(!0),this.clearPassArguments(),i>=2&&e==0?(this.setAlwaysInlineMaxSize(12),this.setFlexibleInlineMaxSize(70),this.setOneCallerInlineMaxSize(200),this.setAllowInliningFunctionsWithLoops(i>=3)):(this.setAlwaysInlineMaxSize(i<=1||e>=2?2:6),this.setFlexibleInlineMaxSize(65),this.setOneCallerInlineMaxSize(80),this.setAllowInliningFunctionsWithLoops(!1)),i>0||e>0){let s=new Array;s.push("duplicate-function-elimination"),s.push("remove-unused-module-elements"),i>=2&&(s.push("once-reduction"),s.push("inlining"),s.push("simplify-globals-optimizing")),(i>=3||e>=1)&&(s.push("rse"),s.push("vacuum"),s.push("code-folding"),s.push("ssa-nomerge"),s.push("local-cse"),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),s.push("precompute-propagate"),s.push("simplify-globals-optimizing"),s.push("gufa-optimizing"),s.push("dae-optimizing")),i>=3&&(s.push("simplify-locals-nostructure"),s.push("flatten"),s.push("vacuum"),s.push("simplify-locals-notee-nostructure"),s.push("vacuum"),s.push("licm"),s.push("merge-locals"),s.push("reorder-locals")),s.push("optimize-instructions"),(i>=3||e>=1)&&s.push("dce"),s.push("remove-unused-brs"),s.push("remove-unused-names"),i>=3||e>=2?(s.push("inlining"),s.push("precompute-propagate"),s.push("simplify-globals-optimizing")):s.push("precompute"),(i>=2||e>=1)&&s.push("pick-load-signs"),s.push("simplify-locals-notee-nostructure"),s.push("vacuum"),(i>=2||e>=1)&&s.push("local-cse"),s.push("reorder-locals"),s.push("coalesce-locals"),s.push("simplify-locals"),s.push("coalesce-locals"),s.push("reorder-locals"),s.push("vacuum"),(i>=2||e>=1)&&(s.push("rse"),s.push("vacuum")),(i>=3||e>=1)&&(s.push("merge-locals"),s.push("vacuum")),(i>=2||e>=1)&&(s.push("simplify-globals-optimizing"),s.push("simplify-globals-optimizing")),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),i>=3&&s.push("optimize-instructions"),(i>=2||e>=1)&&(s.push("simplify-globals-optimizing"),s.push("dae-optimizing")),(i>=2||e>=2)&&s.push("inlining-optimizing"),this.getLowMemoryUnused()&&(i>=3||e>=1?s.push("optimize-added-constants-propagate"):s.push("optimize-added-constants")),s.push("duplicate-import-elimination"),i>=2||e>=2?s.push("simplify-globals-optimizing"):(s.push("simplify-globals"),s.push("vacuum")),i>=2&&(this.getFeatures()&1024)!=0&&(s.push("heap2local"),s.push("merge-locals"),s.push("local-subtyping")),i>=2||e>=1?(s.push("precompute-propagate"),s.push("simplify-globals-optimizing"),s.push("simplify-globals-optimizing")):s.push("precompute"),s.push("directize"),s.push("dae-optimizing"),s.push("inlining-optimizing"),(i>=2||e>=1)&&(s.push("code-folding"),s.push("ssa-nomerge"),s.push("rse"),s.push("code-pushing"),i>=3&&(s.push("simplify-globals"),s.push("vacuum"),s.push("precompute-propagate"),s.push("inlining-optimizing"),s.push("directize"),s.push("dae-optimizing"),s.push("local-cse"),s.push("merge-locals"),s.push("coalesce-locals"),s.push("simplify-locals"),s.push("vacuum"),s.push("inlining"),s.push("precompute-propagate"),s.push("rse"),s.push("vacuum"),s.push("ssa-nomerge"),s.push("simplify-locals"),s.push("coalesce-locals")),s.push("optimize-instructions"),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),s.push("vacuum"),s.push("simplify-globals-optimizing"),s.push("reorder-globals"),s.push("remove-unused-brs"),s.push("optimize-instructions")),s.push("duplicate-function-elimination"),e>=2&&s.push("merge-similar-functions"),s.push("memory-packing"),s.push("remove-unused-module-elements"),this.runPasses(s)}}validate(){return Em(this.ref)==1}interpret(){wm(this.ref)}toBinary(i=null){assert(ql()>=Im());let e=this.lit,r=ul(i);Sm(e,this.ref,r);let n=zt(e+0),s=zt(e+4),a=zt(e+8),l=new cl(d2(assert(n),s),Ge(a));return r&&J(r),a&&J(a),J(n),l}toText(i=!0){let e=i?Rm(this.ref,!0):Fm(this.ref),r=Ge(e);return e&&J(e),r||""}allocStringCached(i){if(i==null)return 0;let e=this.cachedStringsToPointers;if(e.has(i))return changetype(e.get(i));let r=ul(i);return e.set(i,r),r}readStringCached(i){if(i==0)return null;let e=this.cachedPointersToStrings;if(e.has(i))return changetype(e.get(i));let r=Ge(i);return e.set(i,r),r}dispose(){assert(this.ref);for(let i=Map_values(this.cachedStringsToPointers),e=0,r=i.length;e<r;++e){let n=unchecked(i[e]);J(n)}this.cachedStringsToPointers.clear(),this.cachedPointersToStrings.clear(),J(this.lit),n_(this.ref),this.ref=0}createRelooper(){return pl.create(this)}tryCopyTrivialExpression(i){switch(yt(i)){case 8:case 10:case 14:case 20:case 22:case 23:case 37:case 41:return this.copyExpression(i)}return 0}copyExpression(i){return p_(i,this.ref)}runExpression(i,e,r=50,n=1){let s=qm(this.ref,e,r,n),a=Wm(s,i);if(a){if(!this.isConstExpression(a))return 0;assert(ne(a)==ne(i))}return a}isConstExpression(i){switch($(i)){case 14:case 41:case 43:case 58:return!0;case 16:{if(this.getFeatures()&8192)switch(mi(i)){case 0:case 1:case 2:case 25:case 26:case 27:return this.isConstExpression(Qe(i))&&this.isConstExpression(Be(i))}break}}return!1}addDebugInfoFile(i){let e=ul(i),r=Cm(this.ref,e);return J(e),r}getDebugInfoFile(i){return Ge(Pm(this.ref,i))}setDebugLocation(i,e,r,n,s){Wd(i,e,r,n,s)}};function Ke(t){if(!t)return L.None;switch(t.length){case 0:return L.None;case 1:return t[0]}let i=_e(t),e=Nc(i,t.length);return J(i),e}function Ip(t){let i=Mc(t),e=it(i<<2);Gc(t,e);let r=new Array(i);for(let n=0;n<i;++n)unchecked(r[n]=zt(e+(n<<2)));return J(e),r}function qy(t){return zc(t)}function $(t){return yt(t)}function ne(t){return Lt(t)}function ee(t){return J_(t)}function Ae(t){return ef(t)}function Pe(t){return tf(t)}function ge(t){return rf(t)}function be(t){return nf(t)}function Sp(t){let i=it(16);sf(t,i);let e=new Uint8Array(16);for(let r=0;r<16;++r)e[r]=or(i+r);return J(i),e}function Se(t){if($(t)!=14)return!1;let i=ne(t);return i==L.I32?ee(t)==0:i==L.I64?(Ae(t)|Pe(t))==0:i==L.F32?ge(t)==0:i==L.F64?be(t)==0:!1}function et(t){if($(t)!=14)return!1;let i=ne(t);return i==L.I32?ee(t)!=0:i==L.I64?(Ae(t)|Pe(t))!=0:i==L.F32?ge(t)!=0:i==L.F64?be(t)!=0:!1}function fl(t){if($(t)!=14)return!1;let i=ne(t);if(i==L.F32){let e=ge(t);return e==0&&f32_as_i32(e)<0}if(i==L.F64){let e=be(t);return e==0&&i64_signbit(f64_as_i64(e))}return!1}function Ox(t){if($(t)!=14)return!1;let i=ne(t);return i==L.F32?isNaN(ge(t)):i==L.F64?isNaN(be(t)):!1}function hl(t,i){let e=$(i),r=ne(i);if(r==L.F32||r==L.F64){if(e==14)return isNaN(r==L.F32?ge(i):be(i));if(e==10){let n=t.runExpression(i,0,8);if(n)return isNaN(r==L.F32?ge(n):be(n))}}return!1}function lt(t){return xs(t)}function dl(t){return Wr(t)}function xr(t){return sr(t)}function vn(t){return Ts(t)}function In(t){return Ge(Es(t))}function mi(t){return pf(t)}function Qe(t){return Yi(t)}function Be(t){return $i(t)}function Sn(t){return lf(t)}function ml(t){return Zi(t)}function Fp(t){return H_(t)}function qx(t){return Q_(t)}function Wx(t){return ji(t)}function Rp(t){return K_(t)}function Kx(t){return vs(t)}function Qx(t){return Is(t)}function Hx(t){return ar(t)}function jx(t){return Xi(t)}function Fn(t){return Ge(ds(t))}function Rn(t){return zi(t)}function kn(t,i){return Ui(t,i)}function yl(t){return Di(t)}function wn(t){return Vi(t)}function yi(t){return Oi(t)}function Xx(t){return Ge(ms(t))}function Zx(t){return qi(t)}function Yx(t){return Ge(ys(t))}function $x(t){return Wi(t)}function kp(t){return Ji(t)}function wp(t){return en(t)}function Jx(t){return tn(t)}function e2(t){return rn(t)}function t2(t){return lr(t)}function Cn(t){return Ge(qr(t))}function ot(t){return Nt(t)}function ze(t,i){return Mt(t,i)}function r2(t){return Hi(t)}function i2(t){return Gt(t)}function Cp(t){return Ge(jr(t))}function n2(t){return sn(t)}function s2(t){return an(t)}function a2(t){let i=Rs(t),e=new Array(i);for(let r=0;r<i;++r)unchecked(e[r]=ks(t,r));return e}function l2(t){return Ge(lm(t))}function o2(t){return om(t)}function Pp(t){return um(t)}function u2(t){return Ls(t)}function p2(t){return Ge(fm(t))}function c2(t){return hm(t)}function _2(t){return dm(t)}var pl=class t{constructor(i,e){this.module=i;this.ref=e}static create(i){return new t(i,Gm(i.ref))}addBlock(i){return zm(this.ref,i)}addBranch(i,e,r=0,n=0){Um(i,e,r,n)}addBlockWithSwitch(i,e){return Dm(this.ref,i,e)}addBranchForSwitch(i,e,r,n=0){let s=f2(r);Vm(i,e,s,r.length,n),J(s)}renderAndDispose(i,e){return Om(this.ref,i,e)}},An=class{constructor(i,e){this.values=new Array;this.indexes=new Array;this.cases=new Array;this.defaultIndex=-1;this.module=i,this.condition=e}addOrReplaceCase(i,e){let r=this.values.indexOf(i),n=this.addCode(e);r>=0?this.indexes[r]=n:(this.values.push(i),this.indexes.push(n))}addCase(i,e){this.values.push(i),this.indexes.push(this.addCode(e))}addCode(i){let e=this.cases,r=e.indexOf(i);return r<0&&(r=e.length,e.push(i)),r}addDefault(i){assert(this.defaultIndex==-1);let e=this.cases;this.defaultIndex=e.length,e.push(i)}render(i,e=""){let r=this.module,n=this.cases,s=n.length;if(!s)return r.drop(this.condition);let a=this.values,l=a.length,o=this.indexes,p=new Array(1+l+1),c=new Array(s);for(let E=0;E<s;++E)unchecked(c[E]=`case${E}${e}`);p[0]=r.local_set(i,this.condition,!1);for(let E=0;E<l;++E){let x=unchecked(o[E]);unchecked(p[1+E]=r.br(c[x],r.binary(15,r.local_get(i,L.I32),r.i32(a[E]))))}let _=this.defaultIndex,f=`default${e}`;p[1+l]=r.br(~_?c[_]:f);let d=r.block(c[0],p);for(let E=1;E<s;++E){let x=n[E-1];x.unshift(d),d=r.block(unchecked(c[E]),x)}let g=n[s-1];return g.unshift(d),r.block(~_?null:f,g)}},Bp=(A=>(A[A.None=0]="None",A[A.Branches=1]="Branches",A[A.Calls=2]="Calls",A[A.ReadsLocal=4]="ReadsLocal",A[A.WritesLocal=8]="WritesLocal",A[A.ReadsGlobal=16]="ReadsGlobal",A[A.WritesGlobal=32]="WritesGlobal",A[A.ReadsMemory=64]="ReadsMemory",A[A.WritesMemory=128]="WritesMemory",A[A.ReadsTable=256]="ReadsTable",A[A.WritesTable=512]="WritesTable",A[A.ImplicitTrap=1024]="ImplicitTrap",A[A.IsAtomic=2048]="IsAtomic",A[A.Throws=4096]="Throws",A[A.DanglingPop=8192]="DanglingPop",A[A.TrapsNeverHappen=16384]="TrapsNeverHappen",A[A.Any=32767]="Any",A))(Bp||{});function gi(t,i){return Mm(t,i)}function gl(t,i){return(gi(t,i)&-21)!=0}function xn(t){if(!t)return 0;let i=t.length,e=it(i);for(let r=0;r<i;++r)Ce(e+r,unchecked(t[r]));return e}function f2(t){if(!t)return 0;let i=t.length,e=it(i<<2),r=e;for(let n=0;n<i;++n){let s=unchecked(t[n]);Ms(r,s),r+=4}return e}function hp(t){if(!t)return 0;let i=t.length,e=it(i<<2),r=e;for(let n=0;n<i;++n){let s=unchecked(t[n]);Ms(r,s),r+=4}return e}function _e(t){if(!t)return 0;assert(ASC_TARGET!=2);let i=t.length,e=it(i<<2),r=e;for(let n=0,s=i;n<s;++n){let a=unchecked(t[n]);Ms(r,a),r+=4}return e}function h2(t){let i=0;for(let e=0,r=t.length;e<r;++e){let n=t.charCodeAt(e)>>>0;n<=127?i+=1:n<=2047?i+=2:ii(n)&&e+1<r&&Hs(t.charCodeAt(e+1))?(e++,i+=4):i+=3}return i}function ul(t){if(t==null)return 0;let i=h2(t),e=it(i+1)>>>0,r=e;if(i==t.length)for(let n=0,s=t.length;n<s;++n){let a=t.charCodeAt(n)>>>0;Ce(r++,a)}else for(let n=0,s=t.length;n<s;++n){let a=t.charCodeAt(n)>>>0,l;a<=127?Ce(r++,a):a<=2047?(Ce(r++,192|a>>>6),Ce(r++,128|a&63)):ii(a)&&n+1<s&&Hs(l=t.charCodeAt(n+1))?(a=pn(a,l),++n,Ce(r++,240|a>>>18),Ce(r++,128|a>>>12&63),Ce(r++,128|a>>>6&63),Ce(r++,128|a&63)):(Ce(r++,224|a>>>12),Ce(r++,128|a>>>6&63),Ce(r++,128|a&63))}return Ce(r,0),e}function d2(t,i){let e=new Uint8Array(i);for(let r=0;r<i;++r)unchecked(e[r]=or(t+r));return e}function Ge(t){if(!t)return null;let i=new Array,e,r,n,s;for(;e=or(t++);){if(!(e&128)){i.push(e);continue}if(r=or(t++)&63,(e&224)==192){i.push((e&31)<<6|r);continue}if(n=or(t++)&63,(e&240)==224?e=(e&15)<<12|r<<6|n:(s=or(t++)&63,(e&248)==240?e=(e&7)<<18|r<<12|n<<6|s:assert(!1,"Invalid UTF8 sequence during readString")),e<65536)i.push(e);else{let a=e-65536;i.push(un|a>>>10),i.push(ri|a&1023)}}return String.fromCharCodes(i)}var cl=class{constructor(i,e){this.output=i;this.sourceMap=e}},Et=!1;function Pn(t){if(t==u.void)return L.None;let i=Wy(t);if(i)return i;let e=t;if(t=t.nonNullableType,i=t.ref)return le(nr(i),e.is(512));ASC_TARGET&&assert(sizeof()==4);let r=Km(0),n=new Map;Ot(r,n,t);let s=Ns(r),a=it(max(4*s,8));if(!Xm(r,a,a,a+4)){let l=zt(a),o=zt(a+4);throw J(a),new Error(`type builder error at index ${l}: ${dp.toString(o)}`)}for(let l=Map_keys(n),o=0,p=l.length;o<p;++o){let c=l[o];assert(!c.is(512));let _=zt(a+4*o),f=le(_,!1);assert(!c.ref),c.ref=f,Et&&console.log(` set ${c.toString()}`);let d=c.getClass();if(d){let g=d.program.module;Zm(g.ref,_,g.allocStringCached(d.internalName));let E=d.members;if(E){let x=r_(_),A=0;for(let S=Map_values(E),I=0,k=S.length;I<k;++I){let F=S[I];if(F.kind!=10)continue;let B=F.instance;!B||!B.isField||Ym(g.ref,_,A++,g.allocStringCached(B.name))}assert(x==A)}}}return J(a),Et&&console.log(` finalize ${t.toString()}`),i=assert(t.ref),le(nr(i),e.is(512))}function Wy(t){switch(t.kind){case 0:case 1:case 6:case 2:case 7:case 3:case 8:return L.I32;case 4:case 9:return L.I64;case 5:case 10:{if(t.isInternalReference)break;return t.size==64?L.I64:L.I32}case 11:return L.F32;case 12:return L.F64;case 13:return L.V128;case 15:return le(ue.Func,t.is(512));case 14:return le(ue.Extern,t.is(512));case 16:return le(ue.Any,t.is(512));case 17:return le(ue.Eq,t.is(512));case 18:return le(ue.Struct,t.is(512));case 19:return le(ue.Array,t.is(512));case 20:return le(ue.I31,t.is(512));case 21:return le(ue.String,t.is(512));case 22:return le(ue.StringviewWTF8,t.is(512));case 23:return le(ue.StringviewWTF16,t.is(512));case 24:return le(ue.StringviewIter,t.is(512));case 25:assert(!1)}return 0}function m2(t){switch(t.kind){case 0:case 1:case 6:return Tn.I8;case 2:case 7:return Tn.I16}return Tn.NotPacked}function Ot(t,i,e){if(e==u.void)return L.None;let r=Wy(e);if(r||(assert(!e.is(512)),r=e.ref))return r;if(i.has(e))return Et&&console.log(` prepare ${e.toString()} (seen)`),changetype(i.get(e));Et&&console.log(`prepare ${e.toString()}`);let n=e.getClass();if(n){let a=n.base,l=0;a&&(l=Ot(t,i,a.type));let o=Ns(t);Ku(t,1),Et&&console.log(` block [${o}]: ${e.toString()}`);let p=Qu(t,o);r=Xr(t,p,!1),i.set(e,r);let c=new Array,_=new Array,f=new Array,d=n.members;if(d)for(let A=Map_values(d),S=0,I=A.length;S<I;++S){let k=A[S];if(k.kind!=10)continue;let F=k.instance;if(!F||!F.isField)continue;let B=F.type;Et&&console.log(`  field ${B.toString()}`),B.is(512)?c.push(Xr(t,nr(Ot(t,i,B.nonNullableType)),!0)):c.push(Ot(t,i,B)),_.push(m2(B)),f.push(1)}let g=_e(c),E=hp(_),x=hp(f);return Et&&console.log(` concretize [${o}]: ${e.toString()}`),Hm(t,o,g,E,x,c.length),a&&(Et&&console.log(` set super [${o}]: ${e.toString()} <: ${a.type.toString()} ${l==a.type.ref?" (known)":""}`),jm(t,o,nr(l))),J(x),J(E),J(g),r}let s=e.getSignature();if(s){let a=Ns(t);Ku(t,1);let l=Xr(t,Qu(t,a),!1);i.set(e,l);let o=new Array,p=new Array,c=s.parameterTypes;for(let g=0,E=c.length;g<E;++g){let x=c[g];x.is(512)?o.push(Xr(t,nr(Ot(t,i,x.nonNullableType)),!0)):o.push(Ot(t,i,x))}let _=s.returnType;p.push(_==u.void?L.None:_.is(512)?Xr(t,nr(Ot(t,i,_.nonNullableType)),!0):Ot(t,i,_));let f;if(o.length>1){let g=_e(o);f=Hu(t,g,o.length),J(g)}else f=o.length?o[0]:L.None;let d;if(p.length>1){let g=_e(p);d=Hu(t,g,p.length),J(g)}else d=p[0];return Et&&console.log(` concretize [${a}]: ${e.toString()}`),Qm(t,a,f,d),l}throw new Error(`unexpected complex type: ${e.toString()}`)}var xl=(F=>(F[F.None=0]="None",F[F.Returns=1]="Returns",F[F.ReturnsWrapped=2]="ReturnsWrapped",F[F.ReturnsNonNull=4]="ReturnsNonNull",F[F.Throws=8]="Throws",F[F.Breaks=16]="Breaks",F[F.Continues=32]="Continues",F[F.AccessesThis=64]="AccessesThis",F[F.CallsSuper=128]="CallsSuper",F[F.Terminates=256]="Terminates",F[F.ConditionallyReturns=512]="ConditionallyReturns",F[F.ConditionallyThrows=1024]="ConditionallyThrows",F[F.ConditionallyBreaks=2048]="ConditionallyBreaks",F[F.ConditionallyContinues=4096]="ConditionallyContinues",F[F.ConditionallyAccessesThis=8192]="ConditionallyAccessesThis",F[F.MayReturnNonThis=16384]="MayReturnNonThis",F[F.UncheckedContext=32768]="UncheckedContext",F[F.CtorParamContext=65536]="CtorParamContext",F[F.InlineContext=131072]="InlineContext",F[F.AnyCategorical=511]="AnyCategorical",F[F.AnyConditional=15872]="AnyConditional",F))(xl||{}),Bn=(s=>(s[s.None=0]="None",s[s.Constant=1]="Constant",s[s.Wrapped=2]="Wrapped",s[s.NonNull=4]="NonNull",s[s.Initialized=8]="Initialized",s))(Bn||{}),Lp=(e=>(e[e.None=0]="None",e[e.Initialized=1]="Initialized",e))(Lp||{}),Np=(r=>(r[r.Unknown=0]="Unknown",r[r.True=1]="True",r[r.False=2]="False",r))(Np||{}),vt=class t{constructor(i,e=null){this.targetFunction=i;this.inlineFunction=e;this.parent=null;this.outer=null;this.flags=0;this.continueLabel=null;this.breakLabel=null;this.scopedLocals=null;this.scopedTypeAlias=null;this.localFlags=[];this.thisFieldFlags=null;this.inlineReturnLabel=null;this.trueFlows=null;this.falseFlows=null}static createDefault(i){let e=new t(i);return i.is(524288)&&e.initThisFieldFlags(),i.program.options.uncheckedBehavior===2&&e.set(32768),e}static createInline(i,e){let r=new t(i,e);return r.inlineReturnLabel=`${e.internalName}|inlined.${e.nextInlineId++}`,e.is(524288)&&r.initThisFieldFlags(),i.program.options.uncheckedBehavior===2&&r.set(32768),r}get isInline(){return this.inlineFunction!=null}get sourceFunction(){let i=this.inlineFunction;return i||this.targetFunction}get program(){return this.targetFunction.program}get returnType(){return this.sourceFunction.signature.returnType}get contextualTypeArguments(){return this.sourceFunction.contextualTypeArguments}is(i){return(this.flags&i)==i}isAny(i){return(this.flags&i)!=0}set(i){this.flags|=i}unset(i){this.flags&=~i}deriveConditionalFlags(){let i=this.flags&15872;return this.is(1)&&(i|=512),this.is(8)&&(i|=1024),this.is(16)&&(i|=2048),this.is(32)&&(i|=4096),this.is(64)&&(i|=8192),i}fork(i=!1,e=i){let r=new t(this.targetFunction,this.inlineFunction);if(r.parent=this,r.flags=this.flags,r.outer=this.outer,i?r.flags&=-2065:r.breakLabel=this.breakLabel,e?r.flags&=-4129:r.continueLabel=this.continueLabel,r.localFlags=this.localFlags.slice(),this.sourceFunction.is(524288)){let n=assert(this.thisFieldFlags);r.thisFieldFlags=pe(n)}else assert(!this.thisFieldFlags);return r.inlineReturnLabel=this.inlineReturnLabel,r}forkThen(i,e=!1,r=e){let n=this.fork(e,r),s=this.trueFlows;return s&&s.has(i)&&n.inherit(changetype(s.get(i))),n.inheritNonnullIfTrue(i),n}noteThen(i,e){let r=this.trueFlows;r||(this.trueFlows=r=new Map),r.set(i,e)}forkElse(i){let e=this.fork(),r=this.falseFlows;return r&&r.has(i)&&e.inherit(changetype(r.get(i))),e.inheritNonnullIfFalse(i),e}noteElse(i,e){let r=this.falseFlows;r||(this.falseFlows=r=new Map),r.set(i,e)}addScopedTypeAlias(i,e){let r=this.scopedTypeAlias;r||(this.scopedTypeAlias=r=new Map),r.set(i,e)}lookupScopedTypeAlias(i){let e=this;do{let r=e.scopedTypeAlias;if(r&&r.has(i))return assert(r.get(i));e=e.parent}while(e);return null}lookupTypeAlias(i){let e=null;if(e=this.lookupScopedTypeAlias(i))return e;let r=this.sourceFunction.parent;return r.kind==5?r.flow.lookupTypeAlias(i):null}getTempLocal(i){let e=this.targetFunction.addLocal(i);return this.unsetLocalFlag(e.index,-1),e}getScopedLocal(i){let e=this.scopedLocals;return e&&e.has(i)?assert(e.get(i)):null}addScopedLocal(i,e){let r=this.getTempLocal(e);r.name=i,r.internalName=Le(i,r.parent,!1);let n=this.scopedLocals;return n?assert(!n.has(i)):this.scopedLocals=n=new Map,r.set(67108864),n.set(i,r),r}addScopedDummyLocal(i,e,r){let n=new Ue(i,-1,e,this.targetFunction),s=this.scopedLocals;return s?s.has(i)&&this.program.error(2451,r.range,i):this.scopedLocals=s=new Map,n.set(67108864),s.set(i,n),n}addScopedAlias(i,e,r,n=null){let s=this.scopedLocals;if(!s)this.scopedLocals=s=new Map;else if(s.has(i)){let l=assert(s.get(i));return n&&(l.declaration.range.source.isNative?this.program.error(2300,n.range,i):this.program.errorRelated(2300,n.range,l.declaration.name.range,i)),l}assert(r<this.targetFunction.localsByIndex.length);let a=new Ue(i,r,e,this.targetFunction);return a.set(67108864),s.set(i,a),a}freeScopedDummyLocal(i){let e=assert(this.scopedLocals);assert(e.has(i));let r=assert(e.get(i));assert(r.index==-1),e.delete(i)}lookupLocal(i){let e=this;do{let r=e.scopedLocals;if(r&&r.has(i))return assert(r.get(i));e=e.parent}while(e);return null}lookup(i){let e=this.lookupLocal(i);return e||this.sourceFunction.lookup(i)}isLocalFlag(i,e,r=!0){if(i<0)return r;let n=this.localFlags;return i<n.length&&(unchecked(n[i])&e)==e}isAnyLocalFlag(i,e,r=!0){if(i<0)return r;let n=this.localFlags;return i<n.length&&(unchecked(n[i])&e)!=0}setLocalFlag(i,e){if(i<0)return;let r=this.localFlags,n=i<r.length?unchecked(r[i]):0;r[i]=n|e}unsetLocalFlag(i,e){if(i<0)return;let r=this.localFlags,n=i<r.length?unchecked(r[i]):0;r[i]=n&~e}initThisFieldFlags(){let i=this.sourceFunction;assert(i.is(524288));let e=i.parent;assert(e.kind==7);let r=e;this.thisFieldFlags=new Map;let n=r.members;if(n)for(let s=Map_values(n),a=0,l=s.length;a<l;++a){let o=s[a];if(o.kind!=10)continue;let p=o.instance;!p||!p.isField||(p.prototype.parent!=r||p.initializerNode||p.prototype.parameterIndex!=-1||p.type.isAny(640))&&this.setThisFieldFlag(p,1)}}isThisFieldFlag(i,e){let r=this.thisFieldFlags;return r!=null&&r.has(i)?(changetype(r.get(i))&e)==e:!1}setThisFieldFlag(i,e){let r=this.thisFieldFlags;if(r)if(assert(this.sourceFunction.is(524288)),r.has(i)){let n=changetype(r.get(i));r.set(i,n|e)}else r.set(i,e);else assert(!this.sourceFunction.is(524288))}pushControlFlowLabel(){let i=this.targetFunction,e=i.nextBreakId++,r=i.breakStack;return r?r.push(e):i.breakStack=[e],e}popControlFlowLabel(i){let e=this.targetFunction,r=assert(e.breakStack);assert(r.length),assert(r.pop()==i)}inherit(i){assert(i.targetFunction==this.targetFunction);let e=i.flags;this.breakLabel!=i.breakLabel&&(e&2064&&(e&=-257),e&=-2065),this.continueLabel!=i.continueLabel&&(e&=-4129),this.flags=this.flags|e,this.localFlags=i.localFlags,this.thisFieldFlags=i.thisFieldFlags}mergeSideEffects(i){assert(i.targetFunction==this.targetFunction);let e=this.flags,r=i.flags,n=0;e&1?n|=1:r&1?n|=512:n|=(e|r)&512,n|=e&r&2,n|=e&r&4,e&8?n|=8:r&8?n|=1024:n|=(e|r)&1024,e&16?n|=16:i.breakLabel==this.breakLabel?r&16?n|=2048:n|=(e|r)&2048:n|=e&2048,e&32?n|=32:i.continueLabel==this.continueLabel?r&32?n|=4096:n|=(e|r)&4096:n|=e&4096,e&64?r&64?n|=64:n|=8192:r&64&&(n|=8192),n|=(e|r)&16384,n|=e&r&128,e&256&&(n|=256),this.flags=n|e&98304}mergeBranch(i){this.mergeSideEffects(i);let e=this.localFlags,r=e.length,n=i.localFlags,s=n.length,a=max(r,s);for(let l=0;l<a;++l){let o=l<r?e[l]:0,p=l<s?n[l]:0;e[l]=o&p&15}}inheritAlternatives(i,e){assert(i.targetFunction==e.targetFunction),assert(i.targetFunction==this.targetFunction);let r=i.flags,n=e.flags,s=0;r&1?n&1?s|=1:s|=512:n&1?s|=512:s|=(r|n)&512,r&2&&n&2&&(s|=2),r&4&&n&4&&(s|=4),r&8?n&8?s|=8:s|=1024:n&8?s|=1024:s|=(r|n)&1024,r&16?n&16?s|=16:s|=2048:n&16?s|=2048:s|=(r|n)&2048,r&32?n&32?s|=32:s|=4096:n&32?s|=4096:s|=(r|n)&4096,r&64?n&64?s|=64:s|=8192:n&64?s|=8192:s|=(r|n)&8192,s|=(r|n)&16384,r&128&&n&128&&(s|=128),r&256&&n&256&&(s|=256),this.flags=s|this.flags&98304;let a=this.localFlags;if(r&256){if(!(n&256)){let o=e.localFlags;for(let p=0,c=o.length;p<c;++p)a[p]=o[p]}}else if(n&256){let o=i.localFlags;for(let p=0,c=o.length;p<c;++p)a[p]=o[p]}else{let o=i.localFlags,p=o.length,c=e.localFlags,_=c.length,f=max(p,_);for(let d=0;d<f;++d){let g=d<p?o[d]:0,E=d<_?c[d]:0;a[d]=g&E&15}}let l=i.thisFieldFlags;if(l){let o=new Map,p=assert(e.thisFieldFlags);for(let c=Map_keys(l),_=0,f=c.length;_<f;++_){let d=c[_];(changetype(l.get(d))&1)!=0&&p.has(d)&&changetype(p.get(d))&1&&o.set(d,1)}this.thisFieldFlags=o}else assert(!e.thisFieldFlags)}resetIfNeedsRecompile(i,e){let r=this.localFlags.length,n=i.localFlags.length,s=this.targetFunction;assert(s==i.targetFunction);let a=s.localsByIndex;assert(a==i.targetFunction.localsByIndex);let l=!1;for(let o=0,p=min(r,n);o<p;++o){let _=a[o].type;_.isShortIntegerValue&&this.isLocalFlag(o,2)&&!i.isLocalFlag(o,2)&&(this.unsetLocalFlag(o,2),l=!0),_.isNullableReference&&this.isLocalFlag(o,4)&&!i.isLocalFlag(o,4)&&(this.unsetLocalFlag(o,4),l=!0)}return l&&(assert(a.length>=e),a.length=e,this.localFlags.length>e&&(this.localFlags.length=e)),l}isNonnull(i,e){if(!e.isNullableReference)return!0;switch($(i)){case 9:{if(!vn(i))break;let r=this.targetFunction.localsByIndex[dl(i)];return!r.type.isNullableReference||this.isLocalFlag(r.index,4,!1)}case 8:{let r=this.targetFunction.localsByIndex[lt(i)];return!r.type.isNullableReference||this.isLocalFlag(r.index,4,!1)}}return!1}inheritNonnullIfTrue(i,e=null){switch($(i)){case 9:{if(!vn(i))break;let r=this.targetFunction.localsByIndex[dl(i)];(!e||e.isLocalFlag(r.index,4))&&this.setLocalFlag(r.index,4),this.inheritNonnullIfTrue(xr(i),e);break}case 8:{let r=this.targetFunction.localsByIndex[lt(i)];(!e||e.isLocalFlag(r.index,4))&&this.setLocalFlag(r.index,4);break}case 2:{let r=yi(i);r&&Se(r)&&(this.inheritNonnullIfTrue(yl(i),e),this.inheritNonnullIfTrue(wn(i),e));break}case 15:{switch(Sn(i)){case 20:case 21:{this.inheritNonnullIfFalse(ml(i),e);break}}break}case 16:{switch(mi(i)){case 15:case 40:{let r=Qe(i),n=Be(i);et(r)?this.inheritNonnullIfTrue(n,e):et(n)&&this.inheritNonnullIfTrue(r,e);break}case 16:case 41:{let r=Qe(i),n=Be(i);Se(r)?this.inheritNonnullIfTrue(n,e):Se(n)&&this.inheritNonnullIfTrue(r,e);break}}break}case 6:{let r=Cn(i);if(r==h.String_eq){assert(ot(i)==2);let n=ze(i,0),s=ze(i,1);et(n)?this.inheritNonnullIfTrue(s,e):et(s)&&this.inheritNonnullIfTrue(n,e)}else if(r==h.String_ne){assert(ot(i)==2);let n=ze(i,0),s=ze(i,1);Se(n)?this.inheritNonnullIfTrue(s,e):Se(s)&&this.inheritNonnullIfTrue(n,e)}else r==h.String_not?(assert(ot(i)==1),this.inheritNonnullIfFalse(ze(i,0),e)):r==h.tostack&&(assert(ot(i)==1),this.inheritNonnullIfTrue(ze(i,0),e));break}}}inheritNonnullIfFalse(i,e=null){switch($(i)){case 15:{switch(Sn(i)){case 20:case 21:{this.inheritNonnullIfTrue(ml(i),e);break}}break}case 2:{let r=wn(i);yi(i)&&et(r)&&(this.inheritNonnullIfFalse(yl(i),e),this.inheritNonnullIfFalse(yi(i),e));break}case 16:{switch(mi(i)){case 15:case 40:{let r=Qe(i),n=Be(i);Se(r)?this.inheritNonnullIfTrue(n,e):Se(n)&&this.inheritNonnullIfTrue(r,e);break}case 16:case 41:{let r=Qe(i),n=Be(i);et(r)?this.inheritNonnullIfTrue(n,e):et(n)&&this.inheritNonnullIfTrue(r,e);break}}break}case 6:{let r=Cn(i);if(r==h.String_eq){assert(ot(i)==2);let n=ze(i,0),s=ze(i,1);Se(n)?this.inheritNonnullIfTrue(s,e):Se(s)&&this.inheritNonnullIfTrue(n,e)}else if(r==h.String_ne){assert(ot(i)==2);let n=ze(i,0),s=ze(i,1);et(n)?this.inheritNonnullIfTrue(s,e):et(s)&&this.inheritNonnullIfTrue(n,e)}else r==h.String_not?(assert(ot(i)==1),this.inheritNonnullIfTrue(ze(i,0),e)):r==h.tostack&&(assert(ot(i)==1),this.inheritNonnullIfFalse(ze(i,0),e));break}}}canOverflow(i,e){if(!e.isShortIntegerValue)return!1;let r;switch($(i)){case 8:{let n=this.targetFunction.localsByIndex[lt(i)];return!this.isLocalFlag(n.index,2,!0)||bl(n.type,e)}case 9:return assert(vn(i)),this.canOverflow(xr(i),e);case 10:{let n=assert(this.program.elementsByName.get(assert(In(i))));return assert(n.kind==0||n.kind==3),bl(n.type,e)}case 16:{switch(mi(i)){case 15:case 40:case 57:case 70:case 16:case 41:case 58:case 71:case 17:case 18:case 42:case 43:case 59:case 72:case 19:case 20:case 44:case 45:case 60:case 73:case 21:case 22:case 46:case 47:case 61:case 74:case 23:case 24:case 48:case 49:case 62:case 75:return!1;case 2:return!($(r=Qe(i))==14&&(ee(r)==0||ee(r)==1&&!this.canOverflow(Be(i),e))||$(r=Be(i))==14&&(ee(r)==0||ee(r)==1&&!this.canOverflow(Qe(i),e)));case 7:return!($(r=Qe(i))==14&&ee(r)<=e.computeSmallIntegerMask(u.i32)||!this.canOverflow(r,e)||$(r=Be(i))==14&&ee(r)<=e.computeSmallIntegerMask(u.i32)||!this.canOverflow(r,e));case 10:{let n=32-e.size;return $(r=Be(i))!=14||ee(r)<n}case 11:{let n=32-e.size;return this.canOverflow(Qe(i),e)&&($(r=Be(i))!=14||ee(r)<n)}case 12:{let n=32-e.size;return e.isSignedIntegerValue?!($(r=Be(i))==14&&ee(r)>n):this.canOverflow(Qe(i),e)&&!($(r=Be(i))==14&&ee(r)>=n)}case 4:case 5:case 6:return this.canOverflow(Qe(i),e)||this.canOverflow(Be(i),e)}break}case 15:{switch(Sn(i)){case 20:case 21:return!1;case 0:case 2:case 4:return e.size<7;case 47:return e.size<(e.isUnsignedIntegerValue?32:8);case 49:return e.size<(e.isUnsignedIntegerValue?64:8);case 48:return e.size<(e.isUnsignedIntegerValue?32:16);case 50:return e.size<(e.isUnsignedIntegerValue?64:16);case 51:return e.size<(e.isUnsignedIntegerValue?64:32)}break}case 14:{let n=0;switch(ne(i)){case L.I32:{n=ee(i);break}case L.I64:{n=Ae(i);break}case L.F32:{n=i32(ge(i));break}case L.F64:{n=i32(be(i));break}case L.V128:return!1;default:assert(!1)}switch(e.kind){case 0:return(n&-2)!=0;case 1:return n<i8.MIN_VALUE||n>i8.MAX_VALUE;case 2:return n<i16.MIN_VALUE||n>i16.MAX_VALUE;case 6:return n<0||n>u8.MAX_VALUE;case 7:return n<0||n>u16.MAX_VALUE}break}case 12:{let n,s=Rp(i);switch(Fp(i)){case 1:{n=s?u.i8:u.u8;break}case 2:{n=s?u.i16:u.u16;break}default:{n=s?u.i32:u.u32;break}}return bl(n,e)}case 1:{if(!Fn(i)){let n=assert(Rn(i)),s=kn(i,n-1);return this.canOverflow(s,e)}break}case 2:return this.canOverflow(wn(i),e)||this.canOverflow(assert(yi(i)),e);case 17:return this.canOverflow(kp(i),e)||this.canOverflow(wp(i),e);case 6:{let s=this.program.instancesByName,a=assert(Cn(i));if(s.has(a)){let l=assert(s.get(a));assert(l.kind==5);let o=l,p=o.signature.returnType;return!o.flow.is(2)||bl(p,e)}return!1}case 23:return!1}return!0}toString(){let i=0,e=this.parent;for(;e;)e=e.parent,++i;let r=new Array;return this.is(1)&&r.push("RETURNS"),this.is(2)&&r.push("RETURNS_WRAPPED"),this.is(4)&&r.push("RETURNS_NONNULL"),this.is(8)&&r.push("THROWS"),this.is(16)&&r.push("BREAKS"),this.is(32)&&r.push("CONTINUES"),this.is(64)&&r.push("ACCESSES_THIS"),this.is(128)&&r.push("CALLS_SUPER"),this.is(256)&&r.push("TERMINATES"),this.is(512)&&r.push("CONDITIONALLY_RETURNS"),this.is(1024)&&r.push("CONDITIONALLY_THROWS"),this.is(2048)&&r.push("CONDITIONALLY_BREAKS"),this.is(4096)&&r.push("CONDITIONALLY_CONTINUES"),this.is(8192)&&r.push("CONDITIONALLY_ACCESSES_THIS"),this.is(16384)&&r.push("MAY_RETURN_NONTHIS"),`Flow(${this.sourceFunction})[${i}] ${r.join(" ")}`}};function bl(t,i){return i.isShortIntegerValue&&(!t.isIntegerValue||t.size>i.size||t.isSignedIntegerValue!=i.isSignedIntegerValue)}var vl=(e=>(e[e.Report=0]="Report",e[e.Swallow=1]="Swallow",e))(vl||{}),Ln=class extends Oe{constructor(e){super(e.diagnostics);this.currentThisExpression=null;this.currentElementExpression=null;this.discoveredOverride=!1;this.resolvingExpressions=new Set;this.resolveClassPending=new Set;this.program=e}resolveType(e,r,n,s=null,a=0){if(e.currentlyResolving)return this.error(100,e.range,"Recursive types"),null;e.currentlyResolving=!0;let l=null;switch(e.kind){case 1:{l=this.resolveNamedType(e,r,n,s,a);break}case 2:{l=this.resolveFunctionType(e,r,n,s,a);break}default:assert(!1)}return e.currentlyResolving=!1,l}resolveNamedType(e,r,n,s=null,a=0){let l=e.name,o=e.typeArguments,p=!l.next;if(p){let f=l.identifier.text;if(s&&s.has(f)){let d=assert(s.get(f));if(o&&o.length>0&&a==0&&this.error(2315,e.range,d.toString()),e.isNullable){if(d.isReference)return d.asNullable();a==0&&this.error(204,e.range,d.toString())}return d}}let c=this.resolveTypeName(l,r,n,a);if(!c)return null;let _=c.shadowType;if(_)c=_;else{if(c.kind==2)return o&&o.length>0&&a==0&&this.error(2315,e.range,c.internalName),e.isNullable&&a==0&&this.error(204,e.range,`${c.name}/i32`),u.i32;if(c.kind==6||c.kind==8){let f=this.resolveClassInclTypeArguments(c,o,r,n,pe(s),e,a);return f?e.isNullable?f.type.asNullable():f.type:null}}if(c.kind==14){let f=c;if(c.is(4194304)){o&&o.length>0&&a==0&&this.error(2315,e.range,c.internalName);let x=f.type;if(e.isNullable){if(x.isReference)return x.asNullable();a==0&&this.error(204,l.range,l.identifier.text)}return x}if(p){let x=l.identifier.text;if(x==P.native)return this.resolveBuiltinNativeType(e,n,s,a);if(x==P.indexof)return this.resolveBuiltinIndexofType(e,n,s,a);if(x==P.valueof)return this.resolveBuiltinValueofType(e,n,s,a);if(x==P.returnof)return this.resolveBuiltinReturnTypeType(e,n,s,a);if(x==P.nonnull)return this.resolveBuiltinNotNullableType(e,n,s,a)}let d=f.typeParameterNodes,g=null;if(d){if(g=this.resolveTypeArguments(d,o,r,n,s=pe(s),e,a),!g)return null}else o&&o.length>0&&this.error(2315,e.range,l.identifier.text);let E=this.resolveType(f.typeNode,r,c,s,a);if(!E)return null;if(e.isNullable){if(E.isReference)return E.asNullable();a==0&&this.error(204,l.range,l.identifier.text)}return E}return a==0&&this.error(2304,l.range,l.identifier.text),null}resolveFunctionType(e,r,n,s=null,a=0){let l=e.explicitThisType,o=null;if(l&&(o=this.resolveType(l,r,n,s,a),!o))return null;let p=e.parameters,c=p.length,_=new Array(c),f=0,d=!1;for(let A=0;A<c;++A){let S=p[A];switch(S.parameterKind){case 0:{f=A+1;break}case 2:{assert(A==c-1),d=!0;break}}let I=S.type;if(Ie(I))return a==0&&this.error(1110,I.range),null;let k=this.resolveType(I,r,n,s,a);if(!k)return null;_[A]=k}let g=e.returnType,E;if(Ie(g))a==0&&this.error(1110,g.range),E=u.void;else if(E=this.resolveType(g,r,n,s,a),!E)return null;let x=De.create(this.program,_,E,o,f,d);return e.isNullable?x.type.asNullable():x.type}resolveBuiltinNativeType(e,r,n=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;let l=this.resolveType(a,null,r,n,s);if(!l)return null;switch(l.kind){case 1:case 2:case 3:return u.i32;case 5:if(!this.program.options.isWasm64)return u.i32;case 4:return u.i64;case 6:case 7:case 8:case 0:return u.u32;case 10:if(!this.program.options.isWasm64)return u.u32;case 9:return u.u64;case 11:return u.f32;case 12:return u.f64;case 13:return u.v128;case 25:return u.void;default:assert(!1)}return null}resolveBuiltinIndexofType(e,r,n=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;let l=this.resolveType(a,null,r,n,s);if(!l)return null;let o=l.classReference;if(!o)return s==0&&this.error(2329,a.range,l.toString()),null;let p=o.lookupOverload(1);if(p){let c=p.signature.parameterTypes;return p.is(32)?(assert(c.length==2),c[1]):(assert(c.length==1),c[0])}return s==0&&this.error(2329,a.range,l.toString()),null}resolveBuiltinValueofType(e,r,n=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;let l=this.resolveType(a,null,r,n,s);if(!l)return null;let o=l.getClassOrWrapper(this.program);if(o){let p=o.lookupOverload(1);if(p)return p.signature.returnType}return s==0&&this.error(2329,a.range,l.toString()),null}resolveBuiltinReturnTypeType(e,r,n=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;let l=this.resolveType(a,null,r,n,s);if(!l)return null;let o=l.getSignature();return o?o.returnType:(s==0&&this.error(2757,a.range,l.toString()),null)}resolveBuiltinNotNullableType(e,r,n=null,s=0){let a=this.ensureOneTypeArgument(e,s);if(!a)return null;let l=this.resolveType(a,null,r,n,s);return l?l.isNullableReference?l.nonNullableType:l:null}resolveTypeName(e,r,n,s=0){let a=null;if(r&&(a=r.lookupTypeAlias(e.identifier.text)),a||(a=n.lookup(e.identifier.text,!0)),!a)return s==0&&this.error(2304,e.range,e.identifier.text),null;let l=e,o=e.next;for(;o;){if(!(a=a.getMember(o.identifier.text)))return s==0&&this.error(2339,o.range,o.identifier.text,l.identifier.text),null;l=o,o=o.next}return a}resolveTypeArguments(e,r,n,s,a=new Map,l=null,o=0){let p=0,c=0;for(let g=0,E=e.length;g<E;++g)e[g].defaultType||++p,++c;let _=r?r.length:0;if(_<p||_>c)return o==0&&this.error(2558,_?ae.join(r[0].range,r[_-1].range):l.range,(_<p?p:c).toString(),_.toString()),null;let f=new Array(c),d=pe(a);a.clear();for(let g=0;g<c;++g){let E=g<_?this.resolveType(r[g],n,s,d,o):this.resolveType(assert(e[g].defaultType),n,s,pe(a),o);if(!E)return null;a.set(e[g].name.text,E),f[g]=E}return f}maybeInferCall(e,r,n,s=0){let a=e.typeArguments;if(a)return r.is(65536)?this.resolveFunctionInclTypeArguments(r,a,n.sourceFunction,pe(n.contextualTypeArguments),e,s):(s==0&&this.error(2315,e.expression.range,r.internalName),null);if(r.is(65536)){let l=this.inferGenericTypeArguments(e,r,r.typeParameterNodes,n,s);return l?this.resolveFunction(r,l,pe(n.contextualTypeArguments),s):null}return this.resolveFunction(r,null,new Map,s)}inferGenericTypeArguments(e,r,n,s,a=0){if(!n)return null;let l=pe(s.contextualTypeArguments),o=n.length,p=new Set;for(let x=0;x<o;++x){let A=n[x].name.text;l.set(A,u.auto),p.add(A)}let c=r.functionTypeNode.parameters,_=c.length,f,d;switch(e.kind){case 9:{let x=e;f=x.args,d=x.argumentsRange;break}case 17:{let x=e;f=x.args,d=x.argumentsRange;break}default:return assert(!1),null}let g=f.length;for(let x=0;x<_;++x){let A=x<g?f[x]:c[x].initializer;if(!A){if(c[x].parameterKind==1)continue;return a==0&&(c[x].parameterKind==2?this.error(1140,d.atEnd):this.error(2554,e.range,_.toString(),g.toString())),null}let S=c[x].type;if(c[x].parameterKind==2&&(S=S.typeArguments[0]),S.hasGenericComponent(n)){let I=this.resolveExpression(A,s,u.auto,1);I&&this.propagateInferredGenericTypes(S,I,r,l,p)}}let E=new Array(o);for(let x=0;x<o;++x){let A=n[x],S=A.name.text;if(l.has(S)){let I=assert(l.get(S));if(I!=u.auto){E[x]=I;continue}let k=A.defaultType;if(k){let F=r.parent,B=null;(F.kind==7||F.kind==5)&&(B=F.contextualTypeArguments);let V=this.resolveType(k,null,r,B,a);if(!V)return null;E[x]=V;continue}}if(a==0){let I;switch(e.kind){case 9:I=e.expression.range;break;case 17:I=e.typeName.range;break;default:return assert(!1),null}this.error(1140,I.atEnd)}return null}return E}propagateInferredGenericTypes(e,r,n,s,a){if(e.kind==1){let l=e,o=l.typeArguments;if(o&&o.length>0){let p=r.classReference;if(p){let c=this.resolveTypeName(l.name,null,n);if(!c||c.kind!=6)return;if(p.prototype==c){let _=p.typeArguments;if(_&&_.length==o.length){for(let f=0,d=_.length;f<d;++f)this.propagateInferredGenericTypes(o[f],_[f],n,s,a);return}}}}else{let p=l.name.identifier.text;if(s.has(p)){let c=assert(s.get(p));(c==u.auto||a.has(p)&&c.isAssignableTo(r))&&s.set(p,r)}}}else if(e.kind==2){let l=e,o=l.parameters,p=r.signatureReference;if(p){let c=p.parameterTypes;for(let g=0,E=min(c.length,o.length);g<E;++g)this.propagateInferredGenericTypes(o[g].type,c[g],n,s,a);let _=p.returnType;_!=u.void&&this.propagateInferredGenericTypes(l.returnType,_,n,s,a);let f=p.thisType,d=l.explicitThisType;f&&d&&this.propagateInferredGenericTypes(d,f,n,s,a);return}}}getTypeOfElement(e){let r=e.kind;if(r==0&&!this.ensureResolvedLazyGlobal(e,1))return null;if(Al(r)){let n=e.type,s=n.getClassOrWrapper(this.program);if(s){let a=s.wrappedType;a&&(n=a)}return n}return null}getElementOfType(e){let r=e.getClassOrWrapper(this.program);return r||null}lookupExpression(e,r,n=u.auto,s=0){for(;e.kind==20;)e=e.expression;switch(e.kind){case 7:return this.lookupAssertionExpression(e,r,n,s);case 8:return this.lookupBinaryExpression(e,r,n,s);case 9:return this.lookupCallExpression(e,r,n,s);case 11:return this.lookupCommaExpression(e,r,n,s);case 12:return this.lookupElementAccessExpression(e,r,n,s);case 14:return this.lookupFunctionExpression(e,r,n,s);case 6:case 13:case 18:case 25:return this.lookupIdentifierExpression(e,r,r.sourceFunction,s);case 24:return this.lookupThisExpression(e,r,n,s);case 23:return this.lookupSuperExpression(e,r,n,s);case 15:return this.lookupInstanceOfExpression(e,r,n,s);case 16:return this.lookupLiteralExpression(e,r,n,s);case 17:return this.lookupNewExpression(e,r,n,s);case 21:return this.lookupPropertyAccessExpression(e,r,n,s);case 22:return this.lookupTernaryExpression(e,r,n,s);case 27:return this.lookupUnaryPostfixExpression(e,r,n,s);case 28:return this.lookupUnaryPrefixExpression(e,r,n,s)}return assert(!1),null}resolveExpression(e,r,n=u.auto,s=0){let a=this.resolvingExpressions;if(a.has(e))return null;a.add(e);let l=this.doResolveExpression(e,r,n,s);return a.delete(e),l}doResolveExpression(e,r,n=u.auto,s=0){for(;e.kind==20;)e=e.expression;switch(e.kind){case 7:return this.resolveAssertionExpression(e,r,n,s);case 8:return this.resolveBinaryExpression(e,r,n,s);case 9:return this.resolveCallExpression(e,r,n,s);case 11:return this.resolveCommaExpression(e,r,n,s);case 12:return this.resolveElementAccessExpression(e,r,n,s);case 14:return this.resolveFunctionExpression(e,r,n,s);case 6:case 13:case 18:case 25:return this.resolveIdentifierExpression(e,r,n,r.sourceFunction,s);case 24:return this.resolveThisExpression(e,r,n,s);case 23:return this.resolveSuperExpression(e,r,n,s);case 15:return this.resolveInstanceOfExpression(e,r,n,s);case 16:return this.resolveLiteralExpression(e,r,n,s);case 17:return this.resolveNewExpression(e,r,n,s);case 21:return this.resolvePropertyAccessExpression(e,r,n,s);case 22:return this.resolveTernaryExpression(e,r,n,s);case 27:return this.resolveUnaryPostfixExpression(e,r,n,s);case 28:return this.resolveUnaryPrefixExpression(e,r,n,s)}return assert(!1),null}lookupIdentifierExpression(e,r,n=r.sourceFunction,s=0){switch(e.kind){case 25:case 13:case 18:{let p=this.resolveIdentifierExpression(e,r,u.auto,n,s);return p?this.getElementOfType(p):null}}let a=e.text,l;if(l=r.lookup(a))return this.currentThisExpression=null,this.currentElementExpression=null,l;let o=r.outer;return o&&(l=o.lookup(a))?(this.currentThisExpression=null,this.currentElementExpression=null,l):(l=n.lookup(a))?(this.currentThisExpression=null,this.currentElementExpression=null,l):(l=this.program.lookup(a))?(this.currentThisExpression=null,this.currentElementExpression=null,l):(s==0&&this.error(2304,e.range,a),null)}resolveIdentifierExpression(e,r,n=u.auto,s=r.sourceFunction,a=0){switch(e.kind){case 25:case 13:return u.bool;case 18:{let p=n.getClass();if(p)return p.type.asNullable();{let c=n.getSignature();if(c)return c.type.asNullable();if(n.isExternalReference)return n}return this.program.options.usizeType}}let l=this.lookupIdentifierExpression(e,r,s,a);if(!l)return null;if(l.kind==4){let p=this.resolveFunction(l,null,new Map,a);if(!p)return null;l=p}let o=this.getTypeOfElement(l);return o||a==0&&this.error(225,e.range),o}ensureResolvedLazyGlobal(e,r=0){if(e.is(4194304))return!0;let n=e.typeNode,s=n?this.resolveType(n,null,e.parent,null,r):this.resolveExpression(assert(e.initializerNode),e.file.startFunction.flow,u.auto,r);return s?(e.setType(s),!0):!1}lookupPropertyAccessExpression(e,r,n,s=0){let a=e.expression,l=this.lookupExpression(a,r,n,s);if(!l)return null;let o=e.property.text;switch(l.kind){case 0:if(!this.ensureResolvedLazyGlobal(l,s))return null;case 3:case 1:{let p=l,c=p.type;if(c==u.void)return null;let _=c.getClassOrWrapper(this.program);if(!_)return s==0&&this.error(2339,e.property.range,o,p.type.toString()),null;l=_;break}case 10:{let p=this.resolveProperty(l,s);if(!p)return null;l=p}case 11:{let p=l,c=p.getterInstance;if(!c){let d=assert(p.setterInstance);return this.errorRelated(229,a.range,d.declaration.range,p.name),null}let _=c.signature.returnType,f=_.getClassOrWrapper(this.program);if(!f)return s==0&&this.error(2339,e.property.range,o,_.toString()),null;l=f;break}case 15:{let c=l.parent;assert(c.kind==7);let _=c,f=assert(this.currentElementExpression),d=_.lookupOverload(1);if(!d)return s==0&&this.error(2329,f.range,c.internalName),null;let g=d.signature.returnType,E=g.getClassOrWrapper(this.program);if(!E)return s==0&&this.error(2339,e.property.range,o,g.toString()),null;l=E;break}case 4:{let p=l.shadowType;if(p){if(!p.is(4194304)){let _=this.resolveType(p.typeNode,null,p.parent,null,s);_&&p.setType(_)}let c=p.type.classReference;c&&(l=c.prototype);break}else if(!l.is(65536)&&!l.getMember(o)){let _=this.resolveFunction(l,null,new Map,1);if(_){let f=_.type.getClassOrWrapper(this.program);f&&(l=f)}}break}}switch(l.kind){case 6:case 8:case 7:case 9:{let p=l,c=!1;do{let _=p.getMember(o);if(_){if(_.kind==10){let f=this.resolveProperty(_,s);if(!f)return null;_=f,f.is(32)?this.currentThisExpression=null:this.currentThisExpression=a}else this.currentThisExpression=a;return this.currentElementExpression=null,_}switch(c=!1,p.kind){case 6:case 8:{let d=p.basePrototype;d&&(c=!0,p=d);break}case 7:case 9:{let d=p.base;d&&(c=!0,p=d);break}}}while(c);break}default:{let p=l.getMember(o);if(p)return this.currentThisExpression=a,this.currentElementExpression=null,p;break}}return s==0&&this.error(2339,e.property.range,o,l.internalName),null}resolvePropertyAccessExpression(e,r,n,s=0){let a=this.lookupPropertyAccessExpression(e,r,n,s);if(!a)return null;let l=this.getTypeOfElement(a);return l||s==0&&this.error(225,e.range),l}lookupElementAccessExpression(e,r,n,s=0){let a=e.expression,l=this.resolveExpression(a,r,n,s);if(!l)return null;let o=l.getClassOrWrapper(this.program);if(o)do{let p=o.indexSignature;if(p)return this.currentThisExpression=a,this.currentElementExpression=e.elementExpression,p;o=o.base}while(o);return s==0&&this.error(2329,a.range,l.toString()),null}resolveElementAccessExpression(e,r,n,s=0){let a=this.lookupElementAccessExpression(e,r,n,s);if(!a)return null;let l=this.getTypeOfElement(a);return l||s==0&&this.error(225,e.range),l}determineIntegerLiteralType(e,r,n){let s=e.value;if(r){if(i64_gt(i64_add(s,i64_minimum),i64_zero)){let a=e.range;this.error(236,a,a.source.text.substring(a.start-1,a.end))}else if(i64_eq(s,i64_zero)){if(n.isFloatValue)return n.kind==11?u.f32:u.f64;if(!n.isIntegerValue)return u.f64}s=i64_neg(s)}if(n.isValue)switch(n.kind){case 0:{if(i64_is_bool(s))return u.bool;break}case 1:{if(i64_is_i8(s))return u.i8;break}case 6:{if(i64_is_u8(s))return u.u8;break}case 2:{if(i64_is_i16(s))return u.i16;break}case 7:{if(i64_is_u16(s))return u.u16;break}case 3:{if(i64_is_i32(s))return u.i32;break}case 8:{if(i64_is_u32(s))return u.u32;break}case 5:{if(!this.program.options.isWasm64){if(i64_is_i32(s))return u.isize32;break}return u.isize64}case 10:{if(!this.program.options.isWasm64){if(i64_is_u32(s))return u.usize32;break}return u.usize64}case 4:return u.i64;case 9:return u.u64;case 11:return u.f32;case 12:return u.f64}return i64_is_i32(s)?u.i32:i64_is_u32(s)?u.u32:u.i64}lookupAssertionExpression(e,r,n=u.auto,s=0){switch(e.assertionKind){case 1:case 0:{let a=this.resolveType(assert(e.toType),null,r.sourceFunction,r.contextualTypeArguments,s);if(!a)return null;let l=this.getElementOfType(a);return l||(s==0&&this.error(214,e.range,a.toString()),this.currentThisExpression=null,this.currentElementExpression=null,null)}case 2:return this.lookupExpression(e.expression,r,n,s);case 3:return this.error(100,e.range,"Const assertion"),null}return assert(!1),null}resolveAssertionExpression(e,r,n=u.auto,s=0){switch(e.assertionKind){case 1:case 0:return this.resolveType(assert(e.toType),null,r.sourceFunction,r.contextualTypeArguments,s);case 2:{let a=this.resolveExpression(e.expression,r,n,s);return a?a.nonNullableType:null}case 3:{let a=this.lookupExpression(e,r,n,s);if(!a)return null;let l=this.getTypeOfElement(a);return l||s==0&&this.error(225,e.range),l}default:assert(!1)}return null}lookupUnaryPrefixExpression(e,r,n=u.auto,s=0){let a=this.resolveUnaryPrefixExpression(e,r,n,s);if(!a)return null;let l=this.getElementOfType(a);return l||s==0&&this.error(2469,e.range,Te(e.operator),a.toString()),l}resolveUnaryPrefixExpression(e,r,n=u.auto,s=0){let a=e.operand,l=e.operator;switch(l){case 82:if(a.isLiteralKind(1))return this.determineIntegerLiteralType(a,!0,n);case 81:case 87:case 88:{let o=this.resolveExpression(a,r,n,s);if(!o)return null;let p=o.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(Fe.fromUnaryPrefixToken(l));if(c)return c.signature.returnType}return o.isNumericValue?o:(s==0&&this.error(2469,e.range,Te(l),o.toString()),null)}case 95:{let o=this.resolveExpression(a,r,n,s);if(!o)return null;let p=o.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(25);if(c)return c.signature.returnType}return u.bool}case 96:{let o=this.resolveExpression(a,r,n,s);if(!o)return null;let p=o.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(26);if(c)return c.signature.returnType}return o.isNumericValue?o.intType:(s==0&&this.error(2469,e.range,"~",o.toString()),null)}case 69:return s==0&&this.error(100,e.range,"Spread operator"),null;case 56:return this.program.stringInstance.type;default:assert(!1)}return null}lookupUnaryPostfixExpression(e,r,n=u.auto,s=0){let a=this.resolveUnaryPostfixExpression(e,r,n,s);if(!a)return null;let l=this.getElementOfType(a);return l||s==0&&this.error(2469,e.range,Te(e.operator),a.toString()),l}resolveUnaryPostfixExpression(e,r,n=u.auto,s=0){let a=e.operator;switch(a){case 87:case 88:{let l=this.resolveExpression(e.operand,r,n,s);if(!l)return null;let o=l.getClassOrWrapper(this.program);if(o){let p=o.lookupOverload(Fe.fromUnaryPostfixToken(a));if(p)return p.signature.returnType}return l.isNumericValue?l:(s==0&&this.error(2469,e.range,Te(a),l.toString()),null)}}return assert(!1),null}lookupBinaryExpression(e,r,n=u.auto,s=0){let a=this.resolveBinaryExpression(e,r,n,s);if(!a)return null;let l=this.getElementOfType(a);return l||(s==0&&this.error(214,e.range,a.toString()),null)}resolveBinaryExpression(e,r,n=u.auto,s=0){let a=e.left,l=e.right,o=e.operator;switch(o){case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:return this.resolveExpression(a,r,n,s);case 72:case 73:case 74:case 75:{let p=this.resolveExpression(a,r,n,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(Fe.fromBinaryToken(o));if(_)return _.signature.returnType}return p.isNumericValue?u.bool:(s==0&&this.error(2469,e.range,Te(o),p.toString()),null)}case 76:case 77:{let p=this.resolveExpression(a,r,n,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(Fe.fromBinaryToken(o));if(_)return _.signature.returnType}return u.bool}case 78:case 79:return u.bool;case 29:return u.bool;case 81:case 82:case 84:case 85:case 86:case 83:{let p=this.resolveExpression(a,r,n,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let d=c.lookupOverload(Fe.fromBinaryToken(o));if(d)return d.signature.returnType}let _=this.resolveExpression(l,r,p,s);if(!_)return null;let f=u.commonType(p,_,n);return f||s==0&&this.error(2365,e.range,Te(o),p.toString(),_.toString()),f}case 89:case 90:case 91:{let p=this.resolveExpression(a,r,n,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(Fe.fromBinaryToken(o));if(_)return _.signature.returnType}return p.isIntegerValue?p:(s==0&&this.error(2469,e.range,Te(o),p.toString()),null)}case 92:case 93:case 94:{let p=this.resolveExpression(a,r,n,s);if(!p)return null;let c=p.getClassOrWrapper(this.program);if(c){let d=c.lookupOverload(Fe.fromBinaryToken(o));if(d)return d.signature.returnType}let _=this.resolveExpression(l,r,n,s);if(!_)return null;let f=u.commonType(p,_,n);return(!f||!f.isIntegerValue)&&s==0&&this.error(2365,e.range,Te(o),p.toString(),_.toString()),f}case 97:{let p=this.resolveExpression(a,r,n,s);if(!p)return null;let c=this.resolveExpression(l,r,p,s);if(!c)return null;let _=u.commonType(p,c,n);return _||s==0&&this.error(2365,e.range,"&&",p.toString(),c.toString()),_}case 98:{let p=this.resolveExpression(a,r,n,s);if(!p)return null;let c=this.resolveExpression(l,r,p,s);if(!c)return null;let _=u.commonType(p,c,n);return _?p.is(512)&&c.is(512)?_:_.nonNullableType:(s==0&&this.error(2365,e.range,"||",p.toString(),c.toString()),null)}}return assert(!1),null}lookupThisExpression(e,r,n=u.auto,s=0){if(r.isInline){let l=r.lookupLocal(P.this_);if(l)return this.currentThisExpression=null,this.currentElementExpression=null,l}let a=r.sourceFunction.parent;return a?(this.currentThisExpression=null,this.currentElementExpression=null,a):(s==0&&this.error(2332,e.range),null)}resolveThisExpression(e,r,n=u.auto,s=0){let a=this.lookupThisExpression(e,r,n,s);if(!a)return null;let l=this.getTypeOfElement(a);return l||s==0&&this.error(225,e.range),l}lookupSuperExpression(e,r,n=u.auto,s=0){if(r.isInline){let l=r.lookupLocal(P.super_);if(l)return this.currentThisExpression=null,this.currentElementExpression=null,l}let a=r.sourceFunction.parent;if(a&&a.kind==7){let l=a.base;if(l)return this.currentThisExpression=null,this.currentElementExpression=null,l}return s==0&&this.error(2335,e.range),null}resolveSuperExpression(e,r,n=u.auto,s=0){let a=this.lookupSuperExpression(e,r,n,s);if(!a)return null;let l=this.getTypeOfElement(a);return l||s==0&&this.error(225,e.range),l}lookupLiteralExpression(e,r,n=u.auto,s=0){switch(this.currentThisExpression=e,this.currentElementExpression=null,e.literalKind){case 1:{let a=this.determineIntegerLiteralType(e,!1,n);return assert(a.getClassOrWrapper(this.program))}case 0:{let a=n==u.f32?u.f32:u.f64;return assert(a.getClassOrWrapper(this.program))}case 2:case 3:return this.program.stringInstance;case 4:return this.program.regexpInstance;case 5:{let a=n.getClass();if(a&&a.prototype==this.program.arrayPrototype)return this.getElementOfType(n);let l=e.elementExpressions,o=l.length,p=u.auto,c=0;for(let _=0,f=o;_<f;++_){let d=l[_];if(d)if(d.kind==18&&o>1)++c;else{let g=this.resolveExpression(d,r,p);if(!g)return null;if(p==u.auto)p=g;else if(g!=p){let E=u.commonType(p,g,p);E&&(p=E)}}}if(p==u.auto)if(c==o)p=this.program.options.usizeType;else return s==0&&this.error(2453,e.range,"T"),null;return c>0&&p.isInternalReference&&(p=p.asNullable()),assert(this.resolveClass(this.program.arrayPrototype,[p]))}case 6:return n.isClass?n.classReference:(s==0&&this.error(225,e.range),null)}return assert(!1),null}resolveLiteralExpression(e,r,n=u.auto,s=0){let a=this.lookupLiteralExpression(e,r,n,s);if(!a)return null;let l=this.getTypeOfElement(a);return l||s==0&&this.error(225,e.range),l}lookupCallExpression(e,r,n=u.void,s=0){let a=this.resolveCallExpression(e,r,n,s);if(!a)return null;let l=this.getElementOfType(a);return l||s==0&&this.error(214,e.range,a.toString()),l}resolveCallExpression(e,r,n=u.void,s=0){let a=e.expression,l=this.lookupExpression(a,r,n,s);if(!l)return null;switch(l.kind){case 4:{let o=l;if(o.internalName==h.unchecked&&e.args.length>0)return this.resolveExpression(e.args[0],r,n,s);let p=this.maybeInferCall(e,o,r,s);if(!p)return null;l=p}case 5:return l.signature.returnType;case 10:{let o=this.resolveProperty(l,s);if(!o)return null;l=o}default:{if(!Al(l.kind))break;let o=this.getElementOfType(l.type);if(!o||o.kind!=7)break;l=o}case 7:{let o=l.getTypeArgumentsTo(this.program.functionPrototype);if(!(o&&o.length))break;return assert(o[0].getSignature()).returnType}}return s==0&&this.error(2349,a.range,l.internalName),null}lookupCommaExpression(e,r,n=u.auto,s=0){let a=e.expressions;return this.lookupExpression(a[assert(a.length)-1],r,n,s)}resolveCommaExpression(e,r,n=u.auto,s=0){let a=e.expressions;return this.resolveExpression(a[assert(a.length)-1],r,n,s)}lookupInstanceOfExpression(e,r,n=u.auto,s=0){return assert(u.bool.getClassOrWrapper(this.program))}resolveInstanceOfExpression(e,r,n=u.auto,s=0){return u.bool}lookupTernaryExpression(e,r,n,s=0){let a=this.resolveTernaryExpression(e,r,n,s);if(!a)return null;let l=this.getElementOfType(a);return l||s==0&&this.error(214,e.range,a.toString()),l}resolveTernaryExpression(e,r,n,s=0){let a=this.resolveExpression(e.ifThen,r,n,s);if(!a)return null;let l=this.resolveExpression(e.ifElse,r,a,s);if(!l)return null;let o=u.commonType(a,l,n);return o||s==0&&this.error(2365,e.range,"?:",a.toString(),l.toString()),o}lookupNewExpression(e,r,n,s=0){let a=this.resolveTypeName(e.typeName,r,r.sourceFunction,s);return a?a.kind==6?this.resolveClassInclTypeArguments(a,e.typeArguments,r,r.sourceFunction,pe(r.contextualTypeArguments),e,s):(s==0&&this.error(2351,e.range),null):null}resolveNewExpression(e,r,n,s=0){let a=this.lookupNewExpression(e,r,n,s);if(!a)return null;let l=this.getTypeOfElement(a);return l||s==0&&this.error(225,e.range),l}lookupFunctionExpression(e,r,n,s=0){let a=this.resolveFunctionExpression(e,r,n,s);if(!a)return null;let l=this.getElementOfType(a);return l||s==0&&this.error(214,e.range,a.toString()),l}resolveFunctionExpression(e,r,n,s=0){let a=e.declaration,l=a.signature,o=a.body,p=this.resolveType(l,null,r.sourceFunction,r.contextualTypeArguments,s);if(p&&a.arrowKind!=0&&o&&o.kind==38&&Ie(l.returnType)){let c=o.expression,_=assert(p.getSignature()),f=vt.createDefault(r.sourceFunction),d=l.parameters;assert(_.parameterTypes.length==d.length);for(let E=0,x=d.length;E<x;E++){let A=d[E],S=_.parameterTypes[E];f.addScopedDummyLocal(A.name.text,S,A)}let g=this.resolveExpression(c,f,n,s);g&&(p.signatureReference=De.create(this.program,_.parameterTypes,g,_.thisType,_.requiredParameters,_.hasRest))}return p}resolveFunction(e,r,n=new Map,s=0){let a=null,l=r?El(r):"";if(e.is(262144)){a=assert(e.getBoundClassOrInterface());let B=e.getResolvedInstance(l);if(B)return B;let V=a.typeArguments;if(V){let K=assert(a.prototype.typeParameterNodes),D=K.length;assert(D==K.length);for(let q=0;q<D;++q){let j=K[q].name.text;n.set(j,V[q])}}}else{assert(!e.isBound);let B=e.getResolvedInstance(l);if(B)return B}let o=e.functionTypeNode,p=e.typeParameterNodes,c;if(r&&(c=r.length)>0){assert(p&&c==p.length);for(let B=0;B<c;++B)n.set(p[B].name.text,r[B])}else assert(!p||p.length==0);let _=null,f=o.explicitThisType;if(f){if(_=this.resolveType(f,null,e.parent,n,s),!_)return null;n.set(P.this_,_)}else a&&(_=a.type,n.set(P.this_,_));let d=o.parameters,g=d.length,E=new Array(g),x=0,A=!1;for(let B=0;B<g;++B){let V=d[B];V.parameterKind==0?x=B+1:V.parameterKind==2&&(A=!0);let K=V.type;if(Ie(K))return s==0&&this.error(1110,K.range),null;let D=this.resolveType(K,null,e.parent,n,s);if(!D)return null;if(D==u.void)return s==0&&this.error(1110,K.range),null;E[B]=D}let S;if(e.is(4096))S=u.void;else if(e.is(524288))S=a.type;else{let B=o.returnType;if(Ie(B))return s==0&&this.error(1110,B.range),null;let V=this.resolveType(B,null,e.parent,n,s);if(!V)return null;S=V}let I=De.create(this.program,E,S,_,x,A),k=e.name;l.length&&(k+=`<${l}>`);let F=new ct(k,e,r,I,n);if(e.setResolvedInstance(l,F),a){let B=F.declaration.name.text,V=a.base;if(V){let K=V.getMember(B);if(K){this.discoveredOverride=!0;let D=!0;if(F.isAny(6144)){if(K.kind==10){let q=this.resolveProperty(K,s);if(q)if(F.is(2048)){let j=q.getterInstance;j&&F.signature.isAssignableTo(j.signature,!0)&&(D=!1)}else{assert(F.is(4096));let j=q.setterInstance;j&&F.signature.isAssignableTo(j.signature,!0)&&(D=!1)}}}else if(F.is(524288))D=!1;else if(K.kind==4){let q=K,j=this.resolveFunction(q,r,new Map,1);j&&F.signature.isAssignableTo(j.signature,!0)&&(D=!1)}D&&this.errorRelated(2394,F.identifierAndSignatureRange,K.identifierAndSignatureRange)}}}return F}resolveFunctionInclTypeArguments(e,r,n,s,a,l=0){let o=null;if(e.is(65536)){if(e.is(262144)){let p=assert(e.getBoundClassOrInterface()),c=p.typeArguments;if(c){let _=assert(p.prototype.typeParameterNodes),f=c.length;assert(f==_.length);for(let d=0;d<f;++d)s.set(_[d].name.text,c[d])}}if(o=this.resolveTypeArguments(assert(e.typeParameterNodes),r,null,n,s,a,l),!o)return null}else if(r&&r.length>0)return l==0&&this.error(2315,a.range,e.internalName),null;return this.resolveFunction(e,o,s,l)}resolveOverrides(e){let r=e.prototype.unboundOverrides;if(!r)return null;let n=assert(e.getBoundClassOrInterface()),s=new Set;for(let a=Set_values(r),l=0,o=a.length;l<o;++l){let p=a[l];assert(!p.isBound);let c=p.parent,_;if(assert(c.kind==6||c.kind==8),_=c.instances,!!_)for(let f=Map_values(_),d=0,g=f.length;d<g;++d){let E=f[d];if(!E.isAssignableTo(n))continue;let x=null;if(e.isAny(6144)){let A=e.declaration.name.text,S=assert(E.getMember(A));assert(S.kind==10);let I=this.resolveProperty(S);if(!I)continue;e.is(2048)?x=I.getterInstance:(assert(e.is(4096)),x=I.setterInstance)}else{let A=E.getMember(p.name);A&&(assert(A.kind==4),x=this.resolveFunction(A,e.typeArguments))}x&&s.add(x)}}return Set_values(s)}resolveClass(e,r,n=new Map,s=0){let a=r?El(r):"",l=e.getResolvedInstance(a);if(l)return l;let o=e.name;a.length&&(o+=`<${a}>`),e.kind==8?l=new Gn(o,e,r):l=new Kt(o,e,r),e.setResolvedInstance(a,l);let p=this.resolveClassPending;if(p.add(l),r){let d=assert(e.typeParameterNodes),g=d.length,E=r.length;assert(E==g);for(let x=0;x<E;++x)n.set(d[x].name.text,r[x])}else{let d=e.typeParameterNodes;assert(!(d&&d.length>0))}l.contextualTypeArguments=n;let c=!1,_=e.basePrototype;if(_){let d=_;do{if(d==e)return this.error(2506,e.identifierNode.range,e.internalName),null;d=d.basePrototype}while(d);let g=assert(e.extendsNode),E=this.resolveClassInclTypeArguments(_,g.typeArguments,null,e.parent,pe(n),g,s);if(!E)return null;l.setBase(E),p.has(E)&&(c=!0)}else e.implicitlyExtendsObject&&l.setBase(this.program.objectInstance);let f=e.interfacePrototypes;if(f)for(let d=0,g=f.length;d<g;++d){let E=f[d],x=E;do{if(x==e)return this.error(2506,e.identifierNode.range,e.internalName),null;x=x.basePrototype}while(x);let A=assert(e.implementsNodes[d]),S=this.resolveClassInclTypeArguments(E,A.typeArguments,null,e.parent,pe(n),A,s);if(!S)return null;assert(S.kind==9),l.addInterface(S),p.has(S)&&(c=!0)}return c||this.finishResolveClass(l,s),l}checkOverrideVisibility(e,r,n,s,a,l){let o=!1;return r.is(524288)?(assert(s.is(524288)),s.is(512)&&(l==0&&this.errorRelated(2675,r.identifierNode.range,s.identifierNode.range,a.internalName),o=!0)):r.is(512)?s.is(512)?(l==0&&this.errorRelated(2442,r.identifierNode.range,s.identifierNode.range,e),o=!0):(l==0&&this.errorRelated(2325,r.identifierNode.range,s.identifierNode.range,e,n.internalName,a.internalName),o=!0):r.is(1024)?s.is(512)?(l==0&&this.errorRelated(2325,r.identifierNode.range,s.identifierNode.range,e,a.internalName,n.internalName),o=!0):s.isPublic?(l==0&&this.errorRelated(2444,r.identifierNode.range,s.identifierNode.range,e,n.internalName,a.internalName),o=!0):assert(s.is(1024)):r.isPublic&&(s.is(512)?(l==0&&this.errorRelated(2325,r.identifierNode.range,s.identifierNode.range,e,a.internalName,n.internalName),o=!0):s.is(1024)?(l==0&&this.errorRelated(2444,r.identifierNode.range,s.identifierNode.range,e,a.internalName,n.internalName),o=!0):assert(s.isPublic)),!o}finishResolveClass(e,r){let n=e.members;n||(e.members=n=new Map);let s=this.resolveClassPending,a=new Map,l=e.interfaces;if(l)for(let d=Set_values(l),g=0,E=d.length;g<E;++g){let x=d[g];assert(!s.has(x));let A=x.members;if(A)for(let S=Map_keys(A),I=0,k=S.length;I<k;++I){let F=unchecked(S[I]),B=assert(A.get(F)),V=e.getMember(F);V&&!this.checkOverrideVisibility(F,V,e,B,x,r)||(n.set(F,B),a.set(F,B))}}let o=0,p=e.base;if(p){let d=e.prototype.implicitlyExtendsObject;assert(!s.has(p));let g=p.members;if(g)for(let E=Map_keys(g),x=0,A=E.length;x<A;++x){let S=unchecked(E[x]),I=assert(g.get(S));if(d&&I.is(32))continue;let k=e.getMember(S);k&&!this.checkOverrideVisibility(S,k,e,I,p,r)||(n.set(S,I),I.is(128)?a.set(S,I):a.delete(S))}o=p.nextMemoryOffset}let c=e.prototype,_=c.instanceMembers;if(_)for(let d=Map_values(_),g=0,E=d.length;g<E;++g){let x=unchecked(d[g]),A=x.name;if(p){let S=p.getMember(A);S&&this.checkOverrideVisibility(A,x,e,S,p,r)}switch(x.kind){case 4:{let S=x.toBound(e);e.add(S.name,S);break}case 10:{let S=x.toBound(e);if(S.isField){let I=this.resolveProperty(S,r);if(I){let k=I.type;if(k==u.void)break;if(k.isExternalReference){this.error(100,assert(S.typeNode).range,"Reference typed fields");break}let F=!0;if(p){let V=p.getMember(S.name);if(V&&V.kind==10){let K=V,D=this.resolveProperty(K,r);if(D&&D.isField){if(D.type!=I.type){this.errorRelated(2416,I.identifierNode.range,D.identifierNode.range,I.name,e.internalName,p.internalName);break}I.memoryOffset=D.memoryOffset,F=!1}}}if(F){let V=k.byteSize;assert(gt(V));let K=V-1;o&K&&(o=(o|K)+1),I.memoryOffset=o,o+=V}S.instance=I,e.add(S.name,S);let B=assert(S.fieldDeclaration).type;B&&this.program.checkTypeSupported(k,B)}}else e.add(S.name,S);break}default:assert(!1)}x.is(128)||a.delete(A)}if(e.kind!=9){if(!e.is(128)&&a.size>0)for(let d=Map_keys(a),g=0,E=d.length;g<E;++g){let x=d[g],A=assert(a.get(x));this.errorRelated(2515,e.identifierNode.range,A.identifierNode.range,e.internalName,x,A.parent.internalName)}e.nextMemoryOffset=o;{let d=e.getMember(P.constructor);if(d&&d.parent==e){assert(d.kind==4);let g=this.resolveFunction(d,null,assert(e.contextualTypeArguments),r);g&&(e.constructorInstance=g)}}}let f=c.operatorOverloadPrototypes;for(let d=Map_keys(f),g=0,E=d.length;g<E;++g){let x=unchecked(d[g]),A=assert(f.get(x));if(assert(x!=0),A.is(65536))continue;let S;if(A.is(262144)){let k=A.toBound(e);S=this.resolveFunction(k,null,new Map,r)}else S=this.resolveFunction(A,null,new Map,r);if(!S)continue;let I=e.operatorOverloads;if(I||(e.operatorOverloads=I=new Map),S.is(262144))switch(x){case 27:case 28:case 29:case 30:{let k=S.signature.returnType;k.isAssignableTo(e.type)||r==0&&this.error(2322,A.functionTypeNode.returnType.range,k.toString(),e.type.toString())}}if(I.has(x))r==0&&this.error(213,S.declaration.range);else if(I.set(x,S),x==1||x==2){let k=e.indexSignature;k||(e.indexSignature=k=new Mn(e)),x==1&&k.setType(S.signature.returnType)}}assert(s.has(e)),s.delete(e);for(let d=Set_values(s),g=0,E=d.length;g<E;++g){let x=d[g],A=x.base==e,S=x.interfaces;if(S){let I=!1;for(let k=Set_values(S),F=0,B=k.length;F<B;++F){let V=k[F];V==e?A=!0:s.has(V)&&(I=!0)}if(I)continue}A&&this.finishResolveClass(x,r)}}resolveClassInclTypeArguments(e,r,n,s,a,l,o=0){let p=null;if(e.is(65536)){let c=null;for(let _=e;_&&!c;_=_.basePrototype)c=_.constructorPrototype;if(!r&&c&&n&&a.size==0?p=this.inferGenericTypeArguments(l,c,e.typeParameterNodes,n):p=this.resolveTypeArguments(assert(e.typeParameterNodes),r,n,s,a,l,o),!p)return null}else if(r&&r.length>0)return o==0&&this.error(2315,l.range,e.internalName),null;return this.resolveClass(e,p,a,o)}resolveProperty(e,r=0){let n=e.instance;if(n)return n;e.instance=n=new Nn(e,e.parent);let s=e.getterPrototype;if(s){let l=this.resolveFunction(s,null,new Map,r);l&&(n.getterInstance=l,n.setType(l.signature.returnType))}let a=e.setterPrototype;if(a){let l=this.resolveFunction(a,null,new Map,r);l&&(n.setterInstance=l,n.is(4194304)||(assert(l.signature.parameterTypes.length==1),n.setType(l.signature.parameterTypes[0])))}return n.checkVisibility(this),n}ensureOneTypeArgument(e,r=0){let n=e.typeArguments,s=0;return!n||(s=n.length)!=1?(r==0&&this.error(2558,e.range,"1",s.toString()),null):n[0]}};var zn=class{constructor(i,e){this.source=i;this.reportNode=e}},Un=class extends Oe{constructor(e=null,r=[]){super(e);this.backlog=new Array;this.seenlog=new Set;this.donelog=new Set;this.onComment=null;this.currentSource=null;this.dependees=new Map;this.currentModuleName=null;this.tryParseSignatureIsSignature=!1;this.parseParametersThis=null;this.sources=r}parseFile(e,r,n){let s=fr(r),a=gn(s);if(this.donelog.has(a))return;if(this.donelog.add(a),this.seenlog.add(a),e==null){let c=this.dependees,_=null;c.has(a)&&(_=assert(c.get(a))),this.error(6054,_?_.reportNode.range:null,r);return}let l=new fe(n?1:r.startsWith(nt)?r.indexOf(Ye,nt.length)<0?3:2:0,s,e);this.sources.push(l),this.currentSource=l,this.currentModuleName=null;let o=new bn(l,this.diagnostics);o.onComment=this.onComment;let p=l.statements;for(;!o.skip(121);){let c=this.parseTopLevelStatement(o,null);c?p.push(c):this.skipStatement(o)}}parseTopLevelStatement(e,r=null){let n=r?r.flags&32768:0,s=-1,a=null;for(;e.skip(114);){s<0&&(s=e.tokenPos);let x=this.parseDecorator(e);if(!x){this.skipStatement(e);continue}a?a.push(x):a=[x]}let l=0,o=0,p=0,c=0;e.skip(18)&&(s<0&&(s=e.tokenPos),n|=2,l=e.tokenPos,o=e.pos,e.skip(13)&&(p=e.tokenPos,c=e.pos));let _=0,f=0,d=r!=null&&r.is(32768);e.skip(12)?d?this.error(1038,e.range()):(s<0&&(s=e.tokenPos),_=s,f=e.pos,n|=32772):d&&(n|=32768);let g=null,E=e.peek();switch(s<0&&(s=e.nextTokenPos),E){case 8:{e.next(),n|=8,e.skip(17)?g=this.parseEnum(e,n,a,s):g=this.parseVariable(e,n,a,s),a=null;break}case 34:n|=16;case 57:{e.next(),g=this.parseVariable(e,n,a,s),a=null;break}case 17:{e.next(),g=this.parseEnum(e,n,a,s),a=null;break}case 24:{e.next(),g=this.parseFunction(e,n,a,s),a=null;break}case 0:{let x=e.mark();e.next();let A=e.tokenPos,S=e.pos;if(e.peekOnNewLine()){e.reset(x),g=this.parseStatement(e,!0);break}let I=e.peek();if(I!=7){I==31&&this.error(1242,e.range(A,S)),e.reset(x),g=this.parseStatement(e,!0);break}else e.discard(x);n|=128}case 7:case 31:{e.next(),g=this.parseClassOrInterface(e,n,a,s),a=null;break}case 36:{let x=e.mark();e.next(),e.peek(1)==115?(e.discard(x),g=this.parseNamespace(e,n,a,s),a=null):(e.reset(x),g=this.parseStatement(e,!0));break}case 28:{e.next(),n|=1,n&2?g=this.parseExportImport(e,s):g=this.parseImport(e);break}case 55:{let x=e.mark();e.next(),e.peek(1)==115?(e.discard(x),g=this.parseTypeDeclaration(e,n,a,s),a=null):(e.reset(x),g=this.parseStatement(e,!0));break}case 35:{let x=e.mark();e.next(),e.peek()==116&&!e.peekOnNewLine()?(e.discard(x),g=this.parseModuleDeclaration(e,n)):(e.reset(x),g=this.parseStatement(e,!0));break}default:{n&2?c&&e.skipIdentifier(1)?(f&&this.error(1120,e.range(_,f)),g=this.parseExportDefaultAlias(e,s,p,c),p=c=0):g=this.parseExport(e,s,(n&4)!=0):(o&&this.error(1042,e.range(l,o),"export"),f&&this.error(1042,e.range(_,f),"declare"),r?this.error(2695,e.range(s)):g=this.parseStatement(e,!0));break}}if(a)for(let x=0,A=a.length;x<A;++x)this.error(1206,a[x].range);if(c&&g!=null)switch(g.kind){case 52:case 55:case 51:case 57:case 59:return N.createExportDefaultStatement(g,e.range(s,e.pos));default:this.error(1042,e.range(p,c),"default")}return g}nextFile(){let e=this.backlog;return e.length?assert(e.shift()):null}getDependee(e){let r=this.dependees;return r.has(e)?assert(r.get(e)).source.internalPath:null}finish(){if(this.backlog.length)throw new Error("backlog is not empty");this.backlog=[],this.seenlog.clear(),this.donelog.clear(),this.dependees.clear()}parseTypeName(e){let r=N.createSimpleTypeName(e.readIdentifier(),e.range()),n=r;for(;e.skip(68);)if(e.skip(115)){let s=N.createSimpleTypeName(e.readIdentifier(),e.range());n.next=s,n=s}else return this.error(1003,e.range(e.pos)),null;return r}parseType(e,r=!0,n=!1){let s=e.next(),a=e.tokenPos,l;if(s==64){let o=e.skip(64),p=this.tryParseFunctionType(e);if(p){if(o&&!e.skip(65))return n||this.error(1005,e.range(),")"),null;l=p}else{if(o||this.tryParseSignatureIsSignature)return n||this.error(1012,e.range()),null;if(r){let c=this.parseType(e,!1,n);if(!c)return null;if(!e.skip(65))return n||this.error(1005,e.range(e.pos),")"),null;l=c,l.range.start=a,l.range.end=e.pos}else return n||this.error(1012,e.range()),null}}else if(s==58)l=N.createNamedType(N.createSimpleTypeName("void",e.range()),[],!1,e.range(a,e.pos));else if(s==51)l=N.createNamedType(N.createSimpleTypeName("this",e.range()),[],!1,e.range(a,e.pos));else if(s==53||s==20)l=N.createNamedType(N.createSimpleTypeName("bool",e.range()),[],!1,e.range(a,e.pos));else if(s==38)l=N.createNamedType(N.createSimpleTypeName("null",e.range()),[],!1,e.range(a,e.pos));else if(s==116)e.readString(),l=N.createNamedType(N.createSimpleTypeName("string",e.range()),[],!1,e.range(a,e.pos));else if(s==115){let o=this.parseTypeName(e);if(!o)return null;let p=null;if(e.skip(72)){do{let c=this.parseType(e,!0,n);if(!c)return null;p?p.push(c):p=[c]}while(e.skip(71));if(!e.skip(73))return n||this.error(1005,e.range(e.pos),">"),null}p||(p=[]),l=N.createNamedType(o,p,!1,e.range(a,e.pos))}else return n||this.error(1110,e.range()),null;for(;e.skip(93);){let o=this.parseType(e,!0,!1);if(!o)return null;let p=l.kind==1&&l.isNull,c=o.kind==1&&o.isNull;if(!p&&!c)return n||this.error(100,o.range,"union types"),null;c?(l.isNullable=!0,l.range.end=o.range.end):p?(o.range.start=l.range.start,o.isNullable=!0,l=o):l.range.end=o.range.end}for(;e.skip(66);){let o=e.tokenPos;if(!e.skip(67))return n||this.error(1005,e.range(),"]"),null;let p=e.range(o,e.pos),c=!1;if(e.skip(93))if(e.skip(38))c=!0;else return n||this.error(100,e.range(),"union types"),null;if(l=N.createNamedType(N.createSimpleTypeName("Array",p),[l],c,e.range(a,e.pos)),c)break}return l}tryParseFunctionType(e){let r=e.mark(),n=e.tokenPos,s=null,a=null,l=!1,o=null,p=0;if(e.skip(65))l=!0,e.discard(r),s=[];else{l=!1;do{let _=-1,f=0;if(e.skip(69)&&(_=e.tokenPos,l=!0,e.discard(r),f=2),e.skip(51))if(_<0&&(_=e.tokenPos),e.skip(100)){l=!0,e.discard(r);let d=this.parseType(e,!1);if(!d)return null;if(d.kind!=1)return this.error(1003,d.range),this.tryParseSignatureIsSignature=!0,null;a=d}else return e.reset(r),this.tryParseSignatureIsSignature=!1,null;else if(e.skipIdentifier()){_<0&&(_=e.tokenPos);let d=N.createIdentifierExpression(e.readIdentifier(),e.range(e.tokenPos,e.pos));if(e.skip(99)&&(l=!0,e.discard(r),f==2?this.error(1047,e.range()):f=1),e.skip(100)){l=!0,e.discard(r);let g=this.parseType(e);if(!g)return this.tryParseSignatureIsSignature=l,null;let E=N.createParameter(f,d,g,null,e.range(_,e.pos));s?s.push(E):s=[E]}else if(l||e.peek()==71&&(l=!0,e.discard(r)),l){let g=N.createParameter(f,d,N.createOmittedType(e.range(e.pos)),null,e.range(_,e.pos));s?s.push(g):s=[g],this.error(1110,g.type.range)}else s||(o=d,p=f)}else{if(l){if(e.peek()==65)break;this.error(1003,e.range())}else e.reset(r);return this.tryParseSignatureIsSignature=l,null}}while(e.skip(71));if(!e.skip(65))return l?this.error(1005,e.range(),")"):e.reset(r),this.tryParseSignatureIsSignature=l,null}let c;if(e.skip(80)){if(!l&&(l=!0,e.discard(r),o)){let _=N.createParameter(p,o,N.createOmittedType(o.range.atEnd),null,o.range);s?s.push(_):s=[_],this.error(1110,_.type.range)}if(c=this.parseType(e),!c)return this.tryParseSignatureIsSignature=l,null}else return l?this.error(1005,e.range(),"=>"):e.reset(r),this.tryParseSignatureIsSignature=l,null;return this.tryParseSignatureIsSignature=!0,s||(s=[]),N.createFunctionType(s,c,a,!1,e.range(n,e.pos))}parseDecorator(e){let r=e.tokenPos;if(e.skipIdentifier()){let n=e.readIdentifier(),s=N.createIdentifierExpression(n,e.range(r,e.pos));for(;e.skip(68);)if(e.skipIdentifier(1))n=e.readIdentifier(),s=N.createPropertyAccessExpression(s,N.createIdentifierExpression(n,e.range()),e.range(r,e.pos));else return this.error(1003,e.range()),null;let a;if(e.skip(64)){if(a=this.parseArguments(e),a)return N.createDecorator(s,a,e.range(r,e.pos))}else return N.createDecorator(s,null,e.range(r,e.pos))}else this.error(1003,e.range());return null}parseVariable(e,r,n,s,a=!1){let l=new Array;do{let p=this.parseVariableDeclaration(e,r,n,a);if(!p)return null;p.overriddenModuleName=this.currentModuleName,l.push(p)}while(e.skip(71));let o=N.createVariableStatement(n,l,e.range(s,e.pos));return!e.skip(70)&&!a&&this.checkASI(e),o}parseVariableDeclaration(e,r,n,s=!1){if(!e.skipIdentifier())return this.error(1003,e.range()),null;let a=N.createIdentifierExpression(e.readIdentifier(),e.range());fp(a.text)&&this.error(1003,a.range);let l=r;e.skip(95)&&(l|=16384);let o=null;e.skip(100)&&(o=this.parseType(e,!0));let p=null;if(e.skip(101)){if(l&32768&&this.error(1039,e.range()),p=this.parseExpression(e,2),!p)return null;l&16384&&this.error(1263,p.range)}else s||(l&8?l&32768||this.error(1155,a.range):o||this.error(1110,e.range(e.pos)));let c=ae.join(a.range,e.range());return(l&16384)!=0&&(l&32768)!=0&&this.error(1255,c),N.createVariableDeclaration(a,n,l,o,p,c)}parseEnum(e,r,n,s){if(e.next()!=115)return this.error(1003,e.range()),null;let a=N.createIdentifierExpression(e.readIdentifier(),e.range());if(e.next()!=62)return this.error(1005,e.range(),"{"),null;let l=new Array;for(;!e.skip(63);){let p=this.parseEnumValue(e,0);if(!p)return null;if(l.push(p),!e.skip(71)){if(e.skip(63))break;return this.error(1005,e.range(),"}"),null}}let o=N.createEnumDeclaration(a,n,r,l,e.range(s,e.pos));return o.overriddenModuleName=this.currentModuleName,e.skip(70),o}parseEnumValue(e,r){if(!e.skipIdentifier())return this.error(1003,e.range()),null;let n=N.createIdentifierExpression(e.readIdentifier(),e.range()),s=null;return e.skip(101)&&(s=this.parseExpression(e,2),!s)?null:N.createEnumValueDeclaration(n,r,s,ae.join(n.range,e.range()))}parseReturn(e){let r=e.tokenPos,n=null,s=e.peek();if(s!=70&&s!=63&&!e.peekOnNewLine()&&!(n=this.parseExpression(e)))return null;let a=N.createReturnStatement(n,e.range(r,e.pos));return e.skip(70)||this.checkASI(e),a}parseTypeParameters(e){let r=new Array,n=!1,s=e.tokenPos;for(;!e.skip(73);){let a=this.parseTypeParameter(e);if(!a)return null;if(a.defaultType?n=!0:n&&(this.error(2706,a.range),a.defaultType=null),r.push(a),!e.skip(71)){if(e.skip(73))break;return this.error(1005,e.range(),">"),null}}return r.length||this.error(1098,e.range(s,e.pos)),r}parseTypeParameter(e){if(e.next()==115){let r=N.createIdentifierExpression(e.readIdentifier(),e.range()),n=null;if(e.skip(19)){let a=this.parseType(e);if(!a)return null;if(a.kind!=1)return this.error(1003,a.range),null;n=a}let s=null;if(e.skip(101)){let a=this.parseType(e);if(!a)return null;if(a.kind!=1)return this.error(1003,a.range),null;s=a}return N.createTypeParameter(r,n,s,ae.join(r.range,e.range()))}else this.error(1003,e.range());return null}parseParameters(e,r=!1){let n=new Array,s=null,a=!1,l=!1,o=null;if(this.parseParametersThis=null,e.skip(51)){if(e.skip(100)){if(o=this.parseType(e),!o)return null;o.kind==1?this.parseParametersThis=o:this.error(1003,o.range)}else return this.error(1005,e.range(),":"),null;if(!e.skip(71))return e.skip(65)?n:(this.error(1005,e.range(),")"),null)}for(;!e.skip(65);){let p=this.parseParameter(e,r);if(!p)return null;switch(s&&!l&&(this.error(1014,s.name.range),l=!0),p.parameterKind){default:{a&&this.error(1016,p.name.range);break}case 1:{a=!0;break}case 2:{s=p;break}}if(n.push(p),!e.skip(71)){if(e.skip(65))break;return this.error(1005,e.range(),")"),null}}return n}parseParameter(e,r=!1){let n=!1,s=!1,a=null,l=0;if(r&&(e.skip(44)?(a=e.range(),l|=256):e.skip(43)?(a=e.range(),l|=1024):e.skip(42)&&(a=e.range(),l|=512),e.peek()==45)){let o=e.mark();e.next(),e.peek()!=100?(e.discard(o),a||(a=e.range()),l|=64):e.reset(o)}if(e.skip(69)&&(l?this.error(1317,e.range()):a=e.range(),n=!0),e.skipIdentifier()){n||(a=e.range());let o=N.createIdentifierExpression(e.readIdentifier(),e.range()),p=null;if((s=e.skip(99))&&n&&this.error(1047,o.range),e.skip(100)){if(p=this.parseType(e),!p)return null}else p=N.createOmittedType(e.range(e.pos));let c=null;if(e.skip(101)&&(n&&this.error(1048,o.range),s?this.error(1015,o.range):s=!0,c=this.parseExpression(e,2),!c))return null;let _=N.createParameter(n?2:s?1:0,o,p,c,ae.join(assert(a),e.range()));return _.flags|=l,_}else this.error(1003,e.range());return null}parseFunction(e,r,n,s){if(!e.skipIdentifier())return this.error(1003,e.range(e.pos)),null;let a=N.createIdentifierExpression(e.readIdentifier(),e.range()),l=-1,o=null;if(e.skip(72)){if(l=e.tokenPos,o=this.parseTypeParameters(e),!o)return null;r|=65536}if(!e.skip(64))return this.error(1005,e.range(e.pos),"("),null;l<0&&(l=e.tokenPos);let p=this.parseParameters(e);if(!p)return null;let c=this.parseParametersThis,_=(r&4096)!=0;_&&(p.length!=1&&this.error(1049,a.range),p.length>0&&p[0].initializer&&this.error(1052,a.range)),r&2048&&p.length&&this.error(1054,a.range);let f=null;if(e.skip(100)&&(f=this.parseType(e,!0,_),!f))return null;f||(f=N.createOmittedType(e.range(e.pos)),_||this.error(1110,f.range));let d=N.createFunctionType(p,f,c,!1,e.range(l,e.pos)),g=null;if(e.skip(62)){if(r&32768&&this.error(1183,e.range()),g=this.parseBlockStatement(e,!1),!g)return null}else r&32768||this.error(2391,e.range(e.pos));let E=N.createFunctionDeclaration(a,n,r,o,d,g,0,e.range(s,e.pos));return E.overriddenModuleName=this.currentModuleName,e.skip(70),E}parseFunctionExpression(e){let r=e.tokenPos,n,s=0;if(e.token==24){if(e.skipIdentifier()?n=N.createIdentifierExpression(e.readIdentifier(),e.range()):n=N.createEmptyIdentifierExpression(e.range(e.pos)),!e.skip(64))return this.error(1005,e.range(e.pos),"("),null}else s=1,assert(e.token==64),n=N.createEmptyIdentifierExpression(e.range(e.tokenPos));let a=e.pos,l=this.parseParameters(e);return l?this.parseFunctionExpressionCommon(e,n,l,this.parseParametersThis,s,r,a):null}parseFunctionExpressionCommon(e,r,n,s,a,l=-1,o=-1){l<0&&(l=r.range.start),o<0&&(o=l);let p=null;if(a!=2&&e.skip(100)){if(p=this.parseType(e),!p)return null}else p=N.createOmittedType(e.range(e.pos));if(a&&!e.skip(80))return this.error(1005,e.range(e.pos),"=>"),null;let c=N.createFunctionType(n,p,s,!1,e.range(o,e.pos)),_=null;if(a)if(e.skip(62))_=this.parseBlockStatement(e,!1);else{let d=this.parseExpression(e,2);d&&(_=N.createExpressionStatement(d))}else{if(!e.skip(62))return this.error(1005,e.range(e.pos),"{"),null;_=this.parseBlockStatement(e,!1)}if(!_)return null;let f=N.createFunctionDeclaration(r,null,0,null,c,_,a,e.range(l,e.pos));return N.createFunctionExpression(f)}parseClassOrInterface(e,r,n,s){let a=e.token==31;if(!e.skipIdentifier())return this.error(1003,e.range()),null;let l=N.createIdentifierExpression(e.readIdentifier(),e.range()),o=null;if(e.skip(72)){if(o=this.parseTypeParameters(e),!o)return null;r|=65536}let p=null;if(e.skip(19)){let d=this.parseType(e);if(!d)return null;if(d.kind!=1)return this.error(1003,d.range),null;p=d}let c=null;if(e.skip(27)){a&&this.error(1176,e.range());do{let d=this.parseType(e);if(!d)return null;if(d.kind!=1)return this.error(1003,d.range),null;a||(c||(c=[]),c.push(d))}while(e.skip(71))}if(!e.skip(62))return this.error(1005,e.range(),"{"),null;let _=new Array,f;if(a?(assert(!c),f=N.createInterfaceDeclaration(l,n,r,o,p,null,_,e.range(s,e.pos))):f=N.createClassDeclaration(l,n,r,o,p,c,_,e.range(s,e.pos)),!e.skip(63))do{let d=this.parseClassMember(e,f);if(d)d.kind==65?f.indexSignature=d:(assert(d instanceof We),_.push(d));else if(this.skipStatement(e),e.skip(121))return this.error(1005,e.range(),"}"),null}while(!e.skip(63));return f.range.end=e.pos,f.overriddenModuleName=this.currentModuleName,f}parseClassExpression(e){let r=e.tokenPos,n;if(e.skipIdentifier()?n=N.createIdentifierExpression(e.readIdentifier(),e.range()):n=N.createEmptyIdentifierExpression(e.range(e.pos)),!e.skip(62))return this.error(1005,e.range(e.pos),"{"),null;let s=new Array,a=N.createClassDeclaration(n,null,0,null,null,null,s,e.range(r,e.pos));if(!e.skip(63))do{let l=this.parseClassMember(e,a);if(l)l.kind==65?a.indexSignature=l:(assert(a instanceof We),s.push(l));else if(this.skipStatement(e),e.skip(121))return this.error(1005,e.range(),"}"),null}while(!e.skip(63));return a.range.end=e.pos,N.createClassExpression(a)}parseClassMember(e,r){let n=r.kind==57,s=0,a=null;if(e.skip(114)){s=e.tokenPos;do{let ie=this.parseDecorator(e);if(!ie)break;a||(a=new Array),a.push(ie)}while(e.skip(114));n&&a&&this.error(1206,ae.join(a[0].range,a[a.length-1].range))}let l=r.flags&32768;n&&(l|=268435456);let o=0,p=0,c=r.is(32768);e.skip(12)?(n?this.error(1042,e.range(),"declare"):c?this.error(1038,e.range()):(l|=32772,o=e.tokenPos,p=e.pos),s||(s=e.tokenPos)):c&&(l|=32768);let _=0,f=0;e.skip(44)?(n?this.error(1042,e.range(),"public"):(l|=256,_=e.tokenPos,f=e.pos),s||(s=e.tokenPos)):e.skip(42)?(n?this.error(1042,e.range(),"private"):(l|=512,_=e.tokenPos,f=e.pos),s||(s=e.tokenPos)):e.skip(43)&&(n?this.error(1042,e.range(),"protected"):(l|=1024,_=e.tokenPos,f=e.pos),s||(s=e.tokenPos));let d=0,g=0,E=0,x=0;e.skip(48)?(n?this.error(1042,e.range(),"static"):(l|=32,d=e.tokenPos,g=e.pos),s||(s=e.tokenPos)):(l|=262144,e.skip(0)&&(n||!r.is(128)?this.error(1042,e.range(),"abstract"):(l|=128,E=e.tokenPos,x=e.pos),s||(s=e.tokenPos)),r.flags&65536&&(l|=131072));let A=0,S=0;e.skip(40)&&(n||r.extendsType==null?this.error(1042,e.range(),"override"):(l|=8192,A=e.tokenPos,S=e.pos),s||(s=e.tokenPos));let I=0,k=0;if(e.peek()==45){let ie=e.mark();e.next(),e.peek()!=100?(e.discard(ie),l|=64,I=e.tokenPos,k=e.pos,s||(s=I)):e.reset(ie)}let F=e.mark(),B=!1,V=!1,K=0,D=0,q=!1,j=0,te=0;n||(e.skip(25)?e.peek(1)==115&&!e.peekOnNewLine()?(l|=2048,V=!0,K=e.tokenPos,D=e.pos,s||(s=K),l&64&&this.error(1042,e.range(I,k),"readonly")):e.reset(F):e.skip(47)?e.peek(1)==115&&!e.peekOnNewLine()?(l|=4096,q=!0,j=e.tokenPos,te=e.pos,s||(s=j),l&64&&this.error(1042,e.range(I,k),"readonly")):e.reset(F):e.skip(10)&&(l|=524288,B=!0,s||(s=e.tokenPos),l&32&&this.error(1042,e.range(d,g),"static"),l&128&&this.error(1042,e.range(E,x),"abstract"),l&64&&this.error(1042,e.range(I,k),"readonly")));let Y=V||q,re;if(B)re=N.createConstructorExpression(e.range());else{if(!Y&&e.skip(66)){s||(s=e.tokenPos),l&256?this.error(1042,e.range(_,f),"public"):l&1024?this.error(1042,e.range(_,f),"protected"):l&512&&this.error(1042,e.range(_,f),"private"),l&32&&this.error(1042,e.range(d,g),"static"),l&8192&&this.error(1042,e.range(A,S),"override"),l&128&&this.error(1042,e.range(E,x),"abstract");let ie=this.parseIndexSignature(e,l,a);return ie?(e.skip(70),ie):(l&64&&this.error(1042,e.range(I,k),"readonly"),null)}if(!e.skipIdentifier(2))return this.error(1003,e.range()),null;s||(s=e.tokenPos),re=N.createIdentifierExpression(e.readIdentifier(),e.range())}let W=null;if(e.skip(72)){let ie=e.tokenPos;if(W=this.parseTypeParameters(e),!W)return null;B?this.error(1092,e.range(ie,e.pos)):Y?this.error(1094,e.range(ie,e.pos)):l|=65536}if(e.skip(64)){l&4&&this.error(1031,e.range(o,p),"declare");let ie=e.tokenPos,Q=this.parseParameters(e,B);if(!Q)return null;let ve=this.parseParametersThis;if(B)for(let Or=0,zl=Q.length;Or<zl;++Or){let Bt=Q[Or];if(Bt.isAny(1856)){let Mi=N.createFieldDeclaration(Bt.name,null,Bt.flags|262144,Bt.type,null,Bt.range);Mi.parameterIndex=Or,Bt.implicitFieldDeclaration=Mi,r.members.push(Mi)}}else V?Q.length&&this.error(1054,re.range):q?(Q.length!=1&&this.error(1049,re.range),Q.length>0&&Q[0].initializer&&this.error(1052,re.range)):re.text=="constructor"&&this.error(230,re.range,"constructor");let we=null;if(e.skip(100)){if(re.kind==26?this.error(1093,e.range()):q&&this.error(1095,e.range()),we=this.parseType(e,q||re.kind==26),!we)return null}else we=N.createOmittedType(e.range(e.pos)),!q&&re.kind!=26&&this.error(1110,we.range);let Li=N.createFunctionType(Q,we,ve,!1,e.range(ie,e.pos)),Ni=null;if(e.skip(62)){if(l&32768?this.error(1183,e.range()):l&128?this.error(1245,e.range(),re.text):n&&this.error(1005,e.range(),";"),Ni=this.parseBlockStatement(e,!1),!Ni)return null}else!n&&!(l&32896)&&this.error(2391,e.range());let Gl=N.createMethodDeclaration(re,a,l,W,Li,Ni,e.range(s,e.pos));return n&&e.skip(71)||e.skip(70),Gl}else if(B)this.error(2390,re.range);else if(Y)this.error(2391,re.range);else{l&4&&this.error(100,e.range(o,p),"Ambient fields"),l&128&&this.error(1042,e.range(E,x),"abstract"),l&2048&&this.error(1042,e.range(K,D),"get"),l&4096&&this.error(1042,e.range(j,te),"set");let ie=null;if(e.skip(99)&&this.error(219,e.range(s,e.pos)),e.skip(95)&&(l|=16384),e.skip(100)){if(ie=this.parseType(e),!ie)return null}else this.error(1110,e.range());let Q=null;if(e.skip(101)){if(l&32768&&this.error(1039,e.range()),Q=this.parseExpression(e),!Q)return null;l&16384&&this.error(1263,re.range)}let ve=e.range(s,e.pos);(l&16384)!=0&&(n||(l&32768)!=0)&&this.error(1255,ve);let we=N.createFieldDeclaration(re,a,l,ie,Q,ve);return n&&e.skip(71)||e.skip(70),we}return null}parseIndexSignature(e,r,n){n&&n.length>0&&this.error(1206,ae.join(n[0].range,n[n.length-1].range));let s=e.tokenPos;if(e.skipIdentifier())if(e.readIdentifier()=="key")if(e.skip(100)){let l=this.parseType(e);if(!l)return null;if(l.kind!=1)return this.error(1110,e.range()),null;if(e.skip(67))if(e.skip(100)){let o=this.parseType(e);return o?o.kind!=1?(this.error(1003,o.range),null):N.createIndexSignature(l,o,r,e.range(s,e.pos)):null}else this.error(1005,e.range(),":");else this.error(1005,e.range(),"]")}else this.error(1005,e.range(),":");else this.error(1005,e.range(),"key");else this.error(1003,e.range());return null}parseNamespace(e,r,n,s){if(e.skipIdentifier()){let a=N.createIdentifierExpression(e.readIdentifier(),e.range());if(e.skip(62)){let l=new Array,o=N.createNamespaceDeclaration(a,n,r,l,e.range(s,e.pos));for(;!e.skip(63);){let p=this.parseTopLevelStatement(e,o);if(p){if(p.kind==35)return this.error(1319,p.range),null;l.push(p)}else if(this.skipStatement(e),e.skip(121))return this.error(1005,e.range(),"}"),null}return o.range.end=e.pos,o.overriddenModuleName=this.currentModuleName,e.skip(70),o}else this.error(1005,e.range(),"{")}else this.error(1003,e.range());return null}parseExport(e,r,n){let s=null,a=assert(this.currentSource);if(e.skip(62)){let l=new Array;for(;!e.skip(63);){let p=this.parseExportMember(e);if(!p)return null;if(l.push(p),!e.skip(71)){if(e.skip(63))break;return this.error(1005,e.range(),"}"),null}}if(e.skip(23))if(e.skip(116))s=N.createStringLiteralExpression(e.readString(),e.range());else return this.error(1141,e.range()),null;let o=N.createExportStatement(l,s,n,e.range(r,e.pos));if(s){let p=assert(o.internalPath);this.seenlog.has(p)||(this.dependees.set(p,new zn(a,s)),this.backlog.push(p),this.seenlog.add(p))}return e.skip(70),o}else if(e.skip(84))if(e.skip(23))if(e.skip(116)){s=N.createStringLiteralExpression(e.readString(),e.range());let l=N.createExportStatement(null,s,n,e.range(r,e.pos)),o=assert(l.internalPath),p=e.source,c=p.exportPaths;return c?c.includes(o)||c.push(o):p.exportPaths=[o],this.seenlog.has(o)||(this.dependees.set(o,new zn(a,s)),this.backlog.push(o)),e.skip(70),l}else this.error(1141,e.range());else this.error(1005,e.range(),"from");else this.error(1005,e.range(),"{");return null}parseExportMember(e){if(e.skipIdentifier(2)){let r=N.createIdentifierExpression(e.readIdentifier(),e.range()),n=null;if(e.skip(1))if(e.skipIdentifier(2))n=N.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;return n?N.createExportMember(r,n,ae.join(r.range,n.range)):N.createExportMember(r,null,r.range)}else this.error(1003,e.range());return null}parseExportDefaultAlias(e,r,n,s){let a=e.readIdentifier(),l=e.range(),o=N.createExportStatement([N.createExportMember(N.createIdentifierExpression(a,l),N.createIdentifierExpression("default",e.range(n,s)),l)],null,!1,e.range(r,e.pos));return e.skip(70),o}parseImport(e){let r=e.tokenPos,n=null,s=null,a=!1;if(e.skip(62))for(n=new Array;!e.skip(63);){let l=this.parseImportDeclaration(e);if(!l)return null;if(n.push(l),!e.skip(71)){if(e.skip(63))break;return this.error(1005,e.range(),"}"),null}}else if(e.skip(84))if(e.skip(1))if(e.skipIdentifier())s=N.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;else return this.error(1005,e.range(),"as"),null;else if(e.skip(115,1)){let l=e.readIdentifier(),o=e.range();if(n=[N.createImportDeclaration(N.createIdentifierExpression("default",o),N.createIdentifierExpression(l,o),o)],e.skip(71))return this.error(100,e.range(),"Mixed default and named imports"),null}else a=!0;if(a||e.skip(23))if(e.skip(116)){let l=N.createStringLiteralExpression(e.readString(),e.range()),o;s?(assert(!n),o=N.createWildcardImportStatement(s,l,e.range(r,e.pos))):o=N.createImportStatement(n,l,e.range(r,e.pos));let p=o.internalPath;return this.seenlog.has(p)||(this.dependees.set(p,new zn(assert(this.currentSource),l)),this.backlog.push(p)),e.skip(70),o}else this.error(1141,e.range());else this.error(1005,e.range(),"from");return null}parseImportDeclaration(e){if(e.skipIdentifier(2)){let r=N.createIdentifierExpression(e.readIdentifier(),e.range()),n=null;if(e.skip(1))if(e.skipIdentifier())n=N.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;return n?N.createImportDeclaration(r,n,ae.join(r.range,n.range)):N.createImportDeclaration(r,null,r.range)}else this.error(1003,e.range());return null}parseExportImport(e,r){if(e.skipIdentifier()){let n=N.createIdentifierExpression(e.readIdentifier(),e.range());if(e.skip(101))if(e.skipIdentifier()){let s=N.createIdentifierExpression(e.readIdentifier(),e.range()),a=N.createExportImportStatement(s,n,e.range(r,e.pos));return e.skip(70),a}else this.error(1003,e.range());else this.error(1005,e.range(),"=")}else this.error(1003,e.range());return null}parseStatement(e,r=!1){let n=e.mark(),s=e.next(),a=null;switch(s){case 4:{a=this.parseBreak(e);break}case 8:{a=this.parseVariable(e,8,null,e.tokenPos);break}case 9:{a=this.parseContinue(e);break}case 15:{a=this.parseDoStatement(e);break}case 22:{a=this.parseForStatement(e);break}case 26:{a=this.parseIfStatement(e);break}case 34:{a=this.parseVariable(e,16,null,e.tokenPos);break}case 57:{a=this.parseVariable(e,0,null,e.tokenPos);break}case 62:{a=this.parseBlockStatement(e,r);break}case 46:{r&&this.error(1108,e.range()),a=this.parseReturn(e);break}case 70:return N.createEmptyStatement(e.range(e.tokenPos));case 50:{a=this.parseSwitchStatement(e);break}case 52:{a=this.parseThrowStatement(e);break}case 54:{a=this.parseTryStatement(e);break}case 58:{a=this.parseVoidStatement(e);break}case 59:{a=this.parseWhileStatement(e);break}case 55:if(e.peek(1)==115){a=this.parseTypeDeclaration(e,0,null,e.tokenPos);break}default:{e.reset(n),a=this.parseExpressionStatement(e);break}}return a?e.discard(n):(e.reset(n),this.skipStatement(e)),a}parseBlockStatement(e,r){let n=e.tokenPos,s=new Array;for(;!e.skip(63);){let l=e.mark(),o=this.parseStatement(e,r);if(o)e.discard(l),s.push(o);else{if(e.token==121)return null;e.reset(l),this.skipStatement(e)}}let a=N.createBlockStatement(s,e.range(n,e.pos));return r&&e.skip(70),a}parseBreak(e){let r=null;e.peek()==115&&!e.peekOnNewLine()&&(e.next(1),r=N.createIdentifierExpression(e.readIdentifier(),e.range()));let n=N.createBreakStatement(r,e.range());return e.skip(70),n}parseContinue(e){let r=null;e.peek()==115&&!e.peekOnNewLine()&&(e.next(1),r=N.createIdentifierExpression(e.readIdentifier(),e.range()));let n=N.createContinueStatement(r,e.range());return e.skip(70),n}parseDoStatement(e){let r=e.tokenPos,n=this.parseStatement(e);if(!n)return null;if(e.skip(59))if(e.skip(64)){let s=this.parseExpression(e);if(!s)return null;if(e.skip(65)){let a=N.createDoStatement(n,s,e.range(r,e.pos));return e.skip(70),a}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");else this.error(1005,e.range(),"while");return null}parseExpressionStatement(e){let r=this.parseExpression(e);if(!r)return null;let n=N.createExpressionStatement(r);return e.skip(70),n}parseForStatement(e){let r=e.tokenPos;if(e.skip(64)){let n=null;if(e.skip(8))n=this.parseVariable(e,8,null,e.tokenPos,!0);else if(e.skip(34))n=this.parseVariable(e,16,null,e.tokenPos,!0);else if(e.skip(57))n=this.parseVariable(e,0,null,e.tokenPos,!0);else if(!e.skip(70)&&(n=this.parseExpressionStatement(e),!n))return null;if(n){if(e.skip(39)){if(n.kind==38)return n.expression.kind!=6?(this.error(1003,n.range),null):this.parseForOfStatement(e,r,n);if(n.kind==47){let s=n.declarations;for(let a=0,l=s.length;a<l;++a){let p=s[a].initializer;p&&this.error(1190,p.range)}return this.parseForOfStatement(e,r,n)}return this.error(1003,n.range),null}if(n.kind==47){let s=n.declarations;for(let a=0,l=s.length;a<l;++a){let o=s[a];o.initializer||(o.flags&8?this.error(1155,o.name.range):o.type||this.error(1110,o.name.range.atEnd))}}}if(e.token==70){let s=null;if(!e.skip(70)&&(s=this.parseExpressionStatement(e),!s))return null;if(e.token==70){let a=null;if(!e.skip(65)){if(a=this.parseExpression(e),!a)return null;if(!e.skip(65))return this.error(1005,e.range(),")"),null}let l=this.parseStatement(e);return l?N.createForStatement(n,s?s.expression:null,a,l,e.range(r,e.pos)):null}else this.error(1005,e.range(),";")}else this.error(1005,e.range(),";")}else this.error(1005,e.range(),"(");return null}parseForOfStatement(e,r,n){let s=this.parseExpression(e);if(!s)return null;if(!e.skip(65))return this.error(1005,e.range(),")"),null;let a=this.parseStatement(e);return a?N.createForOfStatement(n,s,a,e.range(r,e.pos)):null}parseIfStatement(e){let r=e.tokenPos;if(e.skip(64)){let n=this.parseExpression(e);if(!n)return null;if(e.skip(65)){let s=this.parseStatement(e);if(!s)return null;let a=null;return e.skip(16)&&(a=this.parseStatement(e),!a)?null:N.createIfStatement(n,s,a,e.range(r,e.pos))}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseSwitchStatement(e){let r=e.tokenPos;if(e.skip(64)){let n=this.parseExpression(e);if(!n)return null;if(e.skip(65))if(e.skip(62)){let s=new Array;for(;!e.skip(63);){let l=this.parseSwitchCase(e);if(!l)return null;s.push(l)}let a=N.createSwitchStatement(n,s,e.range(r,e.pos));return e.skip(70),a}else this.error(1005,e.range(),"{");else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseSwitchCase(e){let r=e.tokenPos,n,s;if(e.skip(5)){let a=this.parseExpression(e);if(!a)return null;if(e.skip(100)){for(n=new Array;e.peek()!=5&&e.nextToken!=13&&e.nextToken!=63;){if(s=this.parseStatement(e),!s)return null;n.push(s)}return N.createSwitchCase(a,n,e.range(r,e.pos))}else this.error(1005,e.range(),":")}else if(e.skip(13))if(e.skip(100)){for(n=new Array;e.peek()!=5&&e.nextToken!=13&&e.nextToken!=63;){if(s=this.parseStatement(e),!s)return null;n.push(s)}return N.createSwitchCase(null,n,e.range(r,e.pos))}else this.error(1005,e.range(),":");else this.error(1130,e.range());return null}parseThrowStatement(e){let r=e.tokenPos,n=this.parseExpression(e);if(!n)return null;let s=N.createThrowStatement(n,e.range(r,e.pos));return e.skip(70)||this.checkASI(e),s}parseTryStatement(e){let r=e.tokenPos,n;if(e.skip(62)){let s=new Array;for(;!e.skip(63);){if(n=this.parseStatement(e),!n)return null;s.push(n)}let a=null,l=null,o=null;if(e.skip(6)){if(!e.skip(64))return this.error(1005,e.range(),"("),null;if(!e.skipIdentifier())return this.error(1003,e.range()),null;if(a=N.createIdentifierExpression(e.readIdentifier(),e.range()),!e.skip(65))return this.error(1005,e.range(),")"),null;if(!e.skip(62))return this.error(1005,e.range(),"{"),null;for(l=[];!e.skip(63);){if(n=this.parseStatement(e),!n)return null;l.push(n)}}if(e.skip(21)){if(!e.skip(62))return this.error(1005,e.range(),"{"),null;for(o=[];!e.skip(63);){if(n=this.parseStatement(e),!n)return null;o.push(n)}}if(!(l||o))return this.error(1005,e.range(),"catch"),null;let p=N.createTryStatement(s,a,l,o,e.range(r,e.pos));return e.skip(70),p}else this.error(1005,e.range(),"{");return null}parseTypeDeclaration(e,r,n,s){if(e.skipIdentifier()){let a=N.createIdentifierExpression(e.readIdentifier(),e.range()),l=null;if(e.skip(72)){if(l=this.parseTypeParameters(e),!l)return null;r|=65536}if(e.skip(101)){e.skip(93);let o=this.parseType(e);if(!o)return null;if(Il(a.text,o))return this.error(2456,a.range,a.text),null;let p=N.createTypeDeclaration(a,n,r,l,o,e.range(s,e.pos));return e.skip(70),p.overriddenModuleName=this.currentModuleName,p}else this.error(1005,e.range(),"=")}else this.error(1003,e.range());return null}parseModuleDeclaration(e,r){let n=e.tokenPos;assert(e.next()==116);let s=e.readString(),a=N.createModuleDeclaration(s,r,e.range(n,e.pos));return this.currentModuleName=s,e.skip(70),a}parseVoidStatement(e){let r=e.tokenPos,n=this.parseExpression(e,21);if(!n)return null;let s=N.createVoidStatement(n,e.range(r,e.pos));return e.skip(70),s}parseWhileStatement(e){let r=e.tokenPos;if(e.skip(64)){let n=this.parseExpression(e);if(!n)return null;if(e.skip(65)){let s=this.parseStatement(e);if(!s)return null;let a=N.createWhileStatement(n,s,e.range(r,e.pos));return e.skip(70),a}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseExpressionStart(e){let r=e.next(1),n=e.tokenPos;switch(r){case 69:case 61:case 95:case 96:case 81:case 82:case 56:case 58:case 14:{let s=this.parseExpression(e,17);return s?N.createUnaryPrefixExpression(r,s,e.range(n,e.pos)):null}case 87:case 88:{let s=this.parseExpression(e,17);if(!s)return null;switch(s.kind){case 6:case 12:case 21:break;default:this.error(2357,s.range)}return N.createUnaryPrefixExpression(r,s,e.range(n,e.pos))}case 37:{if(!e.skipIdentifier())return this.error(1003,e.range()),null;let s=this.parseTypeName(e);if(!s)return null;let a=null,l=null;if(e.skip(64)||(a=this.tryParseTypeArgumentsBeforeArguments(e))){if(l=this.parseArguments(e),!l)return null}else l=[];return N.createNewExpression(s,a,l,e.range(n,e.pos))}case 38:return N.createNullExpression(e.range());case 53:return N.createTrueExpression(e.range());case 20:return N.createFalseExpression(e.range());case 51:return N.createThisExpression(e.range());case 10:return N.createConstructorExpression(e.range());case 64:{if(e.skip(65))return this.parseFunctionExpressionCommon(e,N.createEmptyIdentifierExpression(e.range(n)),[],null,1);let s=e.mark(),a=!0;do switch(e.next(1)){case 69:return e.reset(s),this.parseFunctionExpression(e);case 115:{switch(e.readIdentifier(),e.next()){case 65:{if(e.skip(100)&&this.parseType(e,!0,!0)==null){a=!1;break}if(!e.skip(80)){a=!1;break}}case 100:return e.reset(s),this.parseFunctionExpression(e);case 99:{if(e.skip(100)||e.skip(71)||e.skip(65))return e.reset(s),this.parseFunctionExpression(e);a=!1;break}case 71:break;default:{a=!1;break}}break}default:{a=!1;break}}while(a);e.reset(s);let l=this.parseExpression(e);return l?e.skip(65)?(l=N.createParenthesizedExpression(l,e.range(n,e.pos)),this.maybeParseCallExpression(e,l)):(this.error(1005,e.range(),")"),null):null}case 66:{let s=new Array;for(;!e.skip(67);){let a;if(e.peek()==71)a=N.createOmittedExpression(e.range(e.pos));else if(a=this.parseExpression(e,2),!a)return null;if(s.push(a),!e.skip(71)){if(e.skip(67))break;return this.error(1005,e.range(),"]"),null}}return N.createArrayLiteralExpression(s,e.range(n,e.pos))}case 62:{let s=e.tokenPos,a=new Array,l=new Array,o;for(;!e.skip(63);){if(e.skipIdentifier())o=N.createIdentifierExpression(e.readIdentifier(),e.range());else{if(!e.skip(116))return this.error(1003,e.range()),null;o=N.createIdentifierExpression(e.readString(),e.range()),o.isQuoted=!0}if(a.push(o),e.skip(100)){let p=this.parseExpression(e,2);if(!p)return null;l.push(p)}else if(!o.isQuoted)l.push(o);else return this.error(1005,e.range(),":"),null;if(!e.skip(71)){if(e.skip(63))break;return this.error(1005,e.range(),"}"),null}}return N.createObjectLiteralExpression(a,l,e.range(s,e.pos))}case 72:{let s=this.parseType(e);if(!s)return null;if(!e.skip(73))return this.error(1005,e.range(),">"),null;let a=this.parseExpression(e,19);return a?N.createAssertionExpression(0,a,s,e.range(n,e.pos)):null}case 115:{let s=e.readIdentifier();if(s=="null")return N.createNullExpression(e.range());let a=N.createIdentifierExpression(s,e.range(n,e.pos));return e.skip(119)?this.parseTemplateLiteral(e,a):e.peek()==80&&!e.peekOnNewLine()?this.parseFunctionExpressionCommon(e,N.createEmptyIdentifierExpression(e.range(n)),[N.createParameter(0,a,N.createOmittedType(a.range.atEnd),null,a.range)],null,2,n):this.maybeParseCallExpression(e,a,!0)}case 49:{e.peek()!=68&&e.nextToken!=64&&this.error(1034,e.range());let s=N.createSuperExpression(e.range(n,e.pos));return this.maybeParseCallExpression(e,s)}case 116:return N.createStringLiteralExpression(e.readString(),e.range(n,e.pos));case 119:return this.parseTemplateLiteral(e);case 117:{let s=e.readInteger();return e.checkForIdentifierStartAfterNumericLiteral(),N.createIntegerLiteralExpression(s,e.range(n,e.pos))}case 118:{let s=e.readFloat();return e.checkForIdentifierStartAfterNumericLiteral(),N.createFloatLiteralExpression(s,e.range(n,e.pos))}case 85:{let s=e.readRegexpPattern();return e.skip(85)?N.createRegexpLiteralExpression(s,e.readRegexpFlags(),e.range(n,e.pos)):(this.error(1005,e.range(),"/"),null)}case 24:{let s=this.parseFunctionExpression(e);return s?this.maybeParseCallExpression(e,s):null}case 7:return this.parseClassExpression(e);default:return r==121?this.error(1126,e.range(n)):this.error(1109,e.range()),null}}tryParseTypeArgumentsBeforeArguments(e){let r=e.mark();if(!e.skip(72))return null;let n=e.tokenPos,s=null;do{if(e.peek()==73)break;let a=this.parseType(e,!0,!0);if(!a)return e.reset(r),null;s?s.push(a):s=[a]}while(e.skip(71));if(e.skip(73)){let a=e.pos;if(e.skip(64))return s||this.error(1099,e.range(n,a)),s}return e.reset(r),null}parseArguments(e){let r=new Array;for(;!e.skip(65);){let n=this.parseExpression(e,2);if(!n)return null;if(r.push(n),!e.skip(71)){if(e.skip(65))break;return this.error(1005,e.range(),")"),null}}return r}parseExpression(e,r=1){assert(r!=0);let n=this.parseExpressionStart(e);if(!n)return null;let s=n.range.start,a;for(;(a=y2(e.peek()))>=r;){let l=e.next();switch(l){case 1:{if(e.skip(8))n=N.createAssertionExpression(3,n,null,e.range(s,e.pos));else{let o=this.parseType(e);if(!o)return null;n=N.createAssertionExpression(1,n,o,e.range(s,e.pos))}break}case 95:{n=N.createAssertionExpression(2,n,null,e.range(s,e.pos)),n=this.maybeParseCallExpression(e,n);break}case 30:{let o=this.parseType(e);if(!o)return null;n=N.createInstanceOfExpression(n,o,e.range(s,e.pos));break}case 66:{let o=this.parseExpression(e);if(!o)return null;if(!e.skip(67))return this.error(1005,e.range(),"]"),null;n=N.createElementAccessExpression(n,o,e.range(s,e.pos)),n=this.maybeParseCallExpression(e,n);break}case 87:case 88:{n.kind!=6&&n.kind!=12&&n.kind!=21&&this.error(2357,n.range),n=N.createUnaryPostfixExpression(l,n,e.range(s,e.pos));break}case 99:{let o=this.parseExpression(e);if(!o)return null;if(!e.skip(100))return this.error(1005,e.range(),":"),null;let p=this.parseExpression(e,r>1?2:1);if(!p)return null;n=N.createTernaryExpression(n,o,p,e.range(s,e.pos));break}case 71:{let o=[n];do{if(n=this.parseExpression(e,2),!n)return null;o.push(n)}while(e.skip(71));n=N.createCommaExpression(o,e.range(s,e.pos));break}case 68:{if(e.skipIdentifier(2)){let o=N.createIdentifierExpression(e.readIdentifier(),e.range());n=N.createPropertyAccessExpression(n,o,e.range(s,e.pos))}else{let o=this.parseExpression(e,a+1);if(!o)return null;if(o.kind==9){if(n=this.joinPropertyCall(e,s,n,o),!n)return null}else return this.error(1003,o.range),null}if(e.skip(119)){if(n=this.parseTemplateLiteral(e,n),!n)return null}else n=this.maybeParseCallExpression(e,n,!0);break}case 101:case 102:case 103:case 105:case 104:case 106:case 107:case 108:case 109:case 110:case 111:case 113:case 112:case 83:{let o=this.parseExpression(e,a);if(!o)return null;n=N.createBinaryExpression(l,n,o,e.range(s,e.pos));break}case 72:case 73:case 74:case 75:case 76:case 78:case 79:case 77:case 81:case 82:case 84:case 85:case 86:case 89:case 90:case 91:case 92:case 93:case 94:case 97:case 98:case 29:{let o=this.parseExpression(e,a+1);if(!o)return null;n=N.createBinaryExpression(l,n,o,e.range(s,e.pos));break}default:assert(!1)}}return n}parseTemplateLiteral(e,r=null){let n=r?r.range.start:e.tokenPos,s=new Array,a=new Array,l=new Array;for(s.push(e.readString(0,r!=null)),a.push(e.source.text.substring(e.readStringStart,e.readStringEnd));e.readingTemplateString;){let o=this.parseExpression(e);if(!o)return null;if(l.push(o),!e.skip(63))return this.error(1005,e.range(),"}"),null;s.push(e.readString(96,r!=null)),a.push(e.source.text.substring(e.readStringStart,e.readStringEnd))}return N.createTemplateLiteralExpression(r,s,a,l,e.range(n,e.pos))}joinPropertyCall(e,r,n,s){let a=s.expression;switch(a.kind){case 6:{s.expression=N.createPropertyAccessExpression(n,a,e.range(r,e.pos));break}case 9:{let l=this.joinPropertyCall(e,r,n,a);if(!l)return null;s.expression=l,s.range=e.range(r,e.pos);break}default:return this.error(1003,s.range),null}return s}maybeParseCallExpression(e,r,n=!1){let s=null;for(;e.skip(64)||n&&(s=this.tryParseTypeArgumentsBeforeArguments(e));){let a=this.parseArguments(e);if(!a)break;r=N.createCallExpression(r,s,a,e.range(r.range.start,e.pos)),n=!1}return r}checkASI(e){let r=e.peek();r==121||r==63||e.peekOnNewLine()||this.error(1012,e.range(e.nextTokenPos))}skipStatement(e){e.peekOnNewLine()&&e.next();do{let r=e.peek();if(r==121||r==70){e.next();break}if(e.peekOnNewLine())break;switch(e.next()){case 115:{e.readIdentifier();break}case 116:case 119:{e.readString();break}case 117:{e.readInteger(),e.checkForIdentifierStartAfterNumericLiteral();break}case 118:{e.readFloat(),e.checkForIdentifierStartAfterNumericLiteral();break}case 62:{this.skipBlock(e);break}}}while(!0);e.readingTemplateString=!1}skipBlock(e){let r=1,n=!0;do switch(e.next()){case 121:{this.error(1005,e.range(),"}"),n=!1;break}case 62:{++r;break}case 63:{--r,r||(n=!1);break}case 115:{e.readIdentifier();break}case 116:{e.readString();break}case 119:{for(e.readString();e.readingTemplateString;)this.skipBlock(e),e.readString(96);break}case 117:{e.readInteger(),e.checkForIdentifierStartAfterNumericLiteral();break}case 118:{e.readFloat(),e.checkForIdentifierStartAfterNumericLiteral();break}}while(n)}},Ky=(B=>(B[B.None=0]="None",B[B.Comma=1]="Comma",B[B.Spread=2]="Spread",B[B.Yield=3]="Yield",B[B.Assignment=4]="Assignment",B[B.Conditional=5]="Conditional",B[B.LogicalOr=6]="LogicalOr",B[B.LogicalAnd=7]="LogicalAnd",B[B.BitwiseOr=8]="BitwiseOr",B[B.BitwiseXor=9]="BitwiseXor",B[B.BitwiseAnd=10]="BitwiseAnd",B[B.Equality=11]="Equality",B[B.Relational=12]="Relational",B[B.Shift=13]="Shift",B[B.Additive=14]="Additive",B[B.Multiplicative=15]="Multiplicative",B[B.Exponentiated=16]="Exponentiated",B[B.UnaryPrefix=17]="UnaryPrefix",B[B.UnaryPostfix=18]="UnaryPostfix",B[B.Call=19]="Call",B[B.MemberAccess=20]="MemberAccess",B[B.Grouping=21]="Grouping",B))(Ky||{});function y2(t){switch(t){case 71:return 1;case 101:case 102:case 103:case 105:case 104:case 106:case 107:case 108:case 109:case 110:case 111:case 113:case 112:return 4;case 99:return 5;case 98:return 6;case 97:return 7;case 93:return 8;case 94:return 9;case 92:return 10;case 76:case 77:case 78:case 79:return 11;case 1:case 29:case 30:case 72:case 73:case 74:case 75:return 12;case 89:case 90:case 91:return 13;case 81:case 82:return 14;case 84:case 85:case 86:return 15;case 83:return 16;case 87:case 88:return 18;case 68:case 66:case 95:return 20}return 0}function Il(t,i){switch(i.kind){case 1:{if(i.name.identifier.text==t)return!0;let e=i.typeArguments;if(e){for(let r=0,n=e.length;r<n;r++)if(Il(t,e[r]))return!0}break}case 2:{let e=i;if(Il(t,e.returnType))return!0;let r=e.parameters;for(let n=0,s=r.length;n<s;n++)if(Il(t,r[n].type))return!0;break}default:assert(!1)}return!1}var Qy=16,bi=Qy-1,Sl=class{constructor(i,e,r,n,s){this.localFile=i;this.localIdentifier=e;this.foreignIdentifier=r;this.foreignPath=n;this.foreignPathAlt=s}},Fl=class{constructor(i,e,r,n){this.localIdentifier=i;this.foreignIdentifier=e;this.foreignPath=r;this.foreignPathAlt=n}},Gp=class{constructor(i,e,r){this.foreignPath=i;this.foreignPathAlt=e;this.pathLiteral=r}},Fe=(W=>(W[W.Invalid=0]="Invalid",W[W.IndexedGet=1]="IndexedGet",W[W.IndexedSet=2]="IndexedSet",W[W.UncheckedIndexedGet=3]="UncheckedIndexedGet",W[W.UncheckedIndexedSet=4]="UncheckedIndexedSet",W[W.Add=5]="Add",W[W.Sub=6]="Sub",W[W.Mul=7]="Mul",W[W.Div=8]="Div",W[W.Rem=9]="Rem",W[W.Pow=10]="Pow",W[W.BitwiseAnd=11]="BitwiseAnd",W[W.BitwiseOr=12]="BitwiseOr",W[W.BitwiseXor=13]="BitwiseXor",W[W.BitwiseShl=14]="BitwiseShl",W[W.BitwiseShr=15]="BitwiseShr",W[W.BitwiseShrU=16]="BitwiseShrU",W[W.Eq=17]="Eq",W[W.Ne=18]="Ne",W[W.Gt=19]="Gt",W[W.Ge=20]="Ge",W[W.Lt=21]="Lt",W[W.Le=22]="Le",W[W.Plus=23]="Plus",W[W.Minus=24]="Minus",W[W.Not=25]="Not",W[W.BitwiseNot=26]="BitwiseNot",W[W.PrefixInc=27]="PrefixInc",W[W.PrefixDec=28]="PrefixDec",W[W.PostfixInc=29]="PostfixInc",W[W.PostfixDec=30]="PostfixDec",W))(Fe||{});(n=>{function t(s,a){switch(assert(a.length),s){case 2:case 3:{switch(a.charCodeAt(0)){case 91:{if(a=="[]")return 1;if(a=="[]=")return 2;break}case 123:{if(a=="{}")return 3;if(a=="{}=")return 4;break}case 43:{if(a=="+")return 5;break}case 45:{if(a=="-")return 6;break}case 42:{if(a=="*")return 7;if(a=="**")return 10;break}case 47:{if(a=="/")return 8;break}case 37:{if(a=="%")return 9;break}case 38:{if(a=="&")return 11;break}case 124:{if(a=="|")return 12;break}case 94:{if(a=="^")return 13;break}case 61:{if(a=="==")return 17;break}case 33:{if(a=="!=")return 18;break}case 62:{if(a==">")return 19;if(a==">=")return 20;if(a==">>")return 15;if(a==">>>")return 16;break}case 60:{if(a=="<")return 21;if(a=="<=")return 22;if(a=="<<")return 14;break}}break}case 4:{switch(a.charCodeAt(0)){case 43:{if(a=="+")return 23;if(a=="++")return 27;break}case 45:{if(a=="-")return 24;if(a=="--")return 28;break}case 33:{if(a=="!")return 25;break}case 126:{if(a=="~")return 26;break}}break}case 5:{switch(a.charCodeAt(0)){case 43:{if(a=="++")return 29;break}case 45:{if(a=="--")return 30;break}}break}}return 0}n.fromDecorator=t;function i(s){switch(s){case 81:case 102:return 5;case 82:case 103:return 6;case 84:case 104:return 7;case 85:case 106:return 8;case 86:case 107:return 9;case 83:case 105:return 10;case 92:case 111:return 11;case 93:case 112:return 12;case 94:case 113:return 13;case 89:case 108:return 14;case 90:case 109:return 15;case 91:case 110:return 16;case 76:case 78:return 17;case 77:case 79:return 18;case 73:return 19;case 75:return 20;case 72:return 21;case 74:return 22}return 0}n.fromBinaryToken=i;function e(s){switch(s){case 81:return 23;case 82:return 24;case 95:return 25;case 96:return 26;case 87:return 27;case 88:return 28}return 0}n.fromUnaryPrefixToken=e;function r(s){switch(s){case 87:return 29;case 88:return 30}return 0}n.fromUnaryPostfixToken=r})(Fe||={});var Dn=class extends Oe{constructor(e,r=null){super(r);this.options=e;this.sources=[];this.diagnosticsOffset=0;this.nextClassId=0;this.nextSignatureId=0;this.initialized=!1;this.filesByName=new Map;this.elementsByName=new Map;this.elementsByDeclaration=new Map;this.instancesByName=new Map;this.wrapperClasses=new Map;this.managedClasses=new Map;this.uniqueSignatures=new Map;this.moduleImports=new Map;this._arrayBufferViewInstance=null;this._arrayBufferInstance=null;this._arrayPrototype=null;this._staticArrayPrototype=null;this._setPrototype=null;this._mapPrototype=null;this._functionPrototype=null;this._int8ArrayPrototype=null;this._int16ArrayPrototype=null;this._int32ArrayPrototype=null;this._int64ArrayPrototype=null;this._uint8ArrayPrototype=null;this._uint8ClampedArrayPrototype=null;this._uint16ArrayPrototype=null;this._uint32ArrayPrototype=null;this._uint64ArrayPrototype=null;this._float32ArrayPrototype=null;this._float64ArrayPrototype=null;this._stringInstance=null;this._regexpInstance=null;this._objectPrototype=null;this._objectInstance=null;this._templateStringsArrayInstance=null;this._allocInstance=null;this._reallocInstance=null;this._freeInstance=null;this._newInstance=null;this._renewInstance=null;this._linkInstance=null;this._collectInstance=null;this._visitInstance=null;this._newBufferInstance=null;this._newArrayInstance=null;this._BLOCKInstance=null;this._OBJECTInstance=null;this.nativeDummySignature=null;this.module=qt.create(e.stackSize>0,e.sizeTypeRef),this.parser=new Un(this.diagnostics,this.sources),this.resolver=new Ln(this);let n=new qn(this,fe.native);this.nativeFile=n,this.filesByName.set(n.internalName,n)}get arrayBufferViewInstance(){let e=this._arrayBufferViewInstance;return e||(this._arrayBufferViewInstance=e=this.requireClass(P.ArrayBufferView)),e}get arrayBufferInstance(){let e=this._arrayBufferInstance;return e||(this._arrayBufferInstance=e=this.requireClass(P.ArrayBuffer)),e}get arrayPrototype(){let e=this._arrayPrototype;return e||(this._arrayPrototype=e=this.require(P.Array,6)),e}get staticArrayPrototype(){let e=this._staticArrayPrototype;return e||(this._staticArrayPrototype=e=this.require(P.StaticArray,6)),e}get setPrototype(){let e=this._setPrototype;return e||(this._setPrototype=e=this.require(P.Set,6)),e}get mapPrototype(){let e=this._mapPrototype;return e||(this._mapPrototype=e=this.require(P.Map,6)),e}get functionPrototype(){let e=this._functionPrototype;return e||(this._functionPrototype=e=this.require(P.Function,6)),e}get int8ArrayPrototype(){let e=this._int8ArrayPrototype;return e||(this._int8ArrayPrototype=e=this.require(P.Int8Array,6)),e}get int16ArrayPrototype(){let e=this._int16ArrayPrototype;return e||(this._int16ArrayPrototype=e=this.require(P.Int16Array,6)),e}get int32ArrayPrototype(){let e=this._int32ArrayPrototype;return e||(this._int32ArrayPrototype=e=this.require(P.Int32Array,6)),e}get int64ArrayPrototype(){let e=this._int64ArrayPrototype;return e||(this._int64ArrayPrototype=e=this.require(P.Int64Array,6)),e}get uint8ArrayPrototype(){let e=this._uint8ArrayPrototype;return e||(this._uint8ArrayPrototype=e=this.require(P.Uint8Array,6)),e}get uint8ClampedArrayPrototype(){let e=this._uint8ClampedArrayPrototype;return e||(this._uint8ClampedArrayPrototype=e=this.require(P.Uint8ClampedArray,6)),e}get uint16ArrayPrototype(){let e=this._uint16ArrayPrototype;return e||(this._uint16ArrayPrototype=e=this.require(P.Uint16Array,6)),e}get uint32ArrayPrototype(){let e=this._uint32ArrayPrototype;return e||(this._uint32ArrayPrototype=e=this.require(P.Uint32Array,6)),e}get uint64ArrayPrototype(){let e=this._uint64ArrayPrototype;return e||(this._uint64ArrayPrototype=e=this.require(P.Uint64Array,6)),e}get float32ArrayPrototype(){let e=this._float32ArrayPrototype;return e||(this._float32ArrayPrototype=e=this.require(P.Float32Array,6)),e}get float64ArrayPrototype(){let e=this._float64ArrayPrototype;return e||(this._float64ArrayPrototype=e=this.require(P.Float64Array,6)),e}get stringInstance(){let e=this._stringInstance;return e||(this._stringInstance=e=this.requireClass(P.String)),e}get regexpInstance(){let e=this._regexpInstance;return e||(this._regexpInstance=e=this.requireClass(P.RegExp)),e}get objectPrototype(){let e=this._objectPrototype;return e||(this._objectPrototype=e=this.require(P.Object,6)),e}get objectInstance(){let e=this._objectInstance;return e||(this._objectInstance=e=this.requireClass(P.Object)),e}get templateStringsArrayInstance(){let e=this._templateStringsArrayInstance;return e||(this._templateStringsArrayInstance=e=this.requireClass(P.TemplateStringsArray)),e}get abortInstance(){let e=this.lookup(P.abort);return!e||e.kind!=4?null:this.resolver.resolveFunction(e,null)}get allocInstance(){let e=this._allocInstance;return e||(this._allocInstance=e=this.requireFunction(P.alloc)),e}get reallocInstance(){let e=this._reallocInstance;return e||(this._reallocInstance=e=this.requireFunction(P.realloc)),e}get freeInstance(){let e=this._freeInstance;return e||(this._freeInstance=e=this.requireFunction(P.free)),e}get newInstance(){let e=this._newInstance;return e||(this._newInstance=e=this.requireFunction(P.new_)),e}get renewInstance(){let e=this._renewInstance;return e||(this._renewInstance=e=this.requireFunction(P.renew)),e}get linkInstance(){let e=this._linkInstance;return e||(this._linkInstance=e=this.requireFunction(P.link)),e}get collectInstance(){let e=this._collectInstance;return e||(this._collectInstance=e=this.requireFunction(P.collect)),e}get visitInstance(){let e=this._visitInstance;return e||(this._visitInstance=e=this.requireFunction(P.visit)),e}get newBufferInstance(){let e=this._newBufferInstance;return e||(this._newBufferInstance=e=this.requireFunction(P.newBuffer)),e}get newArrayInstance(){let e=this._newArrayInstance;return e||(this._newArrayInstance=e=this.requireFunction(P.newArray)),e}get BLOCKInstance(){let e=this._BLOCKInstance;return e||(this._BLOCKInstance=e=this.requireClass(P.BLOCK)),e}get OBJECTInstance(){let e=this._OBJECTInstance;return e||(this._OBJECTInstance=e=this.requireClass(P.OBJECT)),e}getSource(e){let r=this.sources;for(let n=0;n<r.length;++n){let s=r[n];if(s.internalPath==e)return s.text}return null}get blockOverhead(){return this.BLOCKInstance.nextMemoryOffset}get objectOverhead(){return this.OBJECTInstance.nextMemoryOffset-this.blockOverhead+bi&~bi}get totalOverhead(){return this.blockOverhead+this.objectOverhead}searchFunctionByRef(e){let r=Cp(e);if(r){let n=this.instancesByName;if(n.has(r)){let s=assert(n.get(r));if(s.kind==5)return s}}return null}computeBlockStart(e){let r=this.blockOverhead;return(e+r+bi&~bi)-r}computeBlockStart64(e){let r=i64_new(this.blockOverhead);return i64_sub(i64_align(i64_add(e,r),Qy),r)}computeBlockSize(e,r){r&&(e+=this.objectOverhead);let n=this.computeBlockStart(e),s=this.blockOverhead,a=(3*this.options.usizeType.byteSize+s+bi&~bi)-s;n<a&&(n=a);let l=1<<30;if(n>=l||(n&3)!=0)throw new Error("invalid block size");return n}makeNativeVariableDeclaration(e,r=0){let n=fe.native.range;return N.createVariableDeclaration(N.createIdentifierExpression(e,n),null,r,null,null,n)}makeNativeTypeDeclaration(e,r=0){let n=fe.native.range,s=N.createIdentifierExpression(e,n);return N.createTypeDeclaration(s,null,r,null,N.createOmittedType(n),n)}makeNativeFunctionDeclaration(e,r=0){let n=fe.native.range,s=this.nativeDummySignature;return s||(this.nativeDummySignature=s=N.createFunctionType([],N.createNamedType(N.createSimpleTypeName(P.void_,n),null,!1,n),null,!1,n)),N.createFunctionDeclaration(N.createIdentifierExpression(e,n),null,r,null,s,null,0,n)}makeNativeNamespaceDeclaration(e,r=0){let n=fe.native.range;return N.createNamespaceDeclaration(N.createIdentifierExpression(e,n),null,r,[],n)}makeNativeFunction(e,r,n=this.nativeFile,s=0,a=0){return new ct(e,new He(e,n,this.makeNativeFunctionDeclaration(e,s),a),null,r)}getElementByDeclaration(e){let r=this.elementsByDeclaration;return r.has(e)?assert(r.get(e)):null}initialize(){if(this.initialized)return;this.initialized=!0;let e=this.options;this.registerNativeType(P.i8,u.i8),this.registerNativeType(P.i16,u.i16),this.registerNativeType(P.i32,u.i32),this.registerNativeType(P.i64,u.i64),this.registerNativeType(P.isize,e.isizeType),this.registerNativeType(P.u8,u.u8),this.registerNativeType(P.u16,u.u16),this.registerNativeType(P.u32,u.u32),this.registerNativeType(P.u64,u.u64),this.registerNativeType(P.usize,e.usizeType),this.registerNativeType(P.bool,u.bool),this.registerNativeType(P.f32,u.f32),this.registerNativeType(P.f64,u.f64),this.registerNativeType(P.void_,u.void),this.registerNativeType(P.number,u.f64),this.registerNativeType(P.boolean,u.bool),this.nativeFile.add(P.native,new Xe(P.native,this.nativeFile,this.makeNativeTypeDeclaration(P.native,65538),512)),this.nativeFile.add(P.indexof,new Xe(P.indexof,this.nativeFile,this.makeNativeTypeDeclaration(P.indexof,65538),512)),this.nativeFile.add(P.valueof,new Xe(P.valueof,this.nativeFile,this.makeNativeTypeDeclaration(P.valueof,65538),512)),this.nativeFile.add(P.returnof,new Xe(P.returnof,this.nativeFile,this.makeNativeTypeDeclaration(P.returnof,65538),512)),this.nativeFile.add(P.nonnull,new Xe(P.nonnull,this.nativeFile,this.makeNativeTypeDeclaration(P.nonnull,65538),512)),this.registerNativeType(P.v128,u.v128),this.registerNativeType(P.ref_func,u.func),this.registerNativeType(P.ref_extern,u.extern),this.registerNativeType(P.ref_any,u.any),this.registerNativeType(P.ref_eq,u.eq),this.registerNativeType(P.ref_struct,u.struct),this.registerNativeType(P.ref_array,u.array),this.registerNativeType(P.ref_i31,u.i31),this.registerNativeType(P.ref_string,u.string),this.registerNativeType(P.ref_stringview_wtf8,u.stringview_wtf8),this.registerNativeType(P.ref_stringview_wtf16,u.stringview_wtf16),this.registerNativeType(P.ref_stringview_iter,u.stringview_iter),this.registerConstantInteger(P.ASC_TARGET,u.i32,i64_new(e.isWasm64?2:1)),this.registerConstantInteger(P.ASC_RUNTIME,u.i32,i64_new(e.runtime)),this.registerConstantInteger(P.ASC_NO_ASSERT,u.bool,i64_new(e.noAssert?1:0,0)),this.registerConstantInteger(P.ASC_MEMORY_BASE,u.i32,i64_new(e.memoryBase,0)),this.registerConstantInteger(P.ASC_TABLE_BASE,u.i32,i64_new(e.tableBase,0)),this.registerConstantInteger(P.ASC_OPTIMIZE_LEVEL,u.i32,i64_new(e.optimizeLevelHint,0)),this.registerConstantInteger(P.ASC_SHRINK_LEVEL,u.i32,i64_new(e.shrinkLevelHint,0)),this.registerConstantInteger(P.ASC_LOW_MEMORY_LIMIT,u.i32,i64_new(e.lowMemoryLimit,0)),this.registerConstantInteger(P.ASC_EXPORT_RUNTIME,u.bool,i64_new(e.exportRuntime?1:0,0)),this.registerConstantInteger(P.ASC_VERSION_MAJOR,u.i32,i64_new(e.bundleMajorVersion)),this.registerConstantInteger(P.ASC_VERSION_MINOR,u.i32,i64_new(e.bundleMinorVersion)),this.registerConstantInteger(P.ASC_VERSION_PATCH,u.i32,i64_new(e.bundlePatchVersion)),this.registerConstantInteger(P.ASC_FEATURE_SIGN_EXTENSION,u.bool,i64_new(e.hasFeature(1)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_MUTABLE_GLOBALS,u.bool,i64_new(e.hasFeature(2)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_NONTRAPPING_F2I,u.bool,i64_new(e.hasFeature(4)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_BULK_MEMORY,u.bool,i64_new(e.hasFeature(8)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_SIMD,u.bool,i64_new(e.hasFeature(16)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_THREADS,u.bool,i64_new(e.hasFeature(32)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_EXCEPTION_HANDLING,u.bool,i64_new(e.hasFeature(64)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_TAIL_CALLS,u.bool,i64_new(e.hasFeature(128)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_REFERENCE_TYPES,u.bool,i64_new(e.hasFeature(256)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_MULTI_VALUE,u.bool,i64_new(e.hasFeature(512)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_GC,u.bool,i64_new(e.hasFeature(1024)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_MEMORY64,u.bool,i64_new(e.hasFeature(2048)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_RELAXED_SIMD,u.bool,i64_new(e.hasFeature(4096)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_EXTENDED_CONST,u.bool,i64_new(e.hasFeature(8192)?1:0,0)),this.registerConstantInteger(P.ASC_FEATURE_STRINGREF,u.bool,i64_new(e.hasFeature(16384)?1:0,0));let r=new Array,n=new Map,s=new Map,a=new Array,l=new Array;for(let p=0,c=this.sources.length;p<c;++p){let _=this.sources[p],f=new qn(this,_);this.filesByName.set(f.internalName,f);let d=_.statements;for(let g=0,E=d.length;g<E;++g){let x=d[g];switch(x.kind){case 35:{this.initializeExports(x,f,n,s);break}case 36:{this.initializeExportDefault(x,f,a,l);break}case 42:{this.initializeImports(x,f,r,n);break}case 47:{this.initializeVariables(x,f);break}case 51:{this.initializeClass(x,f,a,l);break}case 52:{this.initializeEnum(x,f);break}case 55:{this.initializeFunction(x,f);break}case 57:{this.initializeInterface(x,f,a);break}case 59:{this.initializeNamespace(x,f,a,l);break}case 60:{this.initializeTypeDefinition(x,f);break}}}}for(let p=Map_keys(s),c=0,_=p.length;c<_;++c){let f=p[c],d=assert(s.get(f));for(let g=0,E=d.length;g<E;++g){let x=unchecked(d[g]),A=this.lookupForeignFile(x.foreignPath,x.foreignPathAlt);if(!A){this.error(6054,x.pathLiteral.range,x.pathLiteral.value);continue}f.ensureExportStar(A)}}do{let p=0,c=!1;for(;p<r.length;){let _=r[p],f=_.localIdentifier,d=_.foreignIdentifier,g=assert(this.lookupForeignFile(_.foreignPath,_.foreignPathAlt));if(d){let E=this.lookupForeign(d.text,g,n);E?(_.localFile.add(f.text,E,f),r.splice(p,1),c=!0):++p}else{let E=_.localFile,x=f.text;E.add(x,g.asAliasNamespace(x,E,f),f),r.splice(p,1),c=!0}}if(!c){for(let _=0,f=r.length;_<f;++_){let d=r[_],g=d.foreignIdentifier;g&&this.error(2305,g.range,d.foreignPath,g.text)}break}}while(!0);for(let p=Map_keys(n),c=0,_=p.length;c<_;++c){let f=unchecked(p[c]),d=assert(n.get(f));for(let g=Map_keys(d),E=0,x=g.length;E<x;++E){let A=unchecked(g[E]),S=assert(d.get(A)),I=S.localIdentifier.text,k=S.foreignPath;if(k){let F=assert(this.lookupForeignFile(k,assert(S.foreignPathAlt))),B=this.lookupForeign(I,F,n);B?f.ensureExport(A,B):this.error(2305,S.localIdentifier.range,k,I)}else{let F=f.getMember(I);if(F)f.ensureExport(A,F);else{let B=this.lookup(I);B&&On(B.kind)?f.ensureExport(A,B):this.error(2305,S.foreignIdentifier.range,f.internalName,S.foreignIdentifier.text)}}}}assert(this.objectInstance.id==0),assert(this.arrayBufferInstance.id==1),assert(this.stringInstance.id==2),assert(this.arrayBufferViewInstance.id==3),this.registerWrapperClass(u.i8,P.I8),this.registerWrapperClass(u.i16,P.I16),this.registerWrapperClass(u.i32,P.I32),this.registerWrapperClass(u.i64,P.I64),this.registerWrapperClass(e.isizeType,P.Isize),this.registerWrapperClass(u.u8,P.U8),this.registerWrapperClass(u.u16,P.U16),this.registerWrapperClass(u.u32,P.U32),this.registerWrapperClass(u.u64,P.U64),this.registerWrapperClass(e.usizeType,P.Usize),this.registerWrapperClass(u.bool,P.Bool),this.registerWrapperClass(u.f32,P.F32),this.registerWrapperClass(u.f64,P.F64),e.hasFeature(16)&&this.registerWrapperClass(u.v128,P.V128),e.hasFeature(256)&&(this.registerWrapperClass(u.func,P.RefFunc),this.registerWrapperClass(u.extern,P.RefExtern),e.hasFeature(1024)&&(this.registerWrapperClass(u.any,P.RefAny),this.registerWrapperClass(u.eq,P.RefEq),this.registerWrapperClass(u.struct,P.RefStruct),this.registerWrapperClass(u.array,P.RefArray),this.registerWrapperClass(u.i31,P.RefI31)),e.hasFeature(16384)&&this.registerWrapperClass(u.string,P.RefString));let o=this.resolver;for(let p=0,c=a.length;p<c;++p){let _=a[p],f=assert(_.extendsNode),d=o.resolveTypeName(f.name,null,_.parent);if(d){if(_.kind==6)if(d.kind==6){let g=d;g.hasDecorator(32)&&this.error(211,f.range,g.identifierNode.text),g.hasDecorator(16)!=_.hasDecorator(16)&&this.error(207,ae.join(_.identifierNode.range,f.range)),_.extends(g)?this.error(2506,g.identifierNode.range,g.identifierNode.text):_.basePrototype=g}else this.error(1311,f.range);else if(_.kind==8)if(d.kind==8){let g=d;_.extends(g)?this.error(2506,g.identifierNode.range,g.identifierNode.text):_.basePrototype=g}else this.error(2312,f.range)}}for(let p=0,c=a.length;p<c;p++){let _=a[p],f=_.instanceMembers;if(f){let d=Map_values(f);for(let g=0,E=d.length;g<E;g++){let x=d[g],A=x.declaration;if(A.is(8192)){let S=_.basePrototype,I=!1;for(;S;){let k=S.instanceMembers;if(k&&k.has(x.name)){I=!0;break}S=S.basePrototype}if(!I){let k=assert(_.basePrototype);this.error(4117,A.name.range,k.name)}}}}}for(let p=0,c=l.length;p<c;++p){let _=l[p],f=assert(_.implementsNodes);for(let d=0,g=f.length;d<g;++d){let E=f[d],x=o.resolveTypeName(E.name,null,_.parent);if(x)if(x.kind==8){let A=x,S=_.interfacePrototypes;S||(_.interfacePrototypes=S=new Array),S.push(A)}else this.error(2422,E.range)}}for(let p=0,c=a.length;p<c;++p){let _=a[p],f=_.basePrototype;f&&this.processOverrides(_,f)}for(let p=0,c=l.length;p<c;++p){let _=l[p],f=_.basePrototype,d=_.interfacePrototypes;if(f&&this.processOverrides(_,f),d)for(let g=0,E=d.length;g<E;++g)this.processOverrides(_,d[g])}{let p=e.globalAliases;p||(p=new Map),p.has(P.abort)||p.set(P.abort,h.abort),p.has(P.trace)||p.set(P.trace,h.trace),p.has(P.seed)||p.set(P.seed,h.seed),p.has(P.Math)||p.set(P.Math,P.NativeMath),p.has(P.Mathf)||p.set(P.Mathf,P.NativeMathf);for(let c=Map_keys(p),_=0,f=c.length;_<f;++_){let d=unchecked(c[_]),g=changetype(p.get(d));if(assert(g!=null),!g.length){this.elementsByName.delete(d);continue}let E=g.charCodeAt(0);if(E>=48&&E<=57)this.registerConstantInteger(d,u.i32,i64_new(parseInt(g,10)));else{let x=this.elementsByName;x.has(g)?x.set(d,assert(x.get(g))):this.error(111,null,g)}}}for(let p=Map_values(this.filesByName),c=0,_=p.length;c<_;++c){let f=unchecked(p[c]);f.source.sourceKind==1&&this.markModuleExports(f)}}processOverrides(e,r){let n=e.instanceMembers;if(n){let s=Map_values(n),a=null;do{let l=r.instanceMembers;if(l)for(let c=0,_=s.length;c<_;++c){let f=s[c];if(l.has(f.name)){let d=assert(l.get(f.name));this.doProcessOverride(e,f,r,d)}}let o=r.interfacePrototypes;if(o)for(let c=0,_=o.length;c<_;++c){let f=o[c];f!=r&&this.processOverrides(e,f)}let p=r.basePrototype;if(!p||(a||(a=new Set),a.add(r),a.has(p)))break;r=p}while(!0)}}doProcessOverride(e,r,n,s){if(!r.isAny(524800))if(r.kind==4&&s.kind==4){let a=r,l=s;a.visibilityEquals(l)||this.errorRelated(2385,a.identifierNode.range,l.identifierNode.range),s.set(268435456);let o=l.unboundOverrides;o||(l.unboundOverrides=o=new Set),o.add(r);let p=l.instances;if(p)for(let c=Map_values(p),_=0,f=c.length;_<f;++_)c[_].set(268435456)}else if(r.kind==10&&s.kind==10){let a=r,l=s;if(a.visibilityEquals(l)||this.errorRelated(2385,a.identifierNode.range,l.identifierNode.range),l.parent.kind!=8){let c=a.isField;if(c!=l.isField){c?this.errorRelated(2610,a.identifierNode.range,l.identifierNode.range,a.name,n.internalName,e.internalName):this.errorRelated(2611,a.identifierNode.range,l.identifierNode.range,a.name,n.internalName,e.internalName);return}else if(c)return}l.set(268435456);let o=l.getterPrototype;if(o){o.set(268435456);let c=a.getterPrototype;if(c){let f=o.unboundOverrides;f||(o.unboundOverrides=f=new Set),f.add(c)}let _=o.instances;if(_)for(let f=Map_values(_),d=0,g=f.length;d<g;++d)f[d].set(268435456)}let p=l.setterPrototype;if(p&&a.setterPrototype){p.set(268435456);let c=a.setterPrototype;if(c){let f=p.unboundOverrides;f||(p.unboundOverrides=f=new Set),f.add(c)}let _=p.instances;if(_)for(let f=Map_values(_),d=0,g=f.length;d<g;++d)f[d].set(268435456)}}else this.errorRelated(2416,r.identifierNode.range,s.identifierNode.range,r.name,e.internalName,n.internalName)}lookup(e){let r=this.elementsByName;return r.has(e)?assert(r.get(e)):null}require(e,r){let n=this.lookup(e);if(!n)throw new Error(`Missing standard library component: ${e}`);if(n.kind!=r)throw Error(`Invalid standard library component kind: ${e}`);return n}requireGlobal(e){return this.require(e,0)}requireClass(e){let r=this.require(e,6),n=this.resolver.resolveClass(r,null);if(!n)throw new Error(`Invalid standard library class: ${e}`);return n}requireFunction(e,r=null){let n=this.require(e,4),s=this.resolver.resolveFunction(n,r);if(!s)throw new Error(`Invalid standard library function: ${e}`);return s}markModuleExports(e){let r=e.exports;if(r)for(let s=Map_values(r),a=0,l=s.length;a<l;++a){let o=unchecked(s[a]);this.markModuleExport(o)}let n=e.exportsStar;if(n)for(let s=0,a=n.length;s<a;++s)this.markModuleExports(n[s])}markModuleExport(e){switch(e.set(1048576),e.kind){case 6:{let n=e.instanceMembers;if(n)for(let s=Map_values(n),a=0,l=s.length;a<l;++a){let o=unchecked(s[a]);this.markModuleExport(o)}break}case 10:{let n=e,s=n.getterPrototype;s&&this.markModuleExport(s);let a=n.setterPrototype;a&&this.markModuleExport(a);break}case 11:case 5:case 7:assert(!1)}let r=e.members;if(r)for(let n=Map_values(r),s=0,a=n.length;s<a;++s){let l=unchecked(n[s]);this.markModuleExport(l)}}markModuleImport(e,r,n){n.set(2097152);let s=this.moduleImports,a;s.has(e)?a=assert(s.get(e)):(a=new Map,s.set(e,a)),a.set(r,n)}registerNativeType(e,r){let n=new Xe(e,this.nativeFile,this.makeNativeTypeDeclaration(e,2),512);n.setType(r),this.nativeFile.add(e,n)}registerWrapperClass(e,r){let n=this.wrapperClasses;assert(!e.isInternalReference&&!n.has(e));let s=assert(this.lookup(r));assert(s.kind==6);let a=assert(this.resolver.resolveClass(s,null));a.wrappedType=e,n.set(e,a)}registerConstantInteger(e,r,n){assert(r.isIntegerInclReference);let s=new Tr(e,this.nativeFile,1024,this.makeNativeVariableDeclaration(e,10));s.setConstantIntegerValue(n,r),this.nativeFile.add(e,s)}registerConstantFloat(e,r,n){assert(r.isFloatValue);let s=new Tr(e,this.nativeFile,1024,this.makeNativeVariableDeclaration(e,10));s.setConstantFloatValue(n,r),this.nativeFile.add(e,s)}ensureGlobal(e,r){let n=this.elementsByName;if(n.has(e)){let s=assert(n.get(e));if(s!=r){let a=Vp(s,r);if(!a)return On(s.kind)?this.errorRelated(2300,r.identifierNode.range,s.declaration.name.range,e):this.error(2300,r.identifierNode.range,e),r;r=a}}return n.set(e,r),r}lookupForeignFile(e,r){let n=this.filesByName;return n.has(e)?assert(n.get(e)):n.has(r)?assert(n.get(r)):null}lookupForeign(e,r,n){do{let a=r.lookupExport(e);if(a)return a;if(n.has(r)){let l=assert(n.get(r));if(l.has(e)){let o=assert(l.get(e)),p=o.foreignPath;if(p){let c=this.lookupForeignFile(p,assert(o.foreignPathAlt));if(!c)return null;e=o.localIdentifier.text,r=c;continue}if(a=r.getMember(o.localIdentifier.text),a)return a}}break}while(!0);let s=r.exportsStar;if(s)for(let a=0,l=s.length;a<l;++a){let o=this.lookupForeign(e,s[a],n);if(o)return o}return null}checkDecorators(e,r){let n=0;if(e)for(let s=0,a=e.length;s<a;++s){let l=e[s],o=Tt.fromNode(l.name),p=Ht.fromKind(o);p&&(r&p?n&p?this.error(213,l.range):n|=p:this.error(212,l.range,l.name.range.toString()))}return n}checkFeatureEnabled(e,r){return this.options.hasFeature(e)?!0:(this.error(103,r.range,Yr(e)),!1)}checkTypeSupported(e,r){switch(e.kind){case 13:return this.checkFeatureEnabled(16,r);case 15:case 14:return e.is(512)?this.checkFeatureEnabled(256,r):this.checkFeatureEnabled(1024,r);case 16:case 17:case 18:case 19:case 20:return this.checkFeatureEnabled(256,r)&&this.checkFeatureEnabled(1024,r);case 21:case 22:case 23:case 24:return this.checkFeatureEnabled(256,r)&&this.checkFeatureEnabled(16384,r)}let n=e.getClass();if(n)do{let s=n.typeArguments;if(s){for(let a=0,l=s.length;a<l;++a)if(!this.checkTypeSupported(s[a],r))return!1}n=n.base}while(n);else{let s=e.getSignature();if(s){let a=s.thisType;if(a&&!this.checkTypeSupported(a,r))return!1;let l=s.parameterTypes;for(let p=0,c=l.length;p<c;++p)if(!this.checkTypeSupported(l[p],r))return!1;let o=s.returnType;if(!this.checkTypeSupported(o,r))return!1}}return!0}initializeClass(e,r,n,s){let a=e.name.text,l=new Kn(a,r,e,this.checkDecorators(e.decorators,49));if(!r.add(a,l))return null;let o=e.implementsTypes;if(o){let c=o.length;c&&(l.hasDecorator(16)?this.error(208,ae.join(e.name.range,o[c-1].range)):s.push(l))}e.extendsType?n.push(l):!l.hasDecorator(16)&&l.internalName!=h.Object&&(l.implicitlyExtendsObject=!0);let p=e.members;for(let c=0,_=p.length;c<_;++c){let f=p[c];switch(f.kind){case 54:{this.initializeField(f,l);break}case 58:{let d=f;if(f.isAny(6144))this.initializeProperty(d,l);else{let g=this.initializeMethod(d,l);g&&d.name.kind==26&&(l.constructorPrototype=g)}break}case 65:break;default:assert(!1)}}return l}initializeField(e,r){let n=e.name.text,s=e.decorators,a,l=2048;if(r.is(32768)&&(l|=128),e.is(32)){if(assert(r.kind!=8),l|=1024,e.is(64)&&(l|=64),a=new Tr(n,r,this.checkDecorators(s,l),e),!r.add(n,a))return}else if(assert(!e.isAny(6272)),a=xi.forField(n,r,e,this.checkDecorators(s,l)),!r.addInstance(n,a))return}initializeMethod(e,r){let n=e.name.text,s=e.is(32),a=2112;e.is(65536)||(a|=14),r.is(32768)&&(a|=128),e.range.source.isLibrary&&(a|=512);let l=new He(n,r,e,this.checkDecorators(e.decorators,a));if(l.hasDecorator(512)&&!y.has(l.internalName)&&this.error(100,e.range,`Builtin '${l.internalName}'`),s){if(assert(e.name.kind!=26),!r.add(n,l))return null}else if(!r.addInstance(n,l))return null;return this.checkOperatorOverloads(e.decorators,l,r),l}checkOperatorOverloads(e,r,n){if(e)for(let s=0,a=e.length;s<a;++s){let l=e[s];switch(l.decoratorKind){case 2:case 3:case 4:case 5:{let o=l.args,p=o?o.length:0;if(p==1){let c=l.args[0];if(c.isLiteralKind(2)){let _=c.value,f=Fe.fromDecorator(l.decoratorKind,_);if(f==0)this.error(224,c.range,_);else{let d=n.operatorOverloadPrototypes;d.has(f)?this.error(2393,c.range):(r.operatorKind=f,d.set(f,r))}}else this.error(1141,c.range)}else this.error(2554,l.range,"1",p.toString())}}}}ensureProperty(e,r){let n=e.name.text;if(e.is(32)){let s=r.members;if(s&&s.has(n)){let a=assert(s.get(n));if(a.kind==10)return a}else{let a=new xi(n,r,e);return r.add(n,a)?a:null}}else{let s=r.instanceMembers;if(s&&s.has(n)){let a=assert(s.get(n));if(a.kind==10)return a}else{let a=new xi(n,r,e);return r.addInstance(n,a)?a:null}}return this.error(2718,e.name.range,n),null}initializeProperty(e,r){let n=this.ensureProperty(e,r);if(!n)return;let s=e.name.text,a=e.is(2048);if(a){if(n.getterPrototype){this.error(2718,e.name.range,s);return}}else if(n.setterPrototype){this.error(2718,e.name.range,s);return}let l=new He((a?Ds:Vs)+s,n.parent,e,this.checkDecorators(e.decorators,2112));a?n.getterPrototype=l:n.setterPrototype=l}initializeEnum(e,r){let n=e.name.text,s=new Rl(n,r,e,this.checkDecorators(e.decorators,1089));if(!r.add(n,s))return null;let a=e.values;for(let l=0,o=a.length;l<o;++l)this.initializeEnumValue(a[l],s);return s}initializeEnumValue(e,r){let n=e.name.text,s=new kl(n,r,e,this.checkDecorators(e.decorators,0));r.add(n,s)}initializeExports(e,r,n,s){let a=e.members;if(a)for(let l=0,o=a.length;l<o;++l)this.initializeExport(a[l],r,e.internalPath,n);else{let l;s.has(r)?l=assert(s.get(r)):s.set(r,l=[]);let o=e.internalPath;l.push(new Gp(o,o.endsWith(Ne)?o.substring(0,o.length-Ne.length):o+Ne,assert(e.path)))}}initializeExport(e,r,n,s){let a=e.localName.text,l=e.exportedName.text,o=r.lookupExport(l);if(o){this.error(2484,e.exportedName.range,l);return}if(n==null)if(o=r.getMember(a))r.ensureExport(l,o);else{let p;s.has(r)?p=assert(s.get(r)):s.set(r,p=new Map),p.set(l,new Fl(e.localName,e.exportedName,null,null))}else{let p;s.has(r)?p=assert(s.get(r)):s.set(r,p=new Map),p.set(l,new Fl(e.localName,e.exportedName,n,n.endsWith(Ne)?n.substring(0,n.length-Ne.length):n+Ne))}}initializeExportDefault(e,r,n,s){let a=e.declaration,l=null;switch(a.kind){case 52:{l=this.initializeEnum(a,r);break}case 55:{l=this.initializeFunction(a,r);break}case 51:{l=this.initializeClass(a,r,n,s);break}case 57:{l=this.initializeInterface(a,r,n);break}case 59:{l=this.initializeNamespace(a,r,n,s);break}default:assert(!1)}if(l){let o=r.exports;if(!o)r.exports=o=new Map;else if(o.has("default")){let p=assert(o.get("default"));this.errorRelated(2300,a.name.range,p.declaration.name.range,"default");return}o.set("default",l)}}initializeImports(e,r,n,s){let a=e.declarations;if(a)for(let l=0,o=a.length;l<o;++l)this.initializeImport(a[l],r,e.internalPath,n,s);else{let l=e.namespaceName;l&&n.push(new Sl(r,l,null,e.internalPath,e.internalPath+Ne))}}initializeImport(e,r,n,s,a){let l=n.endsWith(Ne)?n.substring(0,n.length-Ne.length):n+Ne,o=this.lookupForeignFile(n,l);if(o){let p=this.lookupForeign(e.foreignName.text,o,a);if(p){r.add(e.name.text,p,e.name);return}}s.push(new Sl(r,e.name,e.foreignName,n,l))}initializeFunction(e,r){let n=e.name.text,s=2048;e.is(32768)?s|=384:(s|=64,(e.range.source.isLibrary||e.is(2))&&(s|=1024)),e.is(262144)||r.kind!=6&&(s|=1),e.range.source.isLibrary&&(s|=512);let a=new He(n,r,e,this.checkDecorators(e.decorators,s));return a.hasDecorator(512)&&!y.has(a.internalName)&&this.error(100,e.range,`Builtin '${a.internalName}'`),r.add(n,a)?a:null}initializeInterface(e,r,n){let s=e.name.text,a=new wl(s,r,e,this.checkDecorators(e.decorators,1));if(!r.add(s,a))return null;e.extendsType&&n.push(a);let l=e.members;for(let o=0,p=l.length;o<p;++o){let c=l[o];switch(c.kind){case 54:{this.initializeFieldAsProperty(c,a);break}case 58:{let _=c;c.isAny(6144)?this.initializeProperty(_,a):this.initializeMethod(_,a);break}default:assert(!1)}}return a}initializeFieldAsProperty(e,r){let n=e.initializer;n&&this.error(1246,n.range);let s=e.type;s||(s=N.createOmittedType(e.name.range.atEnd)),this.initializeProperty(N.createMethodDeclaration(e.name,e.decorators,e.flags|2048,null,N.createFunctionType([],s,null,!1,e.range),null,e.range),r),e.is(64)||this.initializeProperty(N.createMethodDeclaration(e.name,e.decorators,e.flags|4096,null,N.createFunctionType([N.createParameter(0,e.name,s,null,e.name.range)],N.createOmittedType(e.name.range.atEnd),null,!1,e.range),null,e.range),r)}initializeNamespace(e,r,n,s){let a=e.name.text,l=new Wn(a,r,e,this.checkDecorators(e.decorators,1));if(!r.add(a,l))return null;let o=assert(r.getMember(a)),p=e.members;for(let c=0,_=p.length;c<_;++c){let f=p[c];switch(f.kind){case 51:{this.initializeClass(f,l,n,s);break}case 52:{this.initializeEnum(f,l);break}case 55:{this.initializeFunction(f,l);break}case 57:{this.initializeInterface(f,l,n);break}case 59:{this.initializeNamespace(f,l,n,s);break}case 60:{this.initializeTypeDefinition(f,l);break}case 47:{this.initializeVariables(f,l);break}default:assert(!1)}}return l!=o&&It(l,o),o}initializeTypeDefinition(e,r){let n=e.name.text,s=new Xe(n,r,e,this.checkDecorators(e.decorators,0));r.add(n,s)}initializeVariables(e,r){let n=e.declarations;for(let s=0,a=n.length;s<a;++s){let l=n[s],o=l.name.text,p=1025;l.is(32768)&&(p|=128),l.is(8)&&(p|=64),l.range.source.isLibrary&&(p|=512);let c=new Tr(o,r,this.checkDecorators(l.decorators,p),l);c.hasDecorator(512)&&!tt.has(c.internalName)&&this.error(100,l.range,`Builtin '${c.internalName}'`),r.add(o,c)}}},ut=(x=>(x[x.Global=0]="Global",x[x.Local=1]="Local",x[x.Enum=2]="Enum",x[x.EnumValue=3]="EnumValue",x[x.FunctionPrototype=4]="FunctionPrototype",x[x.Function=5]="Function",x[x.ClassPrototype=6]="ClassPrototype",x[x.Class=7]="Class",x[x.InterfacePrototype=8]="InterfacePrototype",x[x.Interface=9]="Interface",x[x.PropertyPrototype=10]="PropertyPrototype",x[x.Property=11]="Property",x[x.Namespace=12]="Namespace",x[x.File=13]="File",x[x.TypeDefinition=14]="TypeDefinition",x[x.IndexSignature=15]="IndexSignature",x))(ut||{}),Ht=(d=>(d[d.None=0]="None",d[d.Global=1]="Global",d[d.OperatorBinary=2]="OperatorBinary",d[d.OperatorPrefix=4]="OperatorPrefix",d[d.OperatorPostfix=8]="OperatorPostfix",d[d.Unmanaged=16]="Unmanaged",d[d.Final=32]="Final",d[d.Inline=64]="Inline",d[d.External=128]="External",d[d.ExternalJs=256]="ExternalJs",d[d.Builtin=512]="Builtin",d[d.Lazy=1024]="Lazy",d[d.Unsafe=2048]="Unsafe",d))(Ht||{});(i=>{function t(e){switch(e){case 1:return 1;case 2:case 3:return 2;case 4:return 4;case 5:return 8;case 6:return 16;case 7:return 32;case 8:return 64;case 9:return 128;case 10:return 256;case 11:return 512;case 12:return 1024;case 13:return 2048;default:return 0}}i.fromKind=t})(Ht||={});var Vn=class{constructor(i,e,r,n,s){this.kind=i;this.name=e;this.internalName=r;this.program=n;this.flags=0;this.decoratorFlags=0;this.members=null;this.shadowType=null;this.program=n,this.name=e,this.internalName=r,s?this.parent=s:(assert(this.kind==13),this.parent=this)}get file(){let i=this;do if(i=i.parent,i.kind==13)return i;while(!0)}is(i){return(this.flags&i)==i}isAny(i){return(this.flags&i)!=0}set(i){this.flags|=i}unset(i){this.flags&=~i}hasDecorator(i){return(this.decoratorFlags&i)==i}hasAnyDecorator(i){return(this.decoratorFlags&i)!=0}getMember(i){let e=this.members;return e&&e.has(i)?assert(e.get(i)):null}lookup(i,e=!1){return this.parent.lookup(i,e)}add(i,e,r=null){let n=e.declaration,s=this.members;if(!s)this.members=s=new Map;else if(s.has(i)){let l=assert(s.get(i));if(l.parent==this){let o=Vp(l,e);if(o)e=o;else{let p=r||e.identifierNode;return On(l.kind)?this.program.errorRelated(2300,p.range,l.identifierNode.range,p.text):this.program.error(2300,p.range,p.text),!1}}}s.set(i,e);let a=this.program;return(e.kind!=4||!e.isBound)&&(a.elementsByName.set(e.internalName,e),a.elementsByDeclaration.set(n,e)),!0}get isPublic(){return!this.isAny(1536)}get isImplicitlyPublic(){return this.isPublic&&!this.is(256)}visibilityEquals(i){if(this.isPublic==i.isPublic)return!0;let e=1536;return(this.flags&e)==(i.flags&e)}visibilityNoLessThan(i){return this.isPublic?!0:this.is(512)?i.is(512):this.is(1024)?i.isAny(1536):assert(!1)}get isBound(){switch(this.parent.kind){case 7:case 9:return!0}return!1}getBoundClassOrInterface(){let i=this.parent;switch(i.kind){case 7:case 9:return i}return null}toString(){return`${this.internalName}, kind=${this.kind}`}},Hy=new Set;function On(t){return Hy.has(t)}var Qt=class extends Vn{constructor(e,r,n,s,a,l){super(e,r,n,s,a);this.declaration=l;Hy.add(e),this.declaration=l,this.flags=l.flags}get isDeclaredInLibrary(){return this.declaration.range.source.isLibrary}get identifierNode(){return this.declaration.name}get identifierAndSignatureRange(){let e=this.declaration,r=e.name;if(e.kind==55||e.kind==58){let n=e.signature;if(r.range.source==n.range.source)return ae.join(r.range,n.range)}return r.range}get decoratorNodes(){return this.declaration.decorators}},jy=new Set;function Al(t){return jy.has(t)}var St=class extends Qt{constructor(e,r,n,s,a,l){super(e,r,n,s,a,l);this.type=u.void;jy.add(e)}setType(e){assert(!this.is(4194304)),this.type=e,this.set(4194304)}},qn=class extends Vn{constructor(e,r){super(13,r.normalizedPath,r.internalPath,e,null);this.source=r;this.exports=null;this.exportsStar=null;this.aliasNamespaces=new Array;this.source=r,assert(!e.filesByName.has(this.internalName)),e.filesByName.set(this.internalName,this);let n=this.program.makeNativeFunction(`start:${this.internalName}`,De.create(e,[],u.void),this);n.internalName=n.name,this.startFunction=n}add(e,r,n=null){return r.hasDecorator(1)&&(r=this.program.ensureGlobal(e,r)),super.add(e,r,n)?(r=assert(this.getMember(e)),r.is(2)&&!n&&this.ensureExport(r.name,r),!0):!1}getMember(e){let r=super.getMember(e);if(r)return r;let n=this.exportsStar;if(n){for(let s=0,a=n.length;s<a;++s)if(r=n[s].getMember(e))return r}return null}lookup(e,r=!1){let n=this.getMember(e);return n||this.program.lookup(e)}ensureExport(e,r){let n=this.exports;n||(this.exports=n=new Map),n.set(e,r),this.source.sourceKind==3&&this.program.ensureGlobal(e,r);for(let s=0;s<this.aliasNamespaces.length;s++)this.aliasNamespaces[s].add(e,r)}ensureExportStar(e){let r=this.exportsStar;if(!r)this.exportsStar=r=[];else if(r.includes(e))return;r.push(e)}lookupExport(e){let r=this.exports;if(r&&r.has(e))return assert(r.get(e));let n=this.exportsStar;if(n)for(let s=0,a=n.length;s<a;++s){let l=n[s].lookupExport(e);if(l)return l}return null}asAliasNamespace(e,r,n){let s=this.program.makeNativeNamespaceDeclaration(e);s.name=n;let a=new Wn(e,r,s);return a.set(67108864),this.copyExportsToNamespace(a),this.aliasNamespaces.push(a),a}copyExportsToNamespace(e){let r=this.exports;if(r)for(let s=Map_keys(r),a=0,l=s.length;a<l;++a){let o=unchecked(s[a]),p=assert(r.get(o));e.add(o,p)}let n=this.exportsStar;if(n)for(let s=0,a=n.length;s<a;++s)n[s].copyExportsToNamespace(e)}},Xe=class extends St{constructor(i,e,r,n=0){super(14,i,Le(i,e,!1),e.program,e,r),this.decoratorFlags=n}get typeParameterNodes(){return this.declaration.typeParameters}get typeNode(){return this.declaration.type}},Wn=class extends Qt{constructor(i,e,r,n=0){super(12,i,Le(i,e,!1),e.program,e,r),this.decoratorFlags=n}lookup(i,e=!1){let r=this.getMember(i);return r||super.lookup(i,e)}},Rl=class extends St{constructor(i,e,r,n=0){super(2,i,Le(i,e,!1),e.program,e,r),this.decoratorFlags=n,this.setType(u.i32)}lookup(i,e=!1){let r=this.getMember(i);return r||super.lookup(i,e)}},Up=(r=>(r[r.None=0]="None",r[r.Integer=1]="Integer",r[r.Float=2]="Float",r))(Up||{}),Ar=class extends St{constructor(e,r,n,s=n.program.makeNativeVariableDeclaration(r)){super(e,r,Le(r,n,s.is(262144)),n.program,n,s);this.constantValueKind=0;this.constantIntegerValue=i64_zero;this.constantFloatValue=0;this.flags=s.flags}get typeNode(){return this.declaration.type}get initializerNode(){return this.declaration.initializer}setConstantIntegerValue(e,r){assert(r.isIntegerInclReference),this.type=r,this.constantValueKind=1,this.constantIntegerValue=e,this.set(37748744)}setConstantFloatValue(e,r){assert(r.isFloatValue),this.type=r,this.constantValueKind=2,this.constantFloatValue=e,this.set(37748744)}},kl=class extends Ar{constructor(e,r,n,s=0){super(3,e,r,n);this.isImmutable=!1;this.decoratorFlags=s,this.setType(u.i32)}get valueNode(){return this.declaration.initializer}},Tr=class extends Ar{constructor(i,e,r,n=e.program.makeNativeVariableDeclaration(i)){super(0,i,e,n),this.decoratorFlags=r}},zp=class{constructor(i,e,r=null){this.name=i;this.type=e;this.initializer=r}},Ue=class extends Ar{constructor(e,r,n,s,a=s.program.makeNativeVariableDeclaration(e)){super(1,e,s,a);this.index=r;this.originalName=e,this.index=r,assert(n!=u.void),this.setType(n)}declaredByFlow(e){return this.parent==e.targetFunction}},He=class t extends Qt{constructor(e,r,n,s=0){super(4,e,Le(e,r,n.is(262144)),r.program,r,n);this.operatorKind=0;this.instances=null;this.unboundOverrides=null;this.boundPrototypes=null;this.decoratorFlags=s}get typeParameterNodes(){return this.declaration.typeParameters}get functionTypeNode(){return this.declaration.signature}get bodyNode(){return this.declaration.body}get arrowKind(){return this.declaration.arrowKind}toBound(e){assert(this.is(262144)),assert(!this.isBound);let r=this.boundPrototypes;if(!r)this.boundPrototypes=r=new Map;else if(r.has(e))return assert(r.get(e));let n=this.declaration;assert(n.kind==58);let s=new t(this.name,e,n,this.decoratorFlags);return s.flags=this.flags,s.operatorKind=this.operatorKind,s.unboundOverrides=this.unboundOverrides,r.set(e,s),s}getResolvedInstance(e){let r=this.instances;return r&&r.has(e)?assert(r.get(e)):null}setResolvedInstance(e,r){let n=this.instances;n?assert(!n.has(e)):this.instances=n=new Map,n.set(e,r)}},ct=class t extends St{constructor(e,r,n,s,a=null){super(5,e,Le(e,r.parent,r.is(262144)),r.program,r.parent,r.declaration);this.localsByIndex=[];this.debugLocations=new Map;this.ref=0;this.varargsStub=null;this.overrideStub=null;this.memorySegment=null;this.nextInlineId=0;this.nextAnonymousId=0;this.nextBreakId=0;this.breakStack=null;this.prototype=r,this.typeArguments=n,this.signature=s,this.flags=r.flags|4194304,this.decoratorFlags=r.decoratorFlags,this.contextualTypeArguments=a,this.original=this;let l=r.program;this.type=s.type;let o=vt.createDefault(this);if(this.flow=o,!r.is(32768)){let p=0,c=s.thisType;if(c){let f=new Ue(P.this_,p++,c,this),d=this.flow.scopedLocals;d||(this.flow.scopedLocals=d=new Map),d.set(P.this_,f),this.localsByIndex[f.index]=f,o.setLocalFlag(f.index,8)}let _=s.parameterTypes;for(let f=0,d=_.length;f<d;++f){let g=_[f],E=this.getParameterName(f),x=new Ue(E,p++,g,this),A=this.flow.scopedLocals;A||(this.flow.scopedLocals=A=new Map),A.set(E,x),this.localsByIndex[x.index]=x,o.setLocalFlag(x.index,8)}}Dp(l,this)}getNonParameterLocalTypes(){let e=this.localsByIndex,r=this.signature,n=e.length,s=r.parameterTypes.length;r.thisType&&++s;let a=n-s,l=new Array(a);for(let o=0;o<a;++o)l[o]=e[s+o].type;return l}getParameterName(e){let r=this.declaration.signature.parameters;return r.length>e?r[e].name.text:Xy(e)}newStub(e,r=this.signature.requiredParameters){let n=new t(this.original.name+Zu+e,this.prototype,this.typeArguments,this.signature.clone(r),this.contextualTypeArguments);return n.original=this.original,n.set(this.flags&-8388609|134217728),n}addLocal(e,r=null,n=null){let s=this.localsByIndex,a=s.length,l=r??a.toString();n||(n=this.program.makeNativeVariableDeclaration(l));let o=new Ue(l,a,e,this,n);if(r){let p=this.flow,c=p.scopedLocals;if(c||(p.scopedLocals=c=new Map),c.has(r))throw new Error("duplicate local name");c.set(r,o)}return s[a]=o,o}lookup(e,r=!1){if(!r){let n=this.flow.scopedLocals;if(n&&n.has(e))return assert(n.get(e))}return super.lookup(e,r)}finalize(e,r){this.ref=r;let n=this.breakStack;assert(!n||!n.length),this.breakStack=null,this.addDebugInfo(e,r)}addDebugInfo(e,r){if(this.program.options.sourceMap){let n=this.debugLocations;for(let s=Map_keys(n),a=0,l=s.length;a<l;++a){let o=s[a],p=assert(n.get(o)),c=p.source;e.setDebugLocation(r,o,c.debugInfoIndex,c.lineAt(p.start),c.columnAt()-1)}}if(this.program.options.debugInfo){let n=new Set,s=this.localsByIndex;for(let a=0,l=s.length;a<l;a++){let o=s[a].name;n.has(o)&&(o=`${o}|${a}`),n.add(o),e.setLocalName(r,a,o)}}}},xi=class t extends Qt{constructor(e,r,n){super(10,e,Le(e,r,n.is(262144)),r.program,r,n);this.fieldDeclaration=null;this.getterPrototype=null;this.setterPrototype=null;this.instance=null;this.boundPrototypes=null;this.flags&=-6145}static forField(e,r,n,s){let a=fe.native.range,l=n.type;l||(l=N.createOmittedType(n.name.range.atEnd));let o=new yr(n.name,n.decorators,n.flags|262144|2048,null,new dr([],l,null,!1,a),null,a),p=new yr(n.name,n.decorators,n.flags|262144|4096,null,new dr([new oi(0,n.name,l,null,a)],new hr(new li(new qe("",!1,a),null,a),null,!1,a),null,!1,a),null,a),c=new t(e,r,o);return c.fieldDeclaration=n,c.decoratorFlags=s,c.getterPrototype=new He(Ds+e,r,o,s),c.setterPrototype=new He(Vs+e,r,p,s),c}get isField(){return this.fieldDeclaration!=null}get typeNode(){let e=this.fieldDeclaration;if(e)return e.type;let r=this.getterPrototype;if(r){let s=r.declaration;if(s.kind==55)return s.signature.returnType}let n=this.setterPrototype;if(n){let s=n.declaration;if(s.kind==55){let a=s.signature.parameters;if(a.length)return a[0].type}}return null}get initializerNode(){let e=this.fieldDeclaration;return e?e.initializer:null}get parameterIndex(){let e=this.fieldDeclaration;return e?e.parameterIndex:-1}get thisType(){let e=this.parent;return assert(e.kind==7),e.type}toBound(e){assert(this.is(262144)),assert(!this.isBound);let r=this.boundPrototypes;if(!r)this.boundPrototypes=r=new Map;else if(r.has(e))return assert(r.get(e));let n=this.declaration;assert(n.kind==58);let s=new t(this.name,e,n);s.flags=this.flags,s.fieldDeclaration=this.fieldDeclaration;let a=this.getterPrototype;a&&(s.getterPrototype=a.toBound(e));let l=this.setterPrototype;return l&&(s.setterPrototype=l.toBound(e)),r.set(e,s),s}},Nn=class extends Ar{constructor(e,r){super(11,e.name,r,e.isField?assert(e.fieldDeclaration):N.createVariableDeclaration(e.identifierNode,null,e.flags&262144,null,null,e.identifierNode.range));this.getterInstance=null;this.setterInstance=null;this.memoryOffset=-1;this.prototype=e,this.flags=e.flags,this.decoratorFlags=e.decoratorFlags,this.is(262144)&&Dp(this.program,this)}get isField(){return this.prototype.isField}checkVisibility(e){let r=this.getterInstance,n=this.setterInstance;r&&n&&!r.visibilityNoLessThan(n)&&e.errorRelated(2808,r.identifierNode.range,n.identifierNode.range,r.identifierNode.text)}},Mn=class extends St{constructor(i){super(15,"[]",i.internalName+"[]",i.program,i,i.program.makeNativeVariableDeclaration("[]"))}getGetterInstance(i){return this.parent.lookupOverload(1,i)}getSetterInstance(i){return this.parent.lookupOverload(2,i)}},Kn=class extends Qt{constructor(e,r,n,s=0,a=!1){super(a?8:6,e,Le(e,r,n.is(262144)),r.program,r,n);this.instanceMembers=null;this.basePrototype=null;this.interfacePrototypes=null;this.constructorPrototype=null;this.operatorOverloadPrototypes=new Map;this.instances=null;this.extenders=new Set;this.implicitlyExtendsObject=!1;this.decoratorFlags=s}get typeParameterNodes(){return this.declaration.typeParameters}get extendsNode(){return this.declaration.extendsType}get implementsNodes(){return this.declaration.implementsTypes}get isBuiltinArray(){let e=this.program.arrayBufferViewInstance;return e&&this.extends(e.prototype)}extends(e){let r=this,n=new Set;do{if(n.has(r))break;if(n.add(r),r==e)return!0;r=r.basePrototype}while(r);return!1}addInstance(e,r){let n=r.declaration,s=this.instanceMembers;if(!s)this.instanceMembers=s=new Map;else if(s.has(e)){let a=assert(s.get(e)),l=Vp(a,r);if(!l)return On(a.kind)?this.program.errorRelated(2300,r.identifierNode.range,a.declaration.name.range,r.identifierNode.text):this.program.error(2300,r.identifierNode.range,r.identifierNode.text),!1;r=l}return s.set(e,r),r.is(2)&&this.is(1048576)&&r.set(1048576),this.program.elementsByDeclaration.set(n,r),!0}getResolvedInstance(e){let r=this.instances;return r&&r.has(e)?r.get(e):null}setResolvedInstance(e,r){let n=this.instances;n?assert(!n.has(e)):this.instances=n=new Map,n.set(e,r)}},Kt=class extends St{constructor(e,r,n=null,s=!1){super(s?9:7,e,Le(e,r.parent,r.is(262144)),r.program,r.parent,r.declaration);this.base=null;this.interfaces=null;this.contextualTypeArguments=null;this.nextMemoryOffset=0;this.constructorInstance=null;this.operatorOverloads=null;this.indexSignature=null;this._id=0;this.rttiFlags=0;this.wrappedType=null;this.extenders=null;this.implementers=null;this.didCheckFieldInitialization=!1;this.visitRef=0;this.prototype=r,this.flags=r.flags,this.decoratorFlags=r.decoratorFlags,this.typeArguments=n;let a=this.program,l=a.options.usizeType,o=new u(l.kind,l.flags&-129|256,l.size);if(o.classReference=this,this.setType(o),!this.hasDecorator(16)){let c=a.nextClassId++;this._id=c,a.managedClasses.set(c,this)}let p=r.typeParameterNodes;if(n){let c=n.length;if(!p||c!=p.length)throw new Error("type argument count mismatch");if(c){let _=this.contextualTypeArguments;_||(this.contextualTypeArguments=_=new Map);for(let f=0;f<c;++f)_.set(p[f].name.text,n[f])}}else if(p&&p.length>0)throw new Error("type argument count mismatch");Dp(a,this)}get id(){return this._id}get isBuiltinArray(){return this.prototype.isBuiltinArray}get isArrayLike(){if(this.isBuiltinArray)return!0;let e=this.getMember("length");return e?(e.kind==11&&e.getterInstance!=null||e.kind==10&&e.getterPrototype!=null)&&(this.lookupOverload(1)!=null||this.lookupOverload(3)!=null):!1}get isInterface(){return this.kind==9}static leastUpperBound(e,r){if(e==r)return e;let n=new Set;for(n.add(e),n.add(r);;){let s=e.base,a=r.base;if(!s&&!a)return null;if(s){if(n.has(s))return s;n.add(e=s)}if(a){if(n.has(a))return a;n.add(r=a)}}}setBase(e){assert(!this.base),this.base=e;let r=e.contextualTypeArguments;if(r){let a=this.contextualTypeArguments;for(let l=Map_keys(r),o=0,p=l.length;o<p;++o){let c=unchecked(l[o]),_=assert(r.get(c));a?a.has(c)||a.set(c,_):(this.contextualTypeArguments=a=new Map,a.set(c,_))}}e.propagateExtenderUp(this);let n=this.extenders;if(n)for(let a=Set_values(n),l=0,o=a.length;l<o;++l){let p=a[l];e.propagateExtenderUp(p)}let s=e;do{let a=s.interfaces;if(a)for(let l=Set_values(a),o=0,p=l.length;o<p;++o){let c=l[o];this.propagateInterfaceDown(c)}s=s.base}while(s)}propagateExtenderUp(e){let r=this;do{let n=r.extenders;n||(r.extenders=n=new Set),n.add(e),r=r.base}while(r)}propagateInterfaceDown(e){let r=e,n=this.extenders;do{let s=r.implementers;if(s||(r.implementers=s=new Set),s.add(this),n)for(let a=Set_values(n),l=0,o=a.length;l<o;++l){let p=a[l];s.add(p)}r=r.base}while(r)}addInterface(e){let r=this.interfaces;r||(this.interfaces=r=new Set),r.add(e),this.propagateInterfaceDown(e)}isAssignableTo(e){return e.isInterface?this.isInterface?this==e||this.extends(e):this.implements(e):this.isInterface?e==this.program.objectInstance:this==e||this.extends(e)}hasSubclassAssignableTo(e){return e.isInterface?this.isInterface?this.hasImplementerImplementing(e):this.hasExtenderImplementing(e):this.isInterface?this.hasImplementer(e):this.hasExtender(e)}lookupOverload(e,r=!1){if(r)switch(e){case 1:{let s=this.lookupOverload(3);if(s)return s;break}case 2:{let s=this.lookupOverload(4);if(s)return s;break}default:assert(!1)}let n=this;do{let s=n.operatorOverloads;if(s!=null&&s.has(e))return assert(s.get(e));n=n.base}while(n);return null}getMethod(e,r=null){let n=this.getMember(e);return n&&n.kind==4?this.program.resolver.resolveFunction(n,r):null}offsetof(e){let r=assert(this.getMember(e));assert(r.kind==10);let s=r.instance;return s?(assert(s.isField&&s.memoryOffset>=0),s.memoryOffset):0}createBuffer(e=0){let r=this.program,n=this.nextMemoryOffset+e,s=r.computeBlockSize(n,!0),a=new Uint8Array(r.blockOverhead+s),l=r.OBJECTInstance;return l.writeField("mmInfo",s,a,0),l.writeField("gcInfo",0,a,0),l.writeField("gcInfo2",0,a,0),l.writeField("rtId",this.id,a,0),l.writeField("rtSize",n,a,0),a}writeField(e,r,n,s=this.program.totalOverhead){let a=this.getMember(e);if(a&&a.kind==10){let o=a.instance;if(!o)return 0;assert(o.isField&&o.memoryOffset>=0);let p=s+o.memoryOffset,c=o.type.kind;switch(c){case 1:case 6:return assert(!i64_is(r)),ce(i32(r),n,p),1;case 2:case 7:return assert(!i64_is(r)),Dt(i32(r),n,p),2;case 3:case 8:return assert(!i64_is(r)),he(i32(r),n,p),4;case 5:case 10:return this.program.options.isWasm64?(i64_is(r)?ti(r,n,p):Ws(i32(r),n,p,c==10),8):(i64_is(r)?Yu(r,n,p,c==10):he(i32(r),n,p),4);case 4:case 9:return i64_is(r)?ti(r,n,p):Ws(i32(r),n,p,c==9),8;case 11:return assert(!i64_is(r)),ur(f32(r),n,p),4;case 12:return assert(!i64_is(r)),pr(f64(r),n,p),8}}return assert(!1),0}extendsPrototype(e){return this.prototype.extends(e)}getTypeArgumentsTo(e){let r=this;do{if(r.prototype==e)return r.typeArguments;r=r.base}while(r);return null}getArrayValueType(){let e=this,r=this.program,n=r.arrayPrototype;if(this.extendsPrototype(n))return this.getTypeArgumentsTo(n)[0];let s=r.staticArrayPrototype;if(this.extendsPrototype(s))return this.getTypeArgumentsTo(s)[0];let a=r.arrayBufferViewInstance;for(;e.base!=a;)e=assert(e.base);let l=e.prototype;switch(l.name.charCodeAt(0)){case 70:{if(l==r.float32ArrayPrototype)return u.f32;if(l==r.float64ArrayPrototype)return u.f64;break}case 73:{if(l==r.int8ArrayPrototype)return u.i8;if(l==r.int16ArrayPrototype)return u.i16;if(l==r.int32ArrayPrototype)return u.i32;if(l==r.int64ArrayPrototype)return u.i64;break}case 85:{if(l==r.uint8ArrayPrototype)return u.u8;if(l==r.uint8ClampedArrayPrototype)return u.u8;if(l==r.uint16ArrayPrototype)return u.u16;if(l==r.uint32ArrayPrototype)return u.u32;if(l==r.uint64ArrayPrototype)return u.u64;break}}return assert(!1),u.void}get isPointerfree(){let e=this.program,r=this.members;if(r){for(let n=Map_values(r),s=0,a=n.length;s<a;++s){let l=unchecked(n[s]);if(l.kind==10){let p=l.instance;if(!p)continue;if(p.isField&&p.type.isManaged)return!1}}if(r.has(P.visit)){let n=this.prototype;if(n==e.arrayPrototype||n==e.staticArrayPrototype||n==e.setPrototype||n==e.mapPrototype){let s=assert(this.getTypeArgumentsTo(n));for(let a=0,l=s.length;a<l;++a)if(s[a].isManaged)return!1;return!0}return!1}}return!0}extends(e){return e.hasExtender(this)}hasExtender(e){let r=this.extenders;return r!=null&&r.has(e)}hasExtenderImplementing(e){let r=this.extenders;if(r){for(let n=Set_values(r),s=0,a=n.length;s<a;++s)if(n[s].implements(e))return!0}return!1}implements(e){return e.hasImplementer(this)}hasImplementer(e){let r=this.implementers;return r!=null&&r.has(e)}hasImplementerImplementing(e){let r=this.implementers;if(r){for(let n=Set_values(r),s=0,a=n.length;s<a;++s)if(n[s].implements(e))return!0}return!1}},wl=class extends Kn{constructor(i,e,r,n){super(i,e,r,n,!0)}},Gn=class extends Kt{constructor(i,e,r=null){super(i,e,r,!0)}};function Dp(t,i){assert(!t.instancesByName.has(i.internalName)),t.instancesByName.set(i.internalName,i)}function Vp(t,i){if(assert(t.program==i.program),i.members)return null;let e=null;switch(t.kind){case 4:{switch(i.kind){case 12:{It(i,t),e=t;break}case 14:{t.shadowType||(t.shadowType=i,It(i,t),e=t);break}}break}case 6:case 2:{if(i.kind==12){It(i,t),e=t;break}break}case 12:{switch(i.kind){case 2:case 6:case 4:{It(t,i),e=i;break}case 12:{It(i,t),e=t;break}case 14:{t.shadowType||(t.shadowType=i,It(i,t),e=t);break}}break}case 0:{i.kind==14&&(t.shadowType||(t.shadowType=i,It(i,t),e=t));break}case 14:{switch(i.kind){case 0:case 4:case 12:{i.shadowType||(i.shadowType=t,It(t,i),e=i);break}}break}}if(e){let r=t.is(2)||t.hasDecorator(1),n=i.is(2)||i.hasDecorator(1);r!=n&&t.program.error(2395,e.identifierNode.range,e.identifierNode.text)}return e}function It(t,i){let e=t.members;if(e){let r=i.members;r||(i.members=r=new Map);for(let n=Map_keys(e),s=0,a=n.length;s<a;++s){let l=unchecked(n[s]),o=assert(e.get(l));r.set(l,o)}}}function Le(t,i,e,r=!1){switch(i.kind){case 13:return r?t:i.internalName+Ye+t;case 5:return r?t:(assert(!e),i.internalName+Xu+t);case 10:case 11:i=i.parent;default:return Le(i.name,i.parent,i.is(262144),r)+(e?ju:ln)+t}}var Mp=[];function Xy(t){for(let i=Mp.length;i<=t;++i)Mp.push(`$${i}`);return Mp[t]}var Wt=(q=>(q[q.Bool=0]="Bool",q[q.I8=1]="I8",q[q.I16=2]="I16",q[q.I32=3]="I32",q[q.I64=4]="I64",q[q.Isize=5]="Isize",q[q.U8=6]="U8",q[q.U16=7]="U16",q[q.U32=8]="U32",q[q.U64=9]="U64",q[q.Usize=10]="Usize",q[q.F32=11]="F32",q[q.F64=12]="F64",q[q.V128=13]="V128",q[q.Extern=14]="Extern",q[q.Func=15]="Func",q[q.Any=16]="Any",q[q.Eq=17]="Eq",q[q.Struct=18]="Struct",q[q.Array=19]="Array",q[q.I31=20]="I31",q[q.String=21]="String",q[q.StringviewWTF8=22]="StringviewWTF8",q[q.StringviewWTF16=23]="StringviewWTF16",q[q.StringviewIter=24]="StringviewIter",q[q.Void=25]="Void",q))(Wt||{}),pt=(E=>(E[E.None=0]="None",E[E.Signed=1]="Signed",E[E.Unsigned=2]="Unsigned",E[E.Integer=4]="Integer",E[E.Float=8]="Float",E[E.Varying=16]="Varying",E[E.Short=32]="Short",E[E.Long=64]="Long",E[E.Value=128]="Value",E[E.Reference=256]="Reference",E[E.Nullable=512]="Nullable",E[E.Vector=1024]="Vector",E[E.External=2048]="External",E[E.Class=4096]="Class",E[E.Function=8192]="Function",E))(pt||{}),u=class t{constructor(i,e,r){this.classReference=null;this.signatureReference=null;this._nonNullableType=null;this._nullableType=null;this.ref=0;this.kind=i,this.flags=e,this.size=r,e&512?this._nullableType=this:this._nonNullableType=this}get intType(){if(this==t.auto)return this;switch(this.kind){case 0:case 3:case 11:return t.i32;case 1:return t.i8;case 2:return t.i16;case 12:case 4:return t.i64;case 5:return this.size==64?t.isize64:t.isize32;case 6:return t.u8;case 7:return t.u16;case 8:return t.u32;case 9:return t.u64;case 10:return this.size==64?t.usize64:t.usize32;default:return t.i32}}get exceptVoid(){return this.kind==25?t.auto:this}get byteSize(){return this.size+7>>>3}get alignLog2(){return 31-clz(this.byteSize)}get isValue(){return this.is(128)}get isIntegerValue(){return this.is(132)}get isShortIntegerValue(){return this.is(164)}get isLongIntegerValue(){return this.is(196)}get isSignedIntegerValue(){return this.is(133)}get isUnsignedIntegerValue(){return this.is(134)}get isVaryingIntegerValue(){return this.is(148)}get isIntegerInclReference(){return this.is(4)}get isFloatValue(){return this.is(136)}get isNumericValue(){return this.isIntegerValue||this.isFloatValue}get isBooleanValue(){return this==t.bool}get isVectorValue(){return this.is(1152)}get isReference(){return this.is(256)}get isNullableReference(){return this.is(768)}get isInternalReference(){return this.is(260)}get isExternalReference(){return this.is(2304)}get isNullableExternalReference(){return this.is(2816)}getClass(){return this.isInternalReference?this.classReference:null}get isClass(){return this.getClass()!=null}getClassOrWrapper(i){let e=this.getClass();if(e)return e;{let r=this.getSignature();if(r){let n=r.type,s=assert(i.resolver.resolveClass(i.functionPrototype,[n]));return s.wrappedType=n,s}else{let n=i.wrapperClasses;if(n.has(this))return assert(n.get(this))}}return null}lookupOverload(i,e){let r=this.getClassOrWrapper(e);return r?r.lookupOverload(i):null}getSignature(){return this.isInternalReference?this.signatureReference:null}get isFunction(){return this.getSignature()!=null}get isManaged(){if(this.isInternalReference){let i=this.classReference;return i?!i.hasDecorator(16):this.signatureReference!=null}return!1}get isUnmanaged(){let i=this.classReference;return i!=null&&i.hasDecorator(16)}get isMemory(){switch(this.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:return!0}return!1}get nonNullableType(){return assert(this._nonNullableType)}get nullableType(){return this.isReference?this.asNullable():null}computeSmallIntegerShift(i){return i.size-this.size}computeSmallIntegerMask(i){let e=this.size;return this.is(2)||(e-=1),-1>>>i.size-e}is(i){return(this.flags&i)==i}isAny(i){return(this.flags&i)!=0}asNullable(){assert(this.isReference);let i=this._nullableType;return i||(assert(!this.isNullableReference),this._nullableType=i=new t(this.kind,this.flags|512,this.size),i.classReference=this.classReference,i.signatureReference=this.signatureReference,i._nonNullableType=this),i}toUnsigned(){switch(this.kind){case 1:return t.u8;case 2:return t.u16;case 3:return t.u32;case 4:return t.u64;case 5:return this.size==64?t.usize64:t.usize32}return this}equals(i){if(this.kind!=i.kind)return!1;if(this.isReference){let e=this.signatureReference,r=i.signatureReference;return this.classReference==i.classReference&&e==r&&this.isNullableReference==i.isNullableReference}return!0}isAssignableTo(i,e=!1){let r,n,s,a;if(this.isReference){if(i.isReference&&(!this.isNullableReference||i.isNullableReference)){if(r=this.getClass()){if(n=i.getClass())return r.isAssignableTo(n)}else if(s=this.getSignature()){if(a=i.getSignature())return s.isAssignableTo(a)}else if(this.isExternalReference&&(this.kind==i.kind||i.kind==16&&this.kind!=14))return!0}}else if(!i.isReference){if(this.isIntegerValue)if(i.isIntegerValue){if(!e||this.isBooleanValue||this.isSignedIntegerValue==i.isSignedIntegerValue)return this.size<=i.size}else{if(i.kind==11)return this.size<=23;if(i.kind==12)return this.size<=52}else if(this.isFloatValue){if(i.isFloatValue)return this.size<=i.size}else if(this.isVectorValue&&i.isVectorValue)return this.size==i.size}return!1}isStrictlyAssignableTo(i,e=!1){return this.isReference?this.isAssignableTo(i):i.isReference?!1:this.isIntegerValue?i.isIntegerValue&&i.size==this.size&&(!e||this.isSignedIntegerValue==i.isSignedIntegerValue):this.kind==i.kind}hasSubtypeAssignableTo(i){let e=this.getClass(),r=i.getClass();return!e||!r?!1:e.hasSubclassAssignableTo(r)}isChangeableTo(i){if(this.is(4)&&i.is(4)){let e=this.size;return e==i.size&&(e>=32||this.is(1)==i.is(1))}return this.kind==i.kind}canExtendOrImplement(i){let e=this.getClass(),r=i.getClass();if(!e||!r||this.isManaged!=i.isManaged)return!1;if(this.isInternalReference){if(!i.isInternalReference)return!1}else if(this.isExternalReference){if(!i.isExternalReference)return!1}else return!1;return!0}static commonType(i,e,r=t.auto,n=!1){if(i.isInternalReference){if(!e.isInternalReference)return null;if(r!=t.void&&i.isAssignableTo(r)&&e.isAssignableTo(r))return r;let s=i.getClass(),a=e.getClass();if(s&&a){let l=Kt.leastUpperBound(s,a);if(l)return i.is(512)||e.is(512)?l.type.asNullable():l.type}}else if(e.isInternalReference)return null;return e.isAssignableTo(i,n)?i:i.isAssignableTo(e,n)?e:null}kindToString(){switch(this.kind){case 0:return P.bool;case 1:return P.i8;case 2:return P.i16;case 3:return P.i32;case 4:return P.i64;case 5:return P.isize;case 6:return P.u8;case 7:return P.u16;case 8:return P.u32;case 9:return P.u64;case 10:return P.usize;case 11:return P.f32;case 12:return P.f64;case 13:return P.v128;case 15:return P.ref_func;case 14:return P.ref_extern;case 16:return P.ref_any;case 17:return P.ref_eq;case 18:return P.ref_struct;case 19:return P.ref_array;case 20:return P.ref_i31;case 21:return P.ref_string;case 22:return P.ref_stringview_wtf8;case 23:return P.ref_stringview_wtf16;case 24:return P.ref_stringview_iter;default:assert(!1);case 25:return P.void_}}toString(i=!1){let e=i?"|null":" | null";if(this.isReference){let r=this.getClass();if(r)return this.isNullableReference?r.internalName+e:r.internalName;{let n=this.getSignature();return n?this.isNullableReference?`(${n.toString(i)})${e}`:n.toString(i):this.isNullableReference?`${this.kindToString()}${e}`:this.kindToString()}}return this==t.auto?"auto":this.kindToString()}toRef(){switch(this.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:return L.I32;case 5:case 10:if(this.size!=64)return L.I32;case 4:case 9:return L.I64;case 11:return L.F32;case 12:return L.F64;case 13:return L.V128;case 15:return le(ue.Func,this.is(512));case 14:return le(ue.Extern,this.is(512));case 16:return le(ue.Any,this.is(512));case 17:return le(ue.Eq,this.is(512));case 18:return le(ue.Struct,this.is(512));case 19:return le(ue.Array,this.is(512));case 20:return le(ue.I31,this.is(512));case 21:return le(ue.String,this.is(512));case 22:return le(ue.StringviewWTF8,this.is(512));case 23:return le(ue.StringviewWTF16,this.is(512));case 24:return le(ue.StringviewIter,this.is(512));case 25:return L.None}return assert(!1),Pn(this)}static{this.i8=new t(1,165,8)}static{this.i16=new t(2,165,16)}static{this.i32=new t(3,133,32)}static{this.i64=new t(4,197,64)}static{this.isize32=new t(5,149,32)}static{this.isize64=new t(5,213,64)}static{this.u8=new t(6,166,8)}static{this.u16=new t(7,166,16)}static{this.u32=new t(8,134,32)}static{this.u64=new t(9,198,64)}static{this.usize32=new t(10,150,32)}static{this.usize64=new t(10,214,64)}static{this.bool=new t(0,166,1)}static{this.f32=new t(11,137,32)}static{this.f64=new t(12,201,64)}static{this.v128=new t(13,1152,128)}static{this.func=new t(15,2304,0)}static{this.extern=new t(14,2304,0)}static{this.any=new t(16,2304,0)}static{this.eq=new t(17,2304,0)}static{this.struct=new t(18,2304,0)}static{this.array=new t(19,2304,0)}static{this.i31=new t(20,2304,0)}static{this.string=new t(21,2304,0)}static{this.stringview_wtf8=new t(22,2304,0)}static{this.stringview_wtf16=new t(23,2304,0)}static{this.stringview_iter=new t(24,2304,0)}static{this.void=new t(25,0,0)}static{this.auto=new t(t.i32.kind,t.i32.flags,t.i32.size)}};function Er(t){let i=t.length,e=new Array(i);for(let r=0;r<i;++r)unchecked(e[r]=t[r].toRef());return e}function El(t){let i=t.length;if(!i)return"";let e=new Array(i);for(let r=0;r<i;++r)unchecked(e[r]=t[r].toString(!0));return e.join(",")}var De=class t{constructor(i,e,r,n,s,a,l,o){this.program=i;this.parameterTypes=e;this.returnType=r;this.thisType=n;this.requiredParameters=s;this.hasRest=a;this.id=l;this.type=o}static create(i,e=[],r=u.void,n=null,s=e?e.length:0,a=!1){let l=i.options.usizeType,o=new u(l.kind,l.flags&-129|256,l.size),p=i.uniqueSignatures,c=i.nextSignatureId,_=new t(i,e,r,n,s,a,c,o),f=_.toString();if(p.has(f)){let d=assert(p.get(f));return assert(_.equals(d)),d}return i.nextSignatureId=c+1,o.signatureReference=_,p.set(f,_),_}get paramRefs(){let i=this.thisType,e=this.parameterTypes,r=e.length;if(!r)return i?i.toRef():L.None;if(i){let n=new Array(1+r);unchecked(n[0]=i.toRef());for(let s=0;s<r;++s)unchecked(n[s+1]=e[s].toRef());return Ke(n)}return Ke(Er(e))}get resultRefs(){return this.returnType.toRef()}equals(i){let e=this.thisType,r=i.thisType;if(e){if(!r||!e.equals(r))return!1}else if(r)return!1;if(this.hasRest!=i.hasRest||!this.returnType.equals(i.returnType))return!1;let n=this.parameterTypes,s=i.parameterTypes,a=n.length;if(a!=s.length)return!1;for(let l=0;l<a;++l){let o=unchecked(n[l]),p=unchecked(s[l]);if(!o.equals(p))return!1}return!0}isAssignableTo(i,e=!1){let r=this.thisType,n=i.thisType;if(r&&n){if(!(e?r.canExtendOrImplement(n):n.isAssignableTo(r)))return!1}else if(r||n)return!1;if(this.hasRest!=i.hasRest)return!1;let s=this.returnType,a=i.returnType;if(!(s==a||s.isAssignableTo(a)))return!1;let l=this.parameterTypes,o=i.parameterTypes,p=l.length;if(p!=o.length)return!1;for(let c=0;c<p;++c){let _=unchecked(l[c]),f=unchecked(o[c]);if(_!=f)return!1}return!0}get hasManagedOperands(){let i=this.thisType;if(i&&i.isManaged)return!0;let e=this.parameterTypes;for(let r=0,n=e.length;r<n;++r)if(unchecked(e[r]).isManaged)return!0;return!1}getManagedOperandIndices(){let i=new Array,e=0,r=this.thisType;r&&(r.isManaged&&i.push(e),++e);let n=this.parameterTypes;for(let s=0,a=n.length;s<a;++s)unchecked(n[s]).isManaged&&i.push(e),++e;return i}get hasVectorValueOperands(){let i=this.thisType;if(i&&i.isVectorValue)return!0;let e=this.parameterTypes;for(let r=0,n=e.length;r<n;++r)if(unchecked(e[r]).isVectorValue)return!0;return!1}getVectorValueOperandIndices(){let i=new Array,e=0,r=this.thisType;r&&(r.isVectorValue&&i.push(e),++e);let n=this.parameterTypes;for(let s=0,a=n.length;s<a;++s)unchecked(n[s]).isVectorValue&&i.push(e),++e;return i}toString(i=!1){let e=new Array;e.push(i?"%28":"(");let r=0,n=this.thisType;n&&(e.push(i?"this:":"this: "),e.push(n.toString(i)),r=1);let s=this.parameterTypes,a=s.length;if(a){let l=this.requiredParameters,o=this.hasRest?a-1:-1;for(let p=0;p<a;++p,++r)r&&e.push(i?"%2C":", "),p==o&&e.push("..."),e.push(s[p].toString(i)),p>=l&&p!=o&&e.push("?")}return e.push(i?"%29=>":") => "),e.push(this.returnType.toString(i)),e.join("")}clone(i=this.requiredParameters,e=this.hasRest){let r=this.parameterTypes,n=r.length,s=new Array(n);for(let a=0;a<n;++a)unchecked(s[a]=r[a]);return t.create(this.program,s,this.returnType,this.thisType,i,e)}};var h;(m=>(m.start="~start",m.started="~started",m.argumentsLength="~argumentsLength",m.setArgumentsLength="~setArgumentsLength",m.abort="~lib/builtins/abort",m.trace="~lib/builtins/trace",m.seed="~lib/builtins/seed",m.isBoolean="~lib/builtins/isBoolean",m.isInteger="~lib/builtins/isInteger",m.isSigned="~lib/builtins/isSigned",m.isFloat="~lib/builtins/isFloat",m.isVector="~lib/builtins/isVector",m.isReference="~lib/builtins/isReference",m.isString="~lib/builtins/isString",m.isArray="~lib/builtins/isArray",m.isArrayLike="~lib/builtins/isArrayLike",m.isFunction="~lib/builtins/isFunction",m.isNullable="~lib/builtins/isNullable",m.isDefined="~lib/builtins/isDefined",m.isConstant="~lib/builtins/isConstant",m.isManaged="~lib/builtins/isManaged",m.isVoid="~lib/builtins/isVoid",m.add="~lib/builtins/add",m.sub="~lib/builtins/sub",m.mul="~lib/builtins/mul",m.div="~lib/builtins/div",m.clz="~lib/builtins/clz",m.ctz="~lib/builtins/ctz",m.popcnt="~lib/builtins/popcnt",m.rotl="~lib/builtins/rotl",m.rotr="~lib/builtins/rotr",m.abs="~lib/builtins/abs",m.max="~lib/builtins/max",m.min="~lib/builtins/min",m.ceil="~lib/builtins/ceil",m.floor="~lib/builtins/floor",m.copysign="~lib/builtins/copysign",m.nearest="~lib/builtins/nearest",m.reinterpret="~lib/builtins/reinterpret",m.sqrt="~lib/builtins/sqrt",m.trunc="~lib/builtins/trunc",m.eq="~lib/builtins/eq",m.ne="~lib/builtins/ne",m.rem="~lib/builtins/rem",m.load="~lib/builtins/load",m.store="~lib/builtins/store",m.atomic_load="~lib/builtins/atomic.load",m.atomic_store="~lib/builtins/atomic.store",m.atomic_add="~lib/builtins/atomic.add",m.atomic_sub="~lib/builtins/atomic.sub",m.atomic_and="~lib/builtins/atomic.and",m.atomic_or="~lib/builtins/atomic.or",m.atomic_xor="~lib/builtins/atomic.xor",m.atomic_xchg="~lib/builtins/atomic.xchg",m.atomic_cmpxchg="~lib/builtins/atomic.cmpxchg",m.atomic_wait="~lib/builtins/atomic.wait",m.atomic_notify="~lib/builtins/atomic.notify",m.atomic_fence="~lib/builtins/atomic.fence",m.sizeof="~lib/builtins/sizeof",m.alignof="~lib/builtins/alignof",m.offsetof="~lib/builtins/offsetof",m.nameof="~lib/builtins/nameof",m.lengthof="~lib/builtins/lengthof",m.select="~lib/builtins/select",m.unreachable="~lib/builtins/unreachable",m.changetype="~lib/builtins/changetype",m.assert="~lib/builtins/assert",m.call_indirect="~lib/builtins/call_indirect",m.unchecked="~lib/builtins/unchecked",m.inline_always="~lib/builtins/inline.always",m.instantiate="~lib/builtins/instantiate",m.idof="~lib/builtins/idof",m.i8="~lib/builtins/i8",m.i16="~lib/builtins/i16",m.i32="~lib/builtins/i32",m.i64="~lib/builtins/i64",m.isize="~lib/builtins/isize",m.u8="~lib/builtins/u8",m.u16="~lib/builtins/u16",m.u32="~lib/builtins/u32",m.u64="~lib/builtins/u64",m.usize="~lib/builtins/usize",m.bool="~lib/builtins/bool",m.f32="~lib/builtins/f32",m.f64="~lib/builtins/f64",m.v128="~lib/builtins/v128",m.i32_clz="~lib/builtins/i32.clz",m.i64_clz="~lib/builtins/i64.clz",m.i32_ctz="~lib/builtins/i32.ctz",m.i64_ctz="~lib/builtins/i64.ctz",m.i32_popcnt="~lib/builtins/i32.popcnt",m.i64_popcnt="~lib/builtins/i64.popcnt",m.i32_rotl="~lib/builtins/i32.rotl",m.i64_rotl="~lib/builtins/i64.rotl",m.i32_rotr="~lib/builtins/i32.rotr",m.i64_rotr="~lib/builtins/i64.rotr",m.f32_abs="~lib/builtins/f32.abs",m.f64_abs="~lib/builtins/f64.abs",m.f32_max="~lib/builtins/f32.max",m.f64_max="~lib/builtins/f64.max",m.f32_min="~lib/builtins/f32.min",m.f64_min="~lib/builtins/f64.min",m.f32_ceil="~lib/builtins/f32.ceil",m.f64_ceil="~lib/builtins/f64.ceil",m.f32_floor="~lib/builtins/f32.floor",m.f64_floor="~lib/builtins/f64.floor",m.f32_copysign="~lib/builtins/f32.copysign",m.f64_copysign="~lib/builtins/f64.copysign",m.f32_nearest="~lib/builtins/f32.nearest",m.f64_nearest="~lib/builtins/f64.nearest",m.i32_reinterpret_f32="~lib/builtins/i32.reinterpret_f32",m.i64_reinterpret_f64="~lib/builtins/i64.reinterpret_f64",m.f32_reinterpret_i32="~lib/builtins/f32.reinterpret_i32",m.f64_reinterpret_i64="~lib/builtins/f64.reinterpret_i64",m.f32_sqrt="~lib/builtins/f32.sqrt",m.f64_sqrt="~lib/builtins/f64.sqrt",m.f32_trunc="~lib/builtins/f32.trunc",m.f64_trunc="~lib/builtins/f64.trunc",m.i32_add="~lib/builtins/i32.add",m.i64_add="~lib/builtins/i64.add",m.f32_add="~lib/builtins/f32.add",m.f64_add="~lib/builtins/f64.add",m.i32_sub="~lib/builtins/i32.sub",m.i64_sub="~lib/builtins/i64.sub",m.f32_sub="~lib/builtins/f32.sub",m.f64_sub="~lib/builtins/f64.sub",m.i32_mul="~lib/builtins/i32.mul",m.i64_mul="~lib/builtins/i64.mul",m.f32_mul="~lib/builtins/f32.mul",m.f64_mul="~lib/builtins/f64.mul",m.i32_div_s="~lib/builtins/i32.div_s",m.i32_div_u="~lib/builtins/i32.div_u",m.i64_div_s="~lib/builtins/i64.div_s",m.i64_div_u="~lib/builtins/i64.div_u",m.f32_div="~lib/builtins/f32.div",m.f64_div="~lib/builtins/f64.div",m.i32_eq="~lib/builtins/i32.eq",m.i64_eq="~lib/builtins/i64.eq",m.f32_eq="~lib/builtins/f32.eq",m.f64_eq="~lib/builtins/f64.eq",m.i32_ne="~lib/builtins/i32.ne",m.i64_ne="~lib/builtins/i64.ne",m.f32_ne="~lib/builtins/f32.ne",m.f64_ne="~lib/builtins/f64.ne",m.i32_rem_s="~lib/builtins/i32.rem_s",m.i32_rem_u="~lib/builtins/i32.rem_u",m.i64_rem_s="~lib/builtins/i64.rem_s",m.i64_rem_u="~lib/builtins/i64.rem_u",m.i32_load8_s="~lib/builtins/i32.load8_s",m.i32_load8_u="~lib/builtins/i32.load8_u",m.i32_load16_s="~lib/builtins/i32.load16_s",m.i32_load16_u="~lib/builtins/i32.load16_u",m.i32_load="~lib/builtins/i32.load",m.i64_load8_s="~lib/builtins/i64.load8_s",m.i64_load8_u="~lib/builtins/i64.load8_u",m.i64_load16_s="~lib/builtins/i64.load16_s",m.i64_load16_u="~lib/builtins/i64.load16_u",m.i64_load32_s="~lib/builtins/i64.load32_s",m.i64_load32_u="~lib/builtins/i64.load32_u",m.i64_load="~lib/builtins/i64.load",m.f32_load="~lib/builtins/f32.load",m.f64_load="~lib/builtins/f64.load",m.i32_store8="~lib/builtins/i32.store8",m.i32_store16="~lib/builtins/i32.store16",m.i32_store="~lib/builtins/i32.store",m.i64_store8="~lib/builtins/i64.store8",m.i64_store16="~lib/builtins/i64.store16",m.i64_store32="~lib/builtins/i64.store32",m.i64_store="~lib/builtins/i64.store",m.f32_store="~lib/builtins/f32.store",m.f64_store="~lib/builtins/f64.store",m.i32_atomic_load8_u="~lib/builtins/i32.atomic.load8_u",m.i32_atomic_load16_u="~lib/builtins/i32.atomic.load16_u",m.i32_atomic_load="~lib/builtins/i32.atomic.load",m.i64_atomic_load8_u="~lib/builtins/i64.atomic.load8_u",m.i64_atomic_load16_u="~lib/builtins/i64.atomic.load16_u",m.i64_atomic_load32_u="~lib/builtins/i64.atomic.load32_u",m.i64_atomic_load="~lib/builtins/i64.atomic.load",m.i32_atomic_store8="~lib/builtins/i32.atomic.store8",m.i32_atomic_store16="~lib/builtins/i32.atomic.store16",m.i32_atomic_store="~lib/builtins/i32.atomic.store",m.i64_atomic_store8="~lib/builtins/i64.atomic.store8",m.i64_atomic_store16="~lib/builtins/i64.atomic.store16",m.i64_atomic_store32="~lib/builtins/i64.atomic.store32",m.i64_atomic_store="~lib/builtins/i64.atomic.store",m.i32_atomic_rmw8_add_u="~lib/builtins/i32.atomic.rmw8.add_u",m.i32_atomic_rmw16_add_u="~lib/builtins/i32.atomic.rmw16.add_u",m.i32_atomic_rmw_add="~lib/builtins/i32.atomic.rmw.add",m.i64_atomic_rmw8_add_u="~lib/builtins/i64.atomic.rmw8.add_u",m.i64_atomic_rmw16_add_u="~lib/builtins/i64.atomic.rmw16.add_u",m.i64_atomic_rmw32_add_u="~lib/builtins/i64.atomic.rmw32.add_u",m.i64_atomic_rmw_add="~lib/builtins/i64.atomic.rmw.add",m.i32_atomic_rmw8_sub_u="~lib/builtins/i32.atomic.rmw8.sub_u",m.i32_atomic_rmw16_sub_u="~lib/builtins/i32.atomic.rmw16.sub_u",m.i32_atomic_rmw_sub="~lib/builtins/i32.atomic.rmw.sub",m.i64_atomic_rmw8_sub_u="~lib/builtins/i64.atomic.rmw8.sub_u",m.i64_atomic_rmw16_sub_u="~lib/builtins/i64.atomic.rmw16.sub_u",m.i64_atomic_rmw32_sub_u="~lib/builtins/i64.atomic.rmw32.sub_u",m.i64_atomic_rmw_sub="~lib/builtins/i64.atomic.rmw.sub",m.i32_atomic_rmw8_and_u="~lib/builtins/i32.atomic.rmw8.and_u",m.i32_atomic_rmw16_and_u="~lib/builtins/i32.atomic.rmw16.and_u",m.i32_atomic_rmw_and="~lib/builtins/i32.atomic.rmw.and",m.i64_atomic_rmw8_and_u="~lib/builtins/i64.atomic.rmw8.and_u",m.i64_atomic_rmw16_and_u="~lib/builtins/i64.atomic.rmw16.and_u",m.i64_atomic_rmw32_and_u="~lib/builtins/i64.atomic.rmw32.and_u",m.i64_atomic_rmw_and="~lib/builtins/i64.atomic.rmw.and",m.i32_atomic_rmw8_or_u="~lib/builtins/i32.atomic.rmw8.or_u",m.i32_atomic_rmw16_or_u="~lib/builtins/i32.atomic.rmw16.or_u",m.i32_atomic_rmw_or="~lib/builtins/i32.atomic.rmw.or",m.i64_atomic_rmw8_or_u="~lib/builtins/i64.atomic.rmw8.or_u",m.i64_atomic_rmw16_or_u="~lib/builtins/i64.atomic.rmw16.or_u",m.i64_atomic_rmw32_or_u="~lib/builtins/i64.atomic.rmw32.or_u",m.i64_atomic_rmw_or="~lib/builtins/i64.atomic.rmw.or",m.i32_atomic_rmw8_xor_u="~lib/builtins/i32.atomic.rmw8.xor_u",m.i32_atomic_rmw16_xor_u="~lib/builtins/i32.atomic.rmw16.xor_u",m.i32_atomic_rmw_xor="~lib/builtins/i32.atomic.rmw.xor",m.i64_atomic_rmw8_xor_u="~lib/builtins/i64.atomic.rmw8.xor_u",m.i64_atomic_rmw16_xor_u="~lib/builtins/i64.atomic.rmw16.xor_u",m.i64_atomic_rmw32_xor_u="~lib/builtins/i64.atomic.rmw32.xor_u",m.i64_atomic_rmw_xor="~lib/builtins/i64.atomic.rmw.xor",m.i32_atomic_rmw8_xchg_u="~lib/builtins/i32.atomic.rmw8.xchg_u",m.i32_atomic_rmw16_xchg_u="~lib/builtins/i32.atomic.rmw16.xchg_u",m.i32_atomic_rmw_xchg="~lib/builtins/i32.atomic.rmw.xchg",m.i64_atomic_rmw8_xchg_u="~lib/builtins/i64.atomic.rmw8.xchg_u",m.i64_atomic_rmw16_xchg_u="~lib/builtins/i64.atomic.rmw16.xchg_u",m.i64_atomic_rmw32_xchg_u="~lib/builtins/i64.atomic.rmw32.xchg_u",m.i64_atomic_rmw_xchg="~lib/builtins/i64.atomic.rmw.xchg",m.i32_atomic_rmw8_cmpxchg_u="~lib/builtins/i32.atomic.rmw8.cmpxchg_u",m.i32_atomic_rmw16_cmpxchg_u="~lib/builtins/i32.atomic.rmw16.cmpxchg_u",m.i32_atomic_rmw_cmpxchg="~lib/builtins/i32.atomic.rmw.cmpxchg",m.i64_atomic_rmw8_cmpxchg_u="~lib/builtins/i64.atomic.rmw8.cmpxchg_u",m.i64_atomic_rmw16_cmpxchg_u="~lib/builtins/i64.atomic.rmw16.cmpxchg_u",m.i64_atomic_rmw32_cmpxchg_u="~lib/builtins/i64.atomic.rmw32.cmpxchg_u",m.i64_atomic_rmw_cmpxchg="~lib/builtins/i64.atomic.rmw.cmpxchg",m.memory_atomic_wait32="~lib/memory/memory.atomic.wait32",m.memory_atomic_wait64="~lib/memory/memory.atomic.wait64",m.v128_splat="~lib/builtins/v128.splat",m.v128_extract_lane="~lib/builtins/v128.extract_lane",m.v128_replace_lane="~lib/builtins/v128.replace_lane",m.v128_shuffle="~lib/builtins/v128.shuffle",m.v128_swizzle="~lib/builtins/v128.swizzle",m.v128_load_splat="~lib/builtins/v128.load_splat",m.v128_load_ext="~lib/builtins/v128.load_ext",m.v128_load_zero="~lib/builtins/v128.load_zero",m.v128_load_lane="~lib/builtins/v128.load_lane",m.v128_store_lane="~lib/builtins/v128.store_lane",m.v128_load="~lib/builtins/v128.load",m.v128_load8x8_s="~lib/builtins/v128.load8x8_s",m.v128_load8x8_u="~lib/builtins/v128.load8x8_u",m.v128_load16x4_s="~lib/builtins/v128.load16x4_s",m.v128_load16x4_u="~lib/builtins/v128.load16x4_u",m.v128_load32x2_s="~lib/builtins/v128.load32x2_s",m.v128_load32x2_u="~lib/builtins/v128.load32x2_u",m.v128_load8_splat="~lib/builtins/v128.load8_splat",m.v128_load16_splat="~lib/builtins/v128.load16_splat",m.v128_load32_splat="~lib/builtins/v128.load32_splat",m.v128_load64_splat="~lib/builtins/v128.load64_splat",m.v128_load32_zero="~lib/builtins/v128.load32_zero",m.v128_load64_zero="~lib/builtins/v128.load64_zero",m.v128_load8_lane="~lib/builtins/v128.load8_lane",m.v128_load16_lane="~lib/builtins/v128.load16_lane",m.v128_load32_lane="~lib/builtins/v128.load32_lane",m.v128_load64_lane="~lib/builtins/v128.load64_lane",m.v128_store8_lane="~lib/builtins/v128.store8_lane",m.v128_store16_lane="~lib/builtins/v128.store16_lane",m.v128_store32_lane="~lib/builtins/v128.store32_lane",m.v128_store64_lane="~lib/builtins/v128.store64_lane",m.v128_store="~lib/builtins/v128.store",m.v128_add="~lib/builtins/v128.add",m.v128_sub="~lib/builtins/v128.sub",m.v128_mul="~lib/builtins/v128.mul",m.v128_div="~lib/builtins/v128.div",m.v128_neg="~lib/builtins/v128.neg",m.v128_add_sat="~lib/builtins/v128.add_sat",m.v128_sub_sat="~lib/builtins/v128.sub_sat",m.v128_shl="~lib/builtins/v128.shl",m.v128_shr="~lib/builtins/v128.shr",m.v128_and="~lib/builtins/v128.and",m.v128_or="~lib/builtins/v128.or",m.v128_xor="~lib/builtins/v128.xor",m.v128_andnot="~lib/builtins/v128.andnot",m.v128_not="~lib/builtins/v128.not",m.v128_bitselect="~lib/builtins/v128.bitselect",m.v128_any_true="~lib/builtins/v128.any_true",m.v128_all_true="~lib/builtins/v128.all_true",m.v128_bitmask="~lib/builtins/v128.bitmask",m.v128_popcnt="~lib/builtins/v128.popcnt",m.v128_min="~lib/builtins/v128.min",m.v128_max="~lib/builtins/v128.max",m.v128_pmin="~lib/builtins/v128.pmin",m.v128_pmax="~lib/builtins/v128.pmax",m.v128_dot="~lib/builtins/v128.dot",m.v128_avgr="~lib/builtins/v128.avgr",m.v128_abs="~lib/builtins/v128.abs",m.v128_sqrt="~lib/builtins/v128.sqrt",m.v128_ceil="~lib/builtins/v128.ceil",m.v128_floor="~lib/builtins/v128.floor",m.v128_trunc="~lib/builtins/v128.trunc",m.v128_nearest="~lib/builtins/v128.nearest",m.v128_eq="~lib/builtins/v128.eq",m.v128_ne="~lib/builtins/v128.ne",m.v128_lt="~lib/builtins/v128.lt",m.v128_le="~lib/builtins/v128.le",m.v128_gt="~lib/builtins/v128.gt",m.v128_ge="~lib/builtins/v128.ge",m.v128_convert="~lib/builtins/v128.convert",m.v128_convert_low="~lib/builtins/v128.convert_low",m.v128_trunc_sat="~lib/builtins/v128.trunc_sat",m.v128_trunc_sat_zero="~lib/builtins/v128.trunc_sat_zero",m.v128_narrow="~lib/builtins/v128.narrow",m.v128_extend_low="~lib/builtins/v128.extend_low",m.v128_extend_high="~lib/builtins/v128.extend_high",m.v128_extadd_pairwise="~lib/builtins/v128.extadd_pairwise",m.v128_demote_zero="~lib/builtins/v128.demote_zero",m.v128_promote_low="~lib/builtins/v128.promote_low",m.v128_q15mulr_sat="~lib/builtins/v128.q15mulr_sat",m.v128_extmul_low="~lib/builtins/v128.extmul_low",m.v128_extmul_high="~lib/builtins/v128.extmul_high",m.v128_relaxed_swizzle="~lib/builtins/v128.relaxed_swizzle",m.v128_relaxed_trunc="~lib/builtins/v128.relaxed_trunc",m.v128_relaxed_trunc_zero="~lib/builtins/v128.relaxed_trunc_zero",m.v128_relaxed_madd="~lib/builtins/v128.relaxed_madd",m.v128_relaxed_nmadd="~lib/builtins/v128.relaxed_nmadd",m.v128_relaxed_laneselect="~lib/builtins/v128.relaxed_laneselect",m.v128_relaxed_min="~lib/builtins/v128.relaxed_min",m.v128_relaxed_max="~lib/builtins/v128.relaxed_max",m.v128_relaxed_q15mulr="~lib/builtins/v128.relaxed_q15mulr",m.v128_relaxed_dot="~lib/builtins/v128.relaxed_dot",m.v128_relaxed_dot_add="~lib/builtins/v128.relaxed_dot_add",m.i8x16="~lib/builtins/i8x16",m.i16x8="~lib/builtins/i16x8",m.i32x4="~lib/builtins/i32x4",m.i64x2="~lib/builtins/i64x2",m.f32x4="~lib/builtins/f32x4",m.f64x2="~lib/builtins/f64x2",m.i8x16_splat="~lib/builtins/i8x16.splat",m.i8x16_extract_lane_s="~lib/builtins/i8x16.extract_lane_s",m.i8x16_extract_lane_u="~lib/builtins/i8x16.extract_lane_u",m.i8x16_replace_lane="~lib/builtins/i8x16.replace_lane",m.i8x16_add="~lib/builtins/i8x16.add",m.i8x16_sub="~lib/builtins/i8x16.sub",m.i8x16_mul="~lib/builtins/i8x16.mul",m.i8x16_min_s="~lib/builtins/i8x16.min_s",m.i8x16_min_u="~lib/builtins/i8x16.min_u",m.i8x16_max_s="~lib/builtins/i8x16.max_s",m.i8x16_max_u="~lib/builtins/i8x16.max_u",m.i8x16_avgr_u="~lib/builtins/i8x16.avgr_u",m.i8x16_abs="~lib/builtins/i8x16.abs",m.i8x16_neg="~lib/builtins/i8x16.neg",m.i8x16_add_sat_s="~lib/builtins/i8x16.add_sat_s",m.i8x16_add_sat_u="~lib/builtins/i8x16.add_sat_u",m.i8x16_sub_sat_s="~lib/builtins/i8x16.sub_sat_s",m.i8x16_sub_sat_u="~lib/builtins/i8x16.sub_sat_u",m.i8x16_shl="~lib/builtins/i8x16.shl",m.i8x16_shr_s="~lib/builtins/i8x16.shr_s",m.i8x16_shr_u="~lib/builtins/i8x16.shr_u",m.i8x16_all_true="~lib/builtins/i8x16.all_true",m.i8x16_bitmask="~lib/builtins/i8x16.bitmask",m.i8x16_popcnt="~lib/builtins/i8x16.popcnt",m.i8x16_eq="~lib/builtins/i8x16.eq",m.i8x16_ne="~lib/builtins/i8x16.ne",m.i8x16_lt_s="~lib/builtins/i8x16.lt_s",m.i8x16_lt_u="~lib/builtins/i8x16.lt_u",m.i8x16_le_s="~lib/builtins/i8x16.le_s",m.i8x16_le_u="~lib/builtins/i8x16.le_u",m.i8x16_gt_s="~lib/builtins/i8x16.gt_s",m.i8x16_gt_u="~lib/builtins/i8x16.gt_u",m.i8x16_ge_s="~lib/builtins/i8x16.ge_s",m.i8x16_ge_u="~lib/builtins/i8x16.ge_u",m.i8x16_narrow_i16x8_s="~lib/builtins/i8x16.narrow_i16x8_s",m.i8x16_narrow_i16x8_u="~lib/builtins/i8x16.narrow_i16x8_u",m.i8x16_shuffle="~lib/builtins/i8x16.shuffle",m.i8x16_swizzle="~lib/builtins/i8x16.swizzle",m.i16x8_splat="~lib/builtins/i16x8.splat",m.i16x8_extract_lane_s="~lib/builtins/i16x8.extract_lane_s",m.i16x8_extract_lane_u="~lib/builtins/i16x8.extract_lane_u",m.i16x8_replace_lane="~lib/builtins/i16x8.replace_lane",m.i16x8_add="~lib/builtins/i16x8.add",m.i16x8_sub="~lib/builtins/i16x8.sub",m.i16x8_mul="~lib/builtins/i16x8.mul",m.i16x8_min_s="~lib/builtins/i16x8.min_s",m.i16x8_min_u="~lib/builtins/i16x8.min_u",m.i16x8_max_s="~lib/builtins/i16x8.max_s",m.i16x8_max_u="~lib/builtins/i16x8.max_u",m.i16x8_avgr_u="~lib/builtins/i16x8.avgr_u",m.i16x8_abs="~lib/builtins/i16x8.abs",m.i16x8_neg="~lib/builtins/i16x8.neg",m.i16x8_add_sat_s="~lib/builtins/i16x8.add_sat_s",m.i16x8_add_sat_u="~lib/builtins/i16x8.add_sat_u",m.i16x8_sub_sat_s="~lib/builtins/i16x8.sub_sat_s",m.i16x8_sub_sat_u="~lib/builtins/i16x8.sub_sat_u",m.i16x8_shl="~lib/builtins/i16x8.shl",m.i16x8_shr_s="~lib/builtins/i16x8.shr_s",m.i16x8_shr_u="~lib/builtins/i16x8.shr_u",m.i16x8_all_true="~lib/builtins/i16x8.all_true",m.i16x8_bitmask="~lib/builtins/i16x8.bitmask",m.i16x8_eq="~lib/builtins/i16x8.eq",m.i16x8_ne="~lib/builtins/i16x8.ne",m.i16x8_lt_s="~lib/builtins/i16x8.lt_s",m.i16x8_lt_u="~lib/builtins/i16x8.lt_u",m.i16x8_le_s="~lib/builtins/i16x8.le_s",m.i16x8_le_u="~lib/builtins/i16x8.le_u",m.i16x8_gt_s="~lib/builtins/i16x8.gt_s",m.i16x8_gt_u="~lib/builtins/i16x8.gt_u",m.i16x8_ge_s="~lib/builtins/i16x8.ge_s",m.i16x8_ge_u="~lib/builtins/i16x8.ge_u",m.i16x8_narrow_i32x4_s="~lib/builtins/i16x8.narrow_i32x4_s",m.i16x8_narrow_i32x4_u="~lib/builtins/i16x8.narrow_i32x4_u",m.i16x8_extend_low_i8x16_s="~lib/builtins/i16x8.extend_low_i8x16_s",m.i16x8_extend_low_i8x16_u="~lib/builtins/i16x8.extend_low_i8x16_u",m.i16x8_extend_high_i8x16_s="~lib/builtins/i16x8.extend_high_i8x16_s",m.i16x8_extend_high_i8x16_u="~lib/builtins/i16x8.extend_high_i8x16_u",m.i16x8_extadd_pairwise_i8x16_s="~lib/builtins/i16x8.extadd_pairwise_i8x16_s",m.i16x8_extadd_pairwise_i8x16_u="~lib/builtins/i16x8.extadd_pairwise_i8x16_u",m.i16x8_q15mulr_sat_s="~lib/builtins/i16x8.q15mulr_sat_s",m.i16x8_extmul_low_i8x16_s="~lib/builtins/i16x8.extmul_low_i8x16_s",m.i16x8_extmul_low_i8x16_u="~lib/builtins/i16x8.extmul_low_i8x16_u",m.i16x8_extmul_high_i8x16_s="~lib/builtins/i16x8.extmul_high_i8x16_s",m.i16x8_extmul_high_i8x16_u="~lib/builtins/i16x8.extmul_high_i8x16_u",m.i16x8_shuffle="~lib/builtins/i16x8.shuffle",m.i32x4_splat="~lib/builtins/i32x4.splat",m.i32x4_extract_lane="~lib/builtins/i32x4.extract_lane",m.i32x4_replace_lane="~lib/builtins/i32x4.replace_lane",m.i32x4_add="~lib/builtins/i32x4.add",m.i32x4_sub="~lib/builtins/i32x4.sub",m.i32x4_mul="~lib/builtins/i32x4.mul",m.i32x4_min_s="~lib/builtins/i32x4.min_s",m.i32x4_min_u="~lib/builtins/i32x4.min_u",m.i32x4_max_s="~lib/builtins/i32x4.max_s",m.i32x4_max_u="~lib/builtins/i32x4.max_u",m.i32x4_dot_i16x8_s="~lib/builtins/i32x4.dot_i16x8_s",m.i32x4_abs="~lib/builtins/i32x4.abs",m.i32x4_neg="~lib/builtins/i32x4.neg",m.i32x4_shl="~lib/builtins/i32x4.shl",m.i32x4_shr_s="~lib/builtins/i32x4.shr_s",m.i32x4_shr_u="~lib/builtins/i32x4.shr_u",m.i32x4_all_true="~lib/builtins/i32x4.all_true",m.i32x4_bitmask="~lib/builtins/i32x4.bitmask",m.i32x4_eq="~lib/builtins/i32x4.eq",m.i32x4_ne="~lib/builtins/i32x4.ne",m.i32x4_lt_s="~lib/builtins/i32x4.lt_s",m.i32x4_lt_u="~lib/builtins/i32x4.lt_u",m.i32x4_le_s="~lib/builtins/i32x4.le_s",m.i32x4_le_u="~lib/builtins/i32x4.le_u",m.i32x4_gt_s="~lib/builtins/i32x4.gt_s",m.i32x4_gt_u="~lib/builtins/i32x4.gt_u",m.i32x4_ge_s="~lib/builtins/i32x4.ge_s",m.i32x4_ge_u="~lib/builtins/i32x4.ge_u",m.i32x4_trunc_sat_f32x4_s="~lib/builtins/i32x4.trunc_sat_f32x4_s",m.i32x4_trunc_sat_f32x4_u="~lib/builtins/i32x4.trunc_sat_f32x4_u",m.i32x4_trunc_sat_f64x2_s_zero="~lib/builtins/i32x4.trunc_sat_f64x2_s_zero",m.i32x4_trunc_sat_f64x2_u_zero="~lib/builtins/i32x4.trunc_sat_f64x2_u_zero",m.i32x4_extend_low_i16x8_s="~lib/builtins/i32x4.extend_low_i16x8_s",m.i32x4_extend_low_i16x8_u="~lib/builtins/i32x4.extend_low_i16x8_u",m.i32x4_extend_high_i16x8_s="~lib/builtins/i32x4.extend_high_i16x8_s",m.i32x4_extend_high_i16x8_u="~lib/builtins/i32x4.extend_high_i16x8_u",m.i32x4_extadd_pairwise_i16x8_s="~lib/builtins/i32x4.extadd_pairwise_i16x8_s",m.i32x4_extadd_pairwise_i16x8_u="~lib/builtins/i32x4.extadd_pairwise_i16x8_u",m.i32x4_extmul_low_i16x8_s="~lib/builtins/i32x4.extmul_low_i16x8_s",m.i32x4_extmul_low_i16x8_u="~lib/builtins/i32x4.extmul_low_i16x8_u",m.i32x4_extmul_high_i16x8_s="~lib/builtins/i32x4.extmul_high_i16x8_s",m.i32x4_extmul_high_i16x8_u="~lib/builtins/i32x4.extmul_high_i16x8_u",m.i32x4_shuffle="~lib/builtins/i32x4.shuffle",m.i64x2_splat="~lib/builtins/i64x2.splat",m.i64x2_extract_lane="~lib/builtins/i64x2.extract_lane",m.i64x2_replace_lane="~lib/builtins/i64x2.replace_lane",m.i64x2_add="~lib/builtins/i64x2.add",m.i64x2_sub="~lib/builtins/i64x2.sub",m.i64x2_mul="~lib/builtins/i64x2.mul",m.i64x2_abs="~lib/builtins/i64x2.abs",m.i64x2_neg="~lib/builtins/i64x2.neg",m.i64x2_shl="~lib/builtins/i64x2.shl",m.i64x2_shr_s="~lib/builtins/i64x2.shr_s",m.i64x2_shr_u="~lib/builtins/i64x2.shr_u",m.i64x2_all_true="~lib/builtins/i64x2.all_true",m.i64x2_bitmask="~lib/builtins/i64x2.bitmask",m.i64x2_eq="~lib/builtins/i64x2.eq",m.i64x2_ne="~lib/builtins/i64x2.ne",m.i64x2_lt_s="~lib/builtins/i64x2.lt_s",m.i64x2_lt_u="~lib/builtins/i64x2.lt_u",m.i64x2_le_s="~lib/builtins/i64x2.le_s",m.i64x2_le_u="~lib/builtins/i64x2.le_u",m.i64x2_gt_s="~lib/builtins/i64x2.gt_s",m.i64x2_gt_u="~lib/builtins/i64x2.gt_u",m.i64x2_ge_s="~lib/builtins/i64x2.ge_s",m.i64x2_ge_u="~lib/builtins/i64x2.ge_u",m.i64x2_extend_low_i32x4_s="~lib/builtins/i64x2.extend_low_i32x4_s",m.i64x2_extend_low_i32x4_u="~lib/builtins/i64x2.extend_low_i32x4_u",m.i64x2_extend_high_i32x4_s="~lib/builtins/i64x2.extend_high_i32x4_s",m.i64x2_extend_high_i32x4_u="~lib/builtins/i64x2.extend_high_i32x4_u",m.i64x2_extmul_low_i32x4_s="~lib/builtins/i64x2.extmul_low_i32x4_s",m.i64x2_extmul_low_i32x4_u="~lib/builtins/i64x2.extmul_low_i32x4_u",m.i64x2_extmul_high_i32x4_s="~lib/builtins/i64x2.extmul_high_i32x4_s",m.i64x2_extmul_high_i32x4_u="~lib/builtins/i64x2.extmul_high_i32x4_u",m.i64x2_shuffle="~lib/builtins/i64x2.shuffle",m.f32x4_splat="~lib/builtins/f32x4.splat",m.f32x4_extract_lane="~lib/builtins/f32x4.extract_lane",m.f32x4_replace_lane="~lib/builtins/f32x4.replace_lane",m.f32x4_add="~lib/builtins/f32x4.add",m.f32x4_sub="~lib/builtins/f32x4.sub",m.f32x4_mul="~lib/builtins/f32x4.mul",m.f32x4_div="~lib/builtins/f32x4.div",m.f32x4_neg="~lib/builtins/f32x4.neg",m.f32x4_min="~lib/builtins/f32x4.min",m.f32x4_max="~lib/builtins/f32x4.max",m.f32x4_pmin="~lib/builtins/f32x4.pmin",m.f32x4_pmax="~lib/builtins/f32x4.pmax",m.f32x4_abs="~lib/builtins/f32x4.abs",m.f32x4_sqrt="~lib/builtins/f32x4.sqrt",m.f32x4_ceil="~lib/builtins/f32x4.ceil",m.f32x4_floor="~lib/builtins/f32x4.floor",m.f32x4_trunc="~lib/builtins/f32x4.trunc",m.f32x4_nearest="~lib/builtins/f32x4.nearest",m.f32x4_eq="~lib/builtins/f32x4.eq",m.f32x4_ne="~lib/builtins/f32x4.ne",m.f32x4_lt="~lib/builtins/f32x4.lt",m.f32x4_le="~lib/builtins/f32x4.le",m.f32x4_gt="~lib/builtins/f32x4.gt",m.f32x4_ge="~lib/builtins/f32x4.ge",m.f32x4_convert_i32x4_s="~lib/builtins/f32x4.convert_i32x4_s",m.f32x4_convert_i32x4_u="~lib/builtins/f32x4.convert_i32x4_u",m.f32x4_demote_f64x2_zero="~lib/builtins/f32x4.demote_f64x2_zero",m.f32x4_shuffle="~lib/builtins/f32x4.shuffle",m.f64x2_splat="~lib/builtins/f64x2.splat",m.f64x2_extract_lane="~lib/builtins/f64x2.extract_lane",m.f64x2_replace_lane="~lib/builtins/f64x2.replace_lane",m.f64x2_add="~lib/builtins/f64x2.add",m.f64x2_sub="~lib/builtins/f64x2.sub",m.f64x2_mul="~lib/builtins/f64x2.mul",m.f64x2_div="~lib/builtins/f64x2.div",m.f64x2_neg="~lib/builtins/f64x2.neg",m.f64x2_min="~lib/builtins/f64x2.min",m.f64x2_max="~lib/builtins/f64x2.max",m.f64x2_pmin="~lib/builtins/f64x2.pmin",m.f64x2_pmax="~lib/builtins/f64x2.pmax",m.f64x2_abs="~lib/builtins/f64x2.abs",m.f64x2_sqrt="~lib/builtins/f64x2.sqrt",m.f64x2_ceil="~lib/builtins/f64x2.ceil",m.f64x2_floor="~lib/builtins/f64x2.floor",m.f64x2_trunc="~lib/builtins/f64x2.trunc",m.f64x2_nearest="~lib/builtins/f64x2.nearest",m.f64x2_eq="~lib/builtins/f64x2.eq",m.f64x2_ne="~lib/builtins/f64x2.ne",m.f64x2_lt="~lib/builtins/f64x2.lt",m.f64x2_le="~lib/builtins/f64x2.le",m.f64x2_gt="~lib/builtins/f64x2.gt",m.f64x2_ge="~lib/builtins/f64x2.ge",m.f64x2_convert_low_i32x4_s="~lib/builtins/f64x2.convert_low_i32x4_s",m.f64x2_convert_low_i32x4_u="~lib/builtins/f64x2.convert_low_i32x4_u",m.f64x2_promote_low_f32x4="~lib/builtins/f64x2.promote_low_f32x4",m.f64x2_shuffle="~lib/builtins/f64x2.shuffle",m.i8x16_relaxed_swizzle="~lib/builtins/i8x16.relaxed_swizzle",m.i32x4_relaxed_trunc_f32x4_s="~lib/builtins/i32x4.relaxed_trunc_f32x4_s",m.i32x4_relaxed_trunc_f32x4_u="~lib/builtins/i32x4.relaxed_trunc_f32x4_u",m.i32x4_relaxed_trunc_f64x2_s_zero="~lib/builtins/i32x4.relaxed_trunc_f64x2_s_zero",m.i32x4_relaxed_trunc_f64x2_u_zero="~lib/builtins/i32x4.relaxed_trunc_f64x2_u_zero",m.f32x4_relaxed_madd="~lib/builtins/f32x4.relaxed_madd",m.f32x4_relaxed_nmadd="~lib/builtins/f32x4.relaxed_nmadd",m.f64x2_relaxed_madd="~lib/builtins/f64x2.relaxed_madd",m.f64x2_relaxed_nmadd="~lib/builtins/f64x2.relaxed_nmadd",m.i8x16_relaxed_laneselect="~lib/builtins/i8x16.relaxed_laneselect",m.i16x8_relaxed_laneselect="~lib/builtins/i16x8.relaxed_laneselect",m.i32x4_relaxed_laneselect="~lib/builtins/i32x4.relaxed_laneselect",m.i64x2_relaxed_laneselect="~lib/builtins/i64x2.relaxed_laneselect",m.f32x4_relaxed_min="~lib/builtins/f32x4.relaxed_min",m.f32x4_relaxed_max="~lib/builtins/f32x4.relaxed_max",m.f64x2_relaxed_min="~lib/builtins/f64x2.relaxed_min",m.f64x2_relaxed_max="~lib/builtins/f64x2.relaxed_max",m.i16x8_relaxed_q15mulr_s="~lib/builtins/i16x8.relaxed_q15mulr_s",m.i16x8_relaxed_dot_i8x16_i7x16_s="~lib/builtins/i16x8.relaxed_dot_i8x16_i7x16_s",m.i32x4_relaxed_dot_i8x16_i7x16_add_s="~lib/builtins/i32x4.relaxed_dot_i8x16_i7x16_add_s",m.i31_new="~lib/builtins/i31.new",m.i31_get="~lib/builtins/i31.get",m.data_end="~lib/memory/__data_end",m.stack_pointer="~lib/memory/__stack_pointer",m.heap_base="~lib/memory/__heap_base",m.rtti_base="~lib/rt/__rtti_base",m.visit_globals="~lib/rt/__visit_globals",m.visit_members="~lib/rt/__visit_members",m.tostack="~lib/rt/__tostack",m.NaN="~lib/number/NaN",m.Infinity="~lib/number/Infinity",m.isNaN="~lib/number/isNaN",m.isFinite="~lib/number/isFinite",m.ERROR="~lib/diagnostics/ERROR",m.WARNING="~lib/diagnostics/WARNING",m.INFO="~lib/diagnostics/INFO",m.Function="~lib/function/Function",m.Function_call="~lib/function/Function#call",m.memory_size="~lib/memory/memory.size",m.memory_grow="~lib/memory/memory.grow",m.memory_copy="~lib/memory/memory.copy",m.memory_fill="~lib/memory/memory.fill",m.memory_data="~lib/memory/memory.data",m.Int8Array="~lib/typedarray/Int8Array",m.Uint8Array="~lib/typedarray/Uint8Array",m.Uint8ClampedArray="~lib/typedarray/Uint8ClampedArray",m.Int16Array="~lib/typedarray/Int16Array",m.Uint16Array="~lib/typedarray/Uint16Array",m.Int32Array="~lib/typedarray/Int32Array",m.Uint32Array="~lib/typedarray/Uint32Array",m.Int64Array="~lib/typedarray/Int64Array",m.Uint64Array="~lib/typedarray/Uint64Array",m.Float32Array="~lib/typedarray/Float32Array",m.Float64Array="~lib/typedarray/Float64Array",m.String_raw="~lib/string/String.raw",m.String_eq="~lib/string/String.__eq",m.String_ne="~lib/string/String.__ne",m.String_not="~lib/string/String.__not",m.Object="~lib/object/Object"))(h||={});var Qn=class{constructor(i,e,r=e.type,n=e.identifierNode){this.compiler=i;this.element=e;this.contextualType=r;this.reportNode=n}},Cl=class{constructor(i,e,r,n,s,a,l,o){this.compiler=i;this.prototype=e;this.typeArguments=r;this.operands=n;this.thisOperand=s;this.contextualType=a;this.reportNode=l;this.contextIsExact=o}},y=new Map,Rt=new Map,tt=new Map,Ai=0;function g2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isBooleanValue?1:0)):e.unreachable()}y.set(h.isBoolean,g2);function b2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isIntegerValue?1:0)):e.unreachable()}y.set(h.isInteger,b2);function x2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isSignedIntegerValue?1:0)):e.unreachable()}y.set(h.isSigned,x2);function T2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isFloatValue?1:0)):e.unreachable()}y.set(h.isFloat,T2);function A2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isVectorValue?1:0)):e.unreachable()}y.set(h.isVector,A2);function E2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isReference?1:0)):e.unreachable()}y.set(h.isReference,E2);function v2(t){let i=t.compiler,e=i.module,r=ke(t);if(i.currentType=u.bool,!r)return e.unreachable();let n=r.getClass();return Ee(t,e.i32(n&&n.isAssignableTo(i.program.stringInstance)?1:0))}y.set(h.isString,v2);function I2(t){let i=t.compiler,e=i.module,r=ke(t);if(i.currentType=u.bool,!r)return e.unreachable();let n=r.getClass();return Ee(t,e.i32(n&&n.extendsPrototype(i.program.arrayPrototype)?1:0))}y.set(h.isArray,I2);function S2(t){let i=t.compiler,e=i.module,r=ke(t);if(i.currentType=u.bool,!r)return e.unreachable();let n=r.getClass();return Ee(t,e.i32(n&&n.isArrayLike?1:0))}y.set(h.isArrayLike,S2);function F2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isFunction?1:0)):e.unreachable()}y.set(h.isFunction,F2);function R2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isNullableReference?1:0)):e.unreachable()}y.set(h.isNullable,R2);function k2(t){let i=t.compiler,e=i.module;if(i.currentType=u.bool,T(t)|O(t,1))return e.unreachable();let r=i.resolver.lookupExpression(t.operands[0],i.currentFlow,u.auto,1);return e.i32(r?1:0)}y.set(h.isDefined,k2);function w2(t){let i=t.compiler,e=i.module;if(i.currentType=u.bool,T(t)|O(t,1))return e.unreachable();let r=i.compileExpression(t.operands[0],u.auto);return i.currentType=u.bool,gl(r,e.ref)?e.block(null,[e.maybeDrop(r),e.i32(0)],ne(r)):e.i32(e.isConstExpression(r)?1:0)}y.set(h.isConstant,w2);function C2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.isManaged?1:0)):e.unreachable()}y.set(h.isManaged,C2);function P2(t){let i=t.compiler,e=i.module,r=ke(t);return i.currentType=u.bool,r?Ee(t,e.i32(r.kind==25?1:0)):e.unreachable()}y.set(h.isVoid,P2);function B2(t){let i=t.compiler,e=i.module,r=ke(t);if(i.currentType=u.i32,!r)return e.unreachable();let n=r.signatureReference;return n?Ee(t,e.i32(n.parameterTypes.length)):(i.error(2757,t.reportNode.range,r.toString()),e.unreachable())}y.set(h.lengthof,B2);function L2(t){let i=t.compiler,e=i.module;if(i.currentType=i.options.usizeType,X(t)|O(t,0))return e.unreachable();let r=t.typeArguments[0],n=r.byteSize;return n?Pl(i,i64_new(n),t.contextualType):(i.error(203,t.reportNode.typeArgumentsRange,"sizeof",r.toString()),e.unreachable())}y.set(h.sizeof,L2);function N2(t){let i=t.compiler,e=i.module;if(i.currentType=i.options.usizeType,X(t)|O(t,0))return e.unreachable();let r=t.typeArguments[0],n=r.byteSize;return gt(n)?Pl(i,i64_new(ctz(n)),t.contextualType):(i.error(203,t.reportNode.typeArgumentsRange,"alignof",r.toString()),e.unreachable())}y.set(h.alignof,N2);function M2(t){let i=t.compiler,e=i.module;if(i.currentType=i.options.usizeType,X(t)|xe(t,0,1))return e.unreachable();let r=t.operands,n=t.contextualType,s=t.typeArguments[0],a=s.getClassOrWrapper(i.program);if(!a)return i.error(203,t.reportNode.typeArgumentsRange,"offsetof",s.toString()),i.options.isWasm64?n.isIntegerValue&&n.size<=32&&(i.currentType=u.u32):n.isIntegerValue&&n.size==64&&(i.currentType=u.u64),e.unreachable();if(r.length){let l=r[0];if(!l.isLiteralKind(2))return i.error(1141,r[0].range),e.unreachable();let o=l.value,p=a.getMember(o);if(p&&p.kind==10){let c=p.instance;if(c&&c.isField)return assert(c.memoryOffset>=0),Pl(i,i64_new(c.memoryOffset),n)}return i.error(2460,l.range,a.internalName,o),e.unreachable()}return Pl(i,i64_new(a.nextMemoryOffset),n)}y.set(h.offsetof,M2);function G2(t){let i=t.compiler,e=i.module,r=ke(t);if(!r)return i.currentType=i.program.stringInstance.type,e.unreachable();let n;if(r.isInternalReference){let s=r.getClass();s?n=s.name:(assert(r.getSignature()),n="Function")}else n=r.toString();return Ee(t,i.ensureStaticString(n))}y.set(h.nameof,G2);function z2(t){let i=t.compiler,e=i.module,r=ke(t);if(i.currentType=u.u32,!r)return e.unreachable();let n=r.getSignature();if(n)return Ee(t,e.i32(n.id));let s=r.getClassOrWrapper(i.program);return s&&!s.hasDecorator(16)?Ee(t,e.i32(s.id)):(i.error(203,t.reportNode.typeArgumentsRange,"idof",r.toString()),e.unreachable())}y.set(h.idof,z2);function U2(t){let i=t.element;if(i.is(1048576)){let e=t.compiler.module;e.addGlobal(i.internalName,L.F64,!1,e.f64(NaN))}}Rt.set(h.NaN,U2);function D2(t){let i=t.compiler,e=i.module;return t.contextualType==u.f32?(i.currentType=u.f32,e.f32(NaN)):(i.currentType=u.f64,e.f64(NaN))}tt.set(h.NaN,D2);function V2(t){let i=t.element;if(i.is(1048576)){let e=t.compiler.module;e.addGlobal(i.internalName,L.F64,!1,e.f64(1/0))}}Rt.set(h.Infinity,V2);function O2(t){let i=t.compiler,e=i.module;return t.contextualType==u.f32?(i.currentType=u.f32,e.f32(1/0)):(i.currentType=u.f64,e.f64(1/0))}tt.set(h.Infinity,O2);function Op(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.typeArguments,n=r?i.compileExpression(t.operands[0],r[0],5):i.compileExpression(t.operands[0],u.i32,4),s=i.currentType;if(s.isValue)switch(s.kind){case 0:case 1:case 6:case 2:case 7:case 3:case 8:return e.unary(0,n);case 5:case 10:return e.unary(129,n);case 4:case 9:return e.unary(1,n)}return i.error(203,t.reportNode.typeArgumentsRange,"clz",s.toString()),e.unreachable()}y.set(h.clz,Op);function qp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],5):i.compileExpression(r[0],u.i32,4),a=i.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 6:case 2:case 7:case 3:case 8:return e.unary(2,s);case 5:case 10:return e.unary(130,s);case 4:case 9:return e.unary(3,s)}return i.error(203,t.reportNode.typeArgumentsRange,"ctz",a.toString()),e.unreachable()}y.set(h.ctz,qp);function Wp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],5):i.compileExpression(r[0],u.i32,4),a=i.currentType;if(a.isValue)switch(i.currentType.kind){case 0:return s;case 1:case 6:case 2:case 7:case 3:case 8:return e.unary(4,s);case 4:case 9:return e.unary(5,s);case 5:case 10:return e.unary(131,s)}return i.error(203,t.reportNode.typeArgumentsRange,"popcnt",a.toString()),e.unreachable()}y.set(h.popcnt,Wp);function Kp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],5):i.compileExpression(r[0],u.i32,4),a=i.currentType;if(a.isValue){let l=i.compileExpression(r[1],a,1);switch(a.kind){case 0:return s;case 1:case 2:case 6:case 7:{let o=i.currentFlow,p=o.getTempLocal(a);o.setLocalFlag(p.index,2);let c=o.getTempLocal(a);return o.setLocalFlag(c.index,2),e.binary(8,e.binary(10,e.local_tee(p.index,s,!1),e.binary(7,e.local_tee(c.index,l,!1),e.i32(a.size-1))),e.binary(12,e.local_get(p.index,L.I32),e.binary(7,e.binary(1,e.i32(0),e.local_get(c.index,L.I32)),e.i32(a.size-1))))}case 3:case 8:return e.binary(13,s,l);case 4:case 9:return e.binary(38,s,l);case 5:case 10:return e.binary(216,s,l)}}return i.error(203,t.reportNode.typeArgumentsRange,"rotl",a.toString()),e.unreachable()}y.set(h.rotl,Kp);function Qp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],5):i.compileExpression(r[0],u.i32,4),a=i.currentType;if(a.isValue){let l=i.compileExpression(r[1],a,1);switch(a.kind){case 0:return s;case 1:case 2:case 6:case 7:{let o=i.currentFlow,p=o.getTempLocal(a);o.setLocalFlag(p.index,2);let c=o.getTempLocal(a);return o.setLocalFlag(c.index,2),e.binary(8,e.binary(12,e.local_tee(p.index,s,!1),e.binary(7,e.local_tee(c.index,l,!1),e.i32(a.size-1))),e.binary(10,e.local_get(p.index,L.I32),e.binary(7,e.binary(1,e.i32(0),e.local_get(c.index,L.I32)),e.i32(a.size-1))))}case 3:case 8:return e.binary(14,s,l);case 4:case 9:return e.binary(39,s,l);case 5:case 10:return e.binary(217,s,l)}}return i.error(203,t.reportNode.typeArgumentsRange,"rotr",a.toString()),e.unreachable()}y.set(h.rotr,Qp);function Hp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],5):i.compileExpression(r[0],u.auto,4),a=i.currentType;if(a.isValue)switch(a.kind){case 0:case 6:case 7:case 8:case 9:case 10:return s;case 1:case 2:case 3:{let l=i.currentFlow,o=l.getTempLocal(u.i32),p=l.getTempLocal(u.i32);return e.binary(9,e.binary(0,e.local_tee(p.index,e.binary(11,e.local_tee(o.index,s,!1),e.i32(31)),!1),e.local_get(o.index,L.I32)),e.local_get(p.index,L.I32))}case 5:{let l=i.options,o=i.currentFlow,p=o.getTempLocal(l.usizeType),c=o.getTempLocal(l.usizeType);return e.binary(212,e.binary(203,e.local_tee(c.index,e.binary(214,e.local_tee(p.index,s,!1),i.options.isWasm64?e.i64(63):e.i32(31)),!1),e.local_get(p.index,l.sizeTypeRef)),e.local_get(c.index,l.sizeTypeRef))}case 4:{let l=i.currentFlow,o=l.getTempLocal(u.i64),p=l.getTempLocal(u.i64);return e.binary(34,e.binary(25,e.local_tee(p.index,e.binary(36,e.local_tee(o.index,s,!1),e.i64(63)),!1),e.local_get(o.index,L.I64)),e.local_get(p.index,L.I64))}case 11:return e.unary(8,s);case 12:return e.unary(9,s)}return i.error(203,t.reportNode.typeArgumentsRange,"abs",a.toString()),e.unreachable()}y.set(h.abs,Hp);function jp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],5):i.compileExpression(r[0],u.auto,4),l=i.currentType;if(l.isValue){let o;!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l,4),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,5))):o=i.compileExpression(r[1],l,5);let p=-1;switch(l.kind){case 1:case 2:case 3:{p=21;break}case 0:case 6:case 7:case 8:{p=22;break}case 4:{p=46;break}case 9:{p=47;break}case 5:{p=224;break}case 10:{p=225;break}case 11:return e.binary(56,a,o);case 12:return e.binary(69,a,o)}if(p!=-1){let c=i.currentFlow,_=l.toRef(),f=c.getTempLocal(l);c.setLocalFlag(f.index,2);let d=c.getTempLocal(l);return c.setLocalFlag(d.index,2),e.select(e.local_tee(f.index,a,!1),e.local_tee(d.index,o,!1),e.binary(p,e.local_get(f.index,_),e.local_get(d.index,_)),_)}}return i.error(203,t.reportNode.typeArgumentsRange,"max",l.toString()),e.unreachable()}y.set(h.max,jp);function Xp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],5):i.compileExpression(r[0],u.auto,4),l=i.currentType;if(l.isValue){let o;!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l,4),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,5))):o=i.compileExpression(r[1],l,5);let p=-1;switch(l.kind){case 1:case 2:case 3:{p=17;break}case 0:case 6:case 7:case 8:{p=18;break}case 4:{p=42;break}case 9:{p=43;break}case 5:{p=220;break}case 10:{p=221;break}case 11:return e.binary(55,a,o);case 12:return e.binary(68,a,o)}if(p!=-1){let c=i.currentFlow,_=l.toRef(),f=c.getTempLocal(l);c.setLocalFlag(f.index,2);let d=c.getTempLocal(l);return c.setLocalFlag(d.index,2),e.select(e.local_tee(f.index,a,!1),e.local_tee(d.index,o,!1),e.binary(p,e.local_get(f.index,_),e.local_get(d.index,_)),_)}}return i.error(203,t.reportNode.typeArgumentsRange,"min",l.toString()),e.unreachable()}y.set(h.min,Xp);function Zp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.auto,0),a=i.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(10,s);case 12:return e.unary(11,s)}return i.error(203,t.reportNode.typeArgumentsRange,"ceil",a.toString()),e.unreachable()}y.set(h.ceil,Zp);function Yp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.auto,0),a=i.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(12,s);case 12:return e.unary(13,s)}return i.error(203,t.reportNode.typeArgumentsRange,"floor",a.toString()),e.unreachable()}y.set(h.floor,Yp);function $p(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.f64,0),a=i.currentType;if(a.isValue){let l=i.compileExpression(r[1],a,1);switch(a.kind){case 11:return e.binary(54,s,l);case 12:return e.binary(67,s,l)}}return i.error(203,t.reportNode.typeArgumentsRange,"copysign",a.toString()),e.unreachable()}y.set(h.copysign,$p);function Jp(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.auto,0),a=i.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(16,s);case 12:return e.unary(17,s)}return i.error(203,t.reportNode.typeArgumentsRange,"nearest",a.toString()),e.unreachable()}y.set(h.nearest,Jp);function Hn(t){let i=t.compiler,e=i.module;if(X(t,!0)|O(t,1))return e.unreachable();let r=t.operands,s=t.typeArguments[0];if(s.isValue)switch(s.kind){case 3:case 8:{let a=i.compileExpression(r[0],u.f32,1);return i.currentType=s,e.unary(33,a)}case 4:case 9:{let a=i.compileExpression(r[0],u.f64,1);return i.currentType=s,e.unary(34,a)}case 5:case 10:{let a=i.options.isWasm64,l=i.compileExpression(r[0],a?u.f64:u.f32,1);return i.currentType=s,e.unary(a?34:33,l)}case 11:{let a=i.compileExpression(r[0],u.i32,1);return i.currentType=u.f32,e.unary(45,a)}case 12:{let a=i.compileExpression(r[0],u.i64,1);return i.currentType=u.f64,e.unary(46,a)}}return i.error(203,t.reportNode.typeArgumentsRange,"reinterpret",s.toString()),e.unreachable()}y.set(h.reinterpret,Hn);function ec(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.f64,0),a=i.currentType;if(a.isValue)switch(a.kind){case 11:return e.unary(18,s);case 12:return e.unary(19,s)}return i.error(203,t.reportNode.typeArgumentsRange,"sqrt",a.toString()),e.unreachable()}y.set(h.sqrt,ec);function tc(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,1))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.auto,0),a=i.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return e.unary(14,s);case 12:return e.unary(15,s)}return i.error(203,t.reportNode.typeArgumentsRange,"trunc",a.toString()),e.unreachable()}y.set(h.trunc,tc);function q2(t){let i=t.compiler,e=i.module;if(se(t)|O(t,1))return i.currentType=u.bool,e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.auto),a=i.currentType;if(i.currentType=u.bool,a.isValue)switch(a.kind){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return e.maybeDropCondition(s,e.i32(0));case 11:{if($(s)==8)return e.binary(58,s,e.local_get(lt(s),L.F32));let o=i.currentFlow.getTempLocal(u.f32);return e.binary(58,e.local_tee(o.index,s,!1),e.local_get(o.index,L.F32))}case 12:{if($(s)==8)return e.binary(71,s,e.local_get(lt(s),L.F64));let o=i.currentFlow.getTempLocal(u.f64);return e.binary(71,e.local_tee(o.index,s,!1),e.local_get(o.index,L.F64))}}return i.error(203,t.reportNode.typeArgumentsRange,"isNaN",a.toString()),e.unreachable()}y.set(h.isNaN,q2);function W2(t){let i=t.compiler,e=i.module;if(se(t)|O(t,1))return i.currentType=u.bool,e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.auto),a=i.currentType;if(i.currentType=u.bool,a.isValue)switch(a.kind){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return e.maybeDropCondition(s,e.i32(1));case 11:{if($(s)==8)return e.binary(57,e.binary(51,s,e.local_get(lt(s),L.F32)),e.f32(0));let o=i.currentFlow.getTempLocal(u.f32);return e.binary(57,e.binary(51,e.local_tee(o.index,s,!1),e.local_get(o.index,L.F32)),e.f32(0))}case 12:{if($(s)==8)return e.binary(70,e.binary(64,s,e.local_get(lt(s),L.F64)),e.f64(0));let o=i.currentFlow.getTempLocal(u.f64);return e.binary(70,e.binary(64,e.local_tee(o.index,s,!1),e.local_get(o.index,L.F64)),e.f64(0))}}return i.error(203,t.reportNode.typeArgumentsRange,"isFinite",a.toString()),e.unreachable()}y.set(h.isFinite,W2);function K2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;i.runtimeFeatures|=4,e.addGlobal(r.internalName,n.toRef(),!0,i.makeZero(n))}Rt.set(h.heap_base,K2);function Q2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;return i.runtimeFeatures|=4,i.currentType=n,e.global_get(r.internalName,n.toRef())}tt.set(h.heap_base,Q2);function H2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;i.runtimeFeatures|=1,e.addGlobal(r.internalName,n.toRef(),!0,i.makeZero(n))}Rt.set(h.data_end,H2);function j2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;return i.runtimeFeatures|=1,i.currentType=n,e.global_get(r.internalName,n.toRef())}tt.set(h.data_end,j2);function X2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;i.runtimeFeatures|=2,e.addGlobal(r.internalName,n.toRef(),!0,i.makeZero(n))}Rt.set(h.stack_pointer,X2);function Z2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;return i.runtimeFeatures|=2,i.currentType=n,e.global_get(r.internalName,n.toRef())}tt.set(h.stack_pointer,Z2);function Y2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;i.runtimeFeatures|=8,e.addGlobal(r.internalName,n.toRef(),!0,i.makeZero(n))}Rt.set(h.rtti_base,Y2);function $2(t){let i=t.compiler,e=i.module,r=t.element,n=r.type;return i.runtimeFeatures|=8,i.currentType=n,e.global_get(r.internalName,n.toRef())}tt.set(h.rtti_base,$2);function Re(t){let i=t.compiler,e=i.module;if(X(t,!0)|xe(t,1,3))return e.unreachable();let r=t.operands,n=t.typeArguments,s=t.contextualType,a=n[0],l=s!=u.auto&&a.isIntegerValue&&s.isIntegerValue&&s.size>a.size?s:a;if(!l.isMemory)return i.error(203,t.reportNode.typeArgumentsRange,"load",l.toString()),i.currentType=u.void,e.unreachable();let o=i.compileExpression(r[0],i.options.usizeType,1),p=r.length,c=0,_=a.byteSize;return p>=2&&(c=Ze(r[1],i),c<0||p==3&&(_=Ft(r[2],_,i),_<0))?(i.currentType=l,e.unreachable()):(i.currentType=l,e.load(a.byteSize,a.isSignedIntegerValue,o,l.toRef(),c,_))}y.set(h.load,Re);function rt(t){let i=t.compiler,e=i.module;if(i.currentType=u.void,X(t)|xe(t,2,4))return e.unreachable();let r=t.operands,n=r.length,s=t.typeArguments,a=t.contextualType,l=s[0],o=i.compileExpression(r[0],i.options.usizeType,1),p=t.contextIsExact?i.compileExpression(r[1],a,1):i.compileExpression(r[1],l,l.isIntegerValue?0:1),c=i.currentType;if(!c.isMemory)return i.error(203,t.reportNode.typeArgumentsRange,"store",c.toString()),i.currentType=u.void,e.unreachable();l.isIntegerValue&&(!c.isIntegerValue||c.size<l.size)&&(p=i.convertExpression(p,c,l,!1,r[1]),c=l);let _=0,f=l.byteSize;if(n>=3){if(_=Ze(r[2],i),_<0)return i.currentType=u.void,e.unreachable();if(n==4&&(f=Ft(r[3],f,i),f<0))return i.currentType=u.void,e.unreachable()}return i.currentType=u.void,e.store(l.byteSize,o,p,c.toRef(),_,f)}y.set(h.store,rt);function jn(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],1):i.compileExpression(r[0],u.auto),l=i.currentType;if(l.isIntegerValue){let o;if(!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,1))):o=i.compileExpression(r[1],l,1),l.isIntegerValue)return i.makeRem(a,o,l,t.reportNode)}return i.error(203,t.reportNode.typeArgumentsRange,"rem",l.toString()),e.unreachable()}y.set(h.rem,jn);function Xn(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],1):i.compileExpression(r[0],u.auto),l=i.currentType;if(l.isValue){let o;if(!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,1))):o=i.compileExpression(r[1],l,1),l.isNumericValue)return i.makeAdd(a,o,l)}return i.error(203,t.reportNode.typeArgumentsRange,"add",l.toString()),e.unreachable()}y.set(h.add,Xn);function Zn(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],1):i.compileExpression(r[0],u.auto),l=i.currentType;if(l.isValue){let o;if(!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,1))):o=i.compileExpression(r[1],l,1),l.isNumericValue)return i.makeSub(a,o,l)}return i.error(203,t.reportNode.typeArgumentsRange,"sub",l.toString()),e.unreachable()}y.set(h.sub,Zn);function Yn(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],1):i.compileExpression(r[0],u.auto),l=i.currentType;if(l.isValue){let o;if(!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,1))):o=i.compileExpression(r[1],l,1),l.isNumericValue)return i.makeMul(a,o,l)}return i.error(203,t.reportNode.typeArgumentsRange,"mul",l.toString()),e.unreachable()}y.set(h.mul,Yn);function vr(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],1):i.compileExpression(r[0],u.auto),l=i.currentType;if(l.isValue){let o;if(!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,1))):o=i.compileExpression(r[1],l,1),l.isNumericValue)return i.makeDiv(a,o,l)}return i.error(203,t.reportNode.typeArgumentsRange,"div",l.toString()),e.unreachable()}y.set(h.div,vr);function $n(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],1):i.compileExpression(r[0],u.auto),l=i.currentType;if(l.isValue){let o;if(!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,1))):o=i.compileExpression(r[1],l,1),l.isNumericValue)return i.currentType=u.i32,i.makeEq(a,o,l,t.reportNode)}return i.error(203,t.reportNode.typeArgumentsRange,"eq",l.toString()),e.unreachable()}y.set(h.eq,$n);function Jn(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=r[0],a=n?i.compileExpression(s,n[0],1):i.compileExpression(r[0],u.auto),l=i.currentType;if(l.isValue){let o;if(!n&&s.isNumericLiteral?(o=i.compileExpression(r[1],l),i.currentType!=l&&(a=i.compileExpression(s,l=i.currentType,1))):o=i.compileExpression(r[1],l,1),l.isNumericValue)return i.currentType=u.i32,i.makeNe(a,o,l,t.reportNode)}return i.error(203,t.reportNode.typeArgumentsRange,"ne",l.toString()),e.unreachable()}y.set(h.ne,Jn);function jt(t){let i=t.compiler,e=i.module;if(H(t,32)|X(t,!0)|xe(t,1,2))return e.unreachable();let r=t.operands,n=t.typeArguments,s=t.contextualType,a=n[0],l=a.isIntegerValue&&s.isIntegerValue&&s.size>a.size?s:a;if(!a.isIntegerValue)return i.error(203,t.reportNode.typeArgumentsRange,"atomic.load",a.toString()),i.currentType=l,e.unreachable();let o=i.compileExpression(r[0],i.options.usizeType,1),p=r.length==2?Ze(r[1],i):0;return p<0?(i.currentType=l,e.unreachable()):(i.currentType=l,e.atomic_load(a.byteSize,o,l.toRef(),p))}y.set(h.atomic_load,jt);function Xt(t){let i=t.compiler,e=i.module;if(H(t,32)|X(t)|xe(t,2,3))return e.unreachable();let r=t.operands,n=t.typeArguments,s=t.contextualType,a=n[0];if(!a.isIntegerValue)return i.error(203,t.reportNode.typeArgumentsRange,"atomic.store",a.toString()),i.currentType=u.void,e.unreachable();let l=i.compileExpression(r[0],i.options.usizeType,1),o=t.contextIsExact?i.compileExpression(r[1],s,1):i.compileExpression(r[1],a,a.isIntegerValue?0:1),p=i.currentType;a.isIntegerValue&&(!p.isIntegerValue||p.size<a.size)&&(o=i.convertExpression(o,p,a,!1,r[1]),p=a);let c=r.length==3?Ze(r[2],i):0;return c<0?(i.currentType=u.void,e.unreachable()):(i.currentType=u.void,e.atomic_store(a.byteSize,l,o,p.toRef(),c))}y.set(h.atomic_store,Xt);function Ei(t,i,e){let r=t.compiler,n=r.module;if(H(t,32)|X(t,!0)|xe(t,2,3))return n.unreachable();let s=t.operands,a=t.typeArguments,l=t.contextualType,o=a[0];if(!o.isIntegerValue||o.size<8)return r.error(203,t.reportNode.typeArgumentsRange,e,o.toString()),n.unreachable();let p=r.compileExpression(s[0],r.options.usizeType,1),c=t.contextIsExact?r.compileExpression(s[1],l,1):r.compileExpression(s[1],o,o.isIntegerValue?0:1),_=r.currentType;o.isIntegerValue&&(!_.isIntegerValue||_.size<o.size)&&(c=r.convertExpression(c,_,o,!1,s[1]),_=o);let f=s.length==3?Ze(s[2],r):0;return f<0?(r.currentType=_,n.unreachable()):(r.currentType=_,n.atomic_rmw(i,o.byteSize,f,p,c,_.toRef()))}function Zt(t){return Ei(t,0,"atomic.add")}y.set(h.atomic_add,Zt);function Yt(t){return Ei(t,1,"atomic.sub")}y.set(h.atomic_sub,Yt);function $t(t){return Ei(t,2,"atomic.and")}y.set(h.atomic_and,$t);function Jt(t){return Ei(t,3,"atomic.or")}y.set(h.atomic_or,Jt);function er(t){return Ei(t,4,"atomic.xor")}y.set(h.atomic_xor,er);function tr(t){return Ei(t,5,"atomic.xchg")}y.set(h.atomic_xchg,tr);function rr(t){let i=t.compiler,e=i.module;if(H(t,32)|X(t,!0)|xe(t,3,4))return e.unreachable();let r=t.operands,n=t.typeArguments,s=t.contextualType,a=n[0];if(!a.isIntegerValue||a.size<8)return i.error(203,t.reportNode.typeArgumentsRange,"atomic.cmpxchg",a.toString()),e.unreachable();let l=i.compileExpression(r[0],i.options.usizeType,1),o=t.contextIsExact?i.compileExpression(r[1],s,1):i.compileExpression(r[1],a,a.isIntegerValue?0:1),p=i.currentType,c=i.compileExpression(r[2],p,1);a.isIntegerValue&&(!p.isIntegerValue||p.size<a.size)&&(o=i.convertExpression(o,p,a,!1,r[1]),c=i.convertExpression(c,p,a,!1,r[2]),p=a);let _=r.length==4?Ze(r[3],i):0;return _<0?(i.currentType=p,e.unreachable()):(i.currentType=p,e.atomic_cmpxchg(a.byteSize,_,l,o,c,p.toRef()))}y.set(h.atomic_cmpxchg,rr);function rc(t){let i=t.compiler,e=i.module;if(H(t,32)|X(t)|xe(t,2,3))return i.currentType=u.i32,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],i.options.usizeType,1),l=i.compileExpression(r[1],s,1),o=r.length==3?i.compileExpression(r[2],u.i64,1):e.i64(-1,-1);switch(i.currentType=u.i32,s.kind){case 3:case 4:case 5:case 8:case 9:case 10:return e.atomic_wait(a,l,o,s.toRef())}return i.error(203,t.reportNode.typeArgumentsRange,"atomic.wait",s.toString()),e.unreachable()}y.set(h.atomic_wait,rc);function J2(t){let i=t.compiler,e=i.module;if(H(t,32)|T(t)|xe(t,1,2))return i.currentType=u.i32,e.unreachable();let r=t.operands,n=i.compileExpression(r[0],i.options.usizeType,1),s=r.length==2?i.compileExpression(r[1],u.i32,1):e.i32(-1);return i.currentType=u.i32,e.atomic_notify(n,s)}y.set(h.atomic_notify,J2);function e1(t){let i=t.compiler,e=i.module;return i.currentType=u.void,H(t,32)|T(t)|O(t,0)?e.unreachable():e.atomic_fence()}y.set(h.atomic_fence,e1);function t1(t){let i=t.compiler,e=i.module;if(se(t,!0)|O(t,3))return e.unreachable();let r=t.operands,n=t.typeArguments,s=n?i.compileExpression(r[0],n[0],1):i.compileExpression(r[0],u.auto),a=i.currentType;if(!a.isAny(384))return i.error(203,t.reportNode.typeArgumentsRange,"select",a.toString()),e.unreachable();let l=i.compileExpression(r[1],a,1),o=i.makeIsTrueish(i.compileExpression(r[2],u.bool),i.currentType,r[2]);return i.currentType=a,e.select(s,l,o,a.toRef())}y.set(h.select,t1);function r1(t){return T(t),O(t,0),t.compiler.module.unreachable()}y.set(h.unreachable,r1);function i1(t){let i=t.compiler,e=i.module;return i.currentType=u.i32,T(t)|O(t,0)?e.unreachable():e.memory_size()}y.set(h.memory_size,i1);function n1(t){let i=t.compiler,e=i.module;return i.currentType=u.i32,T(t)|O(t,1)?e.unreachable():e.memory_grow(i.compileExpression(t.operands[0],u.i32,1))}y.set(h.memory_grow,n1);function s1(t){let i=t.compiler,e=i.module;if(i.currentType=u.void,T(t)|O(t,3))return e.unreachable();let r=t.operands;if(!i.options.hasFeature(8)){let o=i.resolver.resolveFunction(t.prototype,null);return i.currentType=u.void,!o||!i.compileFunction(o,!0)?e.unreachable():i.compileCallDirect(o,r,t.reportNode)}let n=i.options.usizeType,s=i.compileExpression(r[0],n,1),a=i.compileExpression(r[1],n,1),l=i.compileExpression(r[2],n,1);return i.currentType=u.void,e.memory_copy(s,a,l)}y.set(h.memory_copy,s1);function a1(t){let i=t.compiler,e=i.module;if(i.currentType=u.void,T(t)|O(t,3))return e.unreachable();let r=t.operands;if(!i.options.hasFeature(8)){let o=i.resolver.resolveFunction(t.prototype,null);return i.currentType=u.void,!o||!i.compileFunction(o,!0)?e.unreachable():i.compileCallDirect(o,r,t.reportNode)}let n=i.options.usizeType,s=i.compileExpression(r[0],n,1),a=i.compileExpression(r[1],u.u8,1),l=i.compileExpression(r[2],n,1);return i.currentType=u.void,e.memory_fill(s,a,l)}y.set(h.memory_fill,a1);function l1(t){let i=t.compiler,e=i.module;if(i.currentType=u.i32,se(t)|xe(t,1,2))return e.unreachable();let r=t.typeArguments,n=t.operands,s=n.length,a=i.options.usizeType,l;if(r&&r.length>0){let o=r[0];if(!o.isValue)return i.error(203,t.reportNode.typeArgumentsRange,"memory.data",o.toString()),i.currentType=a,e.unreachable();let p=n[0];if(p.kind!=16||p.literalKind!=5)return i.error(227,n[0].range),i.currentType=a,e.unreachable();let c=p.elementExpressions,_=c.length,f=new Array(_),d=!0;for(let x=0;x<_;++x){let A=c[x];if(A.kind!=19){let S=i.compileExpression(A,o,1),I=e.runExpression(S,1);I?S=I:d=!1,f[x]=S}else f[x]=i.makeZero(o)}if(!d)return i.error(220,p.range),i.currentType=a,e.unreachable();let g=o.byteSize;if(s==2&&(g=Ft(n[1],g,i),g<0))return i.currentType=a,e.unreachable();let E=new Uint8Array(_*o.byteSize);assert(i.writeStaticBuffer(E,0,o,f)==E.byteLength),l=i.addAlignedMemorySegment(E,g).offset}else{let o=i.compileExpression(n[0],u.i32,1),p=e.runExpression(o,1);if(!p)return i.error(220,n[0].range),i.currentType=a,e.unreachable();let c=ee(p);if(c<1)return i.error(222,n[0].range,"1",i32.MAX_VALUE.toString()),i.currentType=a,e.unreachable();let _=16;if(s==2&&(_=Ft(n[1],_,i),_<0))return i.currentType=a,e.unreachable();l=i.addAlignedMemorySegment(new Uint8Array(c),_).offset}return i.currentType=a,a==u.usize32?(assert(!i64_high(l)),e.i32(i64_low(l))):e.i64(i64_low(l),i64_high(l))}y.set(h.memory_data,l1);function o1(t){let i=t.compiler,e=i.module;if(T(t)|O(t,1))return e.unreachable();let r=t.operands,n=i.compileExpression(r[0],u.i32,1);return i.currentType=u.i31,e.i31_new(n)}y.set(h.i31_new,o1);function u1(t){let i=t.compiler,e=i.module;if(T(t)|O(t,1))return e.unreachable();let r=t.operands,n=i.compileExpression(r[0],u.i31.asNullable(),1);return t.contextualType.is(2)?(i.currentType=u.u32,e.i31_get(n,!1)):(i.currentType=u.i32,e.i31_get(n,!0))}y.set(h.i31_get,u1);function p1(t){let i=t.compiler,e=i.module;if(X(t,!0)|O(t,1))return e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.auto),l=i.currentType;return i.currentType=s,l.isChangeableTo(s)?a:(i.error(202,t.reportNode.range,l.toString(),s.toString()),e.unreachable())}y.set(h.changetype,p1);function c1(t){let i=t.compiler,e=i.module,r=t.typeArguments;if(se(t,!0)|xe(t,1,2))return r&&(assert(r.length),i.currentType=r[0].nonNullableType),e.unreachable();let n=t.operands,s=t.contextualType,a=r?i.compileExpression(n[0],r[0],5):i.compileExpression(n[0],u.bool,4),l=i.currentType;if(i.currentType=l.nonNullableType,i.options.noAssert)return a;let o=e.runExpression(a,0);if(o)switch(ne(o)){case L.I32:{if(ee(o))return a;break}case L.I64:{if(Ae(o)|Pe(o))return a;break}case L.F32:{if(ge(o))return a;break}case L.F64:{if(be(o))return a;break}}let p=i.makeAbort(n.length==2?n[1]:null,t.reportNode);if(i.currentType=l.nonNullableType,s==u.void)switch(i.currentType=u.void,l.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:return e.if(e.unary(20,a),p);case 4:case 9:return e.if(e.unary(21,a),p);case 5:case 10:return e.if(e.unary(132,a),p);case 11:return e.if(e.binary(57,a,e.f32(0)),p);case 12:return e.if(e.binary(70,a,e.f64(0)),p);case 15:case 14:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:return e.if(e.ref_is_null(a),p)}else{i.currentType=l.nonNullableType;let c=i.currentFlow;switch(i.currentType.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:{let _=c.getTempLocal(l);return c.setLocalFlag(_.index,2),e.if(e.local_tee(_.index,a,!1),e.local_get(_.index,L.I32),p)}case 4:case 9:{let _=c.getTempLocal(u.i64);return e.if(e.unary(21,e.local_tee(_.index,a,!1)),p,e.local_get(_.index,L.I64))}case 5:case 10:{let _=c.getTempLocal(i.options.usizeType);return e.if(e.unary(132,e.local_tee(_.index,a,l.isManaged)),p,e.local_get(_.index,i.options.sizeTypeRef))}case 11:{let _=c.getTempLocal(u.f32);return e.if(e.binary(57,e.local_tee(_.index,a,!1),e.f32(0)),p,e.local_get(_.index,L.F32))}case 12:{let _=c.getTempLocal(u.f64);return e.if(e.binary(70,e.local_tee(_.index,a,!1),e.f64(0)),p,e.local_get(_.index,L.F64))}case 15:case 14:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:{let _=c.getTempLocal(l);return e.if(e.ref_is_null(e.local_tee(_.index,a,!1)),p,e.local_get(_.index,l.toRef()))}}}return i.error(203,t.reportNode.typeArgumentsRange,"assert",i.currentType.toString()),p}y.set(h.assert,c1);function _1(t){let i=t.compiler,e=i.module;if(T(t)|O(t,1))return e.unreachable();let r=i.currentFlow,n=i.options.uncheckedBehavior===1,s=r.is(32768);n?assert(!s):r.set(32768);let a=i.compileExpression(t.operands[0],t.contextualType);return s||r.unset(32768),a}y.set(h.unchecked,_1);function f1(t){let i=t.compiler,e=i.module;if(T(t)|O(t,1))return e.unreachable();let r=i.currentFlow,n=r.is(131072);n||r.set(131072);let s=i.compileExpression(t.operands[0],t.contextualType);return n||r.unset(131072),s}y.set(h.inline_always,f1);function h1(t){let i=t.compiler,e=i.module;if(se(t,!0)|xe(t,1,i32.MAX_VALUE))return e.unreachable();let r=t.operands,n=t.typeArguments,s;n?(assert(n.length),s=n[0]):s=t.contextualType;let a=i.compileExpression(r[0],u.u32,1),l=r.length-1,o=new Array(l),p=new Array(l);for(let c=0;c<l;++c)o[c]=i.compileExpression(r[1+c],u.auto),p[c]=i.currentType.toRef();return i.currentType=s,e.call_indirect(null,a,o,Ke(p),s.toRef())}y.set(h.call_indirect,h1);function d1(t){let i=t.compiler,e=i.module;if(X(t,!0))return e.unreachable();let r=t.operands,a=t.typeArguments[0].getClass();if(!a)return i.error(2351,t.reportNode.expression.range),e.unreachable();i.currentType=a.type;let l=i.ensureConstructor(a,t.reportNode);return i.checkFieldInitialization(a,t.reportNode),i.compileInstantiate(l,r,0,t.reportNode)}y.set(h.instantiate,d1);function ic(t,i){let e=t.compiler,r=e.module;T(t);let n=t.operands,s=t.reportNode;return e.emitDiagnostic(102,i,s.range,null,n.length?n[0].range.toString():s.range.toString()),i==3?r.unreachable():r.nop()}function m1(t){return ic(t,3)}y.set(h.ERROR,m1);function y1(t){return ic(t,2)}y.set(h.WARNING,y1);function g1(t){return ic(t,1)}y.set(h.INFO,g1);function b1(t){let i=t.compiler,e=t.prototype.parent;assert(e.kind==7);let r=e;assert(r.prototype==i.program.functionPrototype);let n=assert(r.typeArguments);assert(n.length==1);let s=n[0],a=assert(s.getSignature()),l=a.returnType;if(T(t)|xe(t,1+a.requiredParameters,1+a.parameterTypes.length))return i.currentType=l,i.module.unreachable();let o=i.compileExpression(assert(t.thisOperand),s,1),p=assert(t.operands.shift()),c=a.thisType,_=0;if(c)_=i.compileExpression(p,c,1);else if(p.kind!=18)return i.error(2332,p.range),i.module.unreachable();return i.compileCallIndirect(a,o,t.operands,t.reportNode,_,t.contextualType==u.void)}y.set(h.Function_call,b1);function x1(t){let i=t.compiler,e=i.module;return i.currentType=t.compiler.program.stringInstance.type,i.error(100,t.reportNode.range,"String.raw"),e.unreachable()}y.set(h.String_raw,x1);function je(t,i){let e=t.compiler;return T(t)|O(t,1)?(e.currentType=i,e.module.unreachable()):e.compileExpression(t.operands[0],i,2)}function T1(t){return je(t,u.i8)}y.set(h.i8,T1);function A1(t){return je(t,u.i16)}y.set(h.i16,A1);function E1(t){return je(t,u.i32)}y.set(h.i32,E1);function v1(t){return je(t,u.i64)}y.set(h.i64,v1);function I1(t){return je(t,t.compiler.options.isizeType)}y.set(h.isize,I1);function S1(t){return je(t,u.u8)}y.set(h.u8,S1);function F1(t){return je(t,u.u16)}y.set(h.u16,F1);function R1(t){return je(t,u.u32)}y.set(h.u32,R1);function k1(t){return je(t,u.u64)}y.set(h.u64,k1);function w1(t){return je(t,t.compiler.options.usizeType)}y.set(h.usize,w1);function C1(t){return je(t,u.bool)}y.set(h.bool,C1);function P1(t){return je(t,u.f32)}y.set(h.f32,P1);function B1(t){return je(t,u.f64)}y.set(h.f64,B1);function L1(t){return Zy(t)}y.set(h.v128,L1);function Zy(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,16))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=new Uint8Array(16),s=new Array(16),a=0;for(let l=0;l<16;++l){let o=i.compileExpression(r[l],u.i8,1),p=e.runExpression(o,1);p?ce(ee(p),n,l):(s[l]=o,a++)}if(i.currentType=u.v128,a==0)return e.v128(n);{let l,o=a==16;o?l=e.unary(60,s[0]):l=e.v128(n);for(let p=i32(o);p<16;p++){let c=s[p];c&&(l=e.simd_replace(0,l,p,c))}return l}}y.set(h.i8x16,Zy);function N1(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,8))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=new Uint8Array(16),s=new Array(8),a=0;for(let l=0;l<8;++l){let o=i.compileExpression(r[l],u.i16,1),p=e.runExpression(o,1);p?Dt(ee(p),n,l<<1):(s[l]=o,a++)}if(i.currentType=u.v128,a==0)return e.v128(n);{let l,o=a==8;o?l=e.unary(61,s[0]):l=e.v128(n);for(let p=i32(o);p<8;p++){let c=s[p];c&&(l=e.simd_replace(1,l,p,c))}return l}}y.set(h.i16x8,N1);function M1(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,4))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=new Uint8Array(16),s=new Array(4),a=0;for(let l=0;l<4;++l){let o=i.compileExpression(r[l],u.i32,1),p=e.runExpression(o,1);p?he(ee(p),n,l<<2):(s[l]=o,a++)}if(i.currentType=u.v128,a==0)return e.v128(n);{let l,o=a==4;o?l=e.unary(62,s[0]):l=e.v128(n);for(let p=i32(o);p<4;p++){let c=s[p];c&&(l=e.simd_replace(2,l,p,c))}return l}}y.set(h.i32x4,M1);function G1(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=new Uint8Array(16),s=new Array(2),a=0;for(let l=0;l<2;++l){let o=i.compileExpression(r[l],u.i64,1),p=e.runExpression(o,1);if(p){let c=l<<3;he(Ae(p),n,c+0),he(Pe(p),n,c+4)}else s[l]=o,a++}if(i.currentType=u.v128,a==0)return e.v128(n);{let l,o=a==2;o?l=e.unary(63,s[0]):l=e.v128(n);for(let p=i32(o);p<2;p++){let c=s[p];c&&(l=e.simd_replace(3,l,p,c))}return l}}y.set(h.i64x2,G1);function z1(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,4))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=new Uint8Array(16),s=new Array(4),a=0;for(let l=0;l<4;++l){let o=i.compileExpression(r[l],u.f32,1),p=e.runExpression(o,1);p?ur(ge(p),n,l<<2):(s[l]=o,a++)}if(i.currentType=u.v128,a==0)return e.v128(n);{let l,o=a==4;o?l=e.unary(64,s[0]):l=e.v128(n);for(let p=i32(o);p<4;p++){let c=s[p];c&&(l=e.simd_replace(4,l,p,c))}return l}}y.set(h.f32x4,z1);function U1(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=new Uint8Array(16),s=new Array(2),a=0;for(let l=0;l<2;++l){let o=i.compileExpression(r[l],u.f64,1),p=e.runExpression(o,1);p?pr(be(p),n,l<<3):(s[l]=o,a++)}if(i.currentType=u.v128,a==0)return e.v128(n);{let l,o=a==2;o?l=e.unary(65,s[0]):l=e.v128(n);for(let p=i32(o);p<2;p++){let c=s[p];c&&(l=e.simd_replace(5,l,p,c))}return l}}y.set(h.f64x2,U1);function Ir(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],s,1);if(i.currentType=u.v128,s.isValue)switch(s.kind){case 1:case 6:return e.unary(60,a);case 2:case 7:return e.unary(61,a);case 3:case 8:return e.unary(62,a);case 4:case 9:return e.unary(63,a);case 5:case 10:return e.unary(i.options.isWasm64?63:62,a);case 11:return e.unary(64,a);case 12:return e.unary(65,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.splat",s.toString()),e.unreachable()}y.set(h.v128_splat,Ir);function kt(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t,!0)|O(t,2))return e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.u8,1);i.currentType=s;let o=0,p=e.runExpression(l,1);if(p?o=ee(p):i.error(220,r[1].range),s.isValue){let c=16/assert(s.byteSize)-1;switch((o<0||o>c)&&(i.error(222,r[1].range,"Lane index","0",c.toString()),o=0),s.kind){case 1:return e.simd_extract(0,a,o);case 6:return e.simd_extract(1,a,o);case 2:return e.simd_extract(2,a,o);case 7:return e.simd_extract(3,a,o);case 3:case 8:return e.simd_extract(4,a,o);case 4:case 9:return e.simd_extract(5,a,o);case 5:case 10:return e.simd_extract(i.options.isWasm64?5:4,a,o);case 11:return e.simd_extract(6,a,o);case 12:return e.simd_extract(7,a,o)}}return i.error(203,t.reportNode.typeArgumentsRange,"v128.extract_lane",s.toString()),e.unreachable()}y.set(h.v128_extract_lane,kt);function Sr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,3))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.u8,1),o=i.compileExpression(r[2],s,1);i.currentType=u.v128;let p=0,c=e.runExpression(l,1);if(c?p=ee(c):i.error(220,r[1].range),s.isValue){let _=16/assert(s.byteSize)-1;switch((p<0||p>_)&&(i.error(222,r[1].range,"Lane index","0",_.toString()),p=0),s.kind){case 1:case 6:return e.simd_replace(0,a,p,o);case 2:case 7:return e.simd_replace(1,a,p,o);case 3:case 8:return e.simd_replace(2,a,p,o);case 4:case 9:return e.simd_replace(3,a,p,o);case 5:case 10:return e.simd_replace(i.options.isWasm64?3:2,a,p,o);case 11:return e.simd_replace(4,a,p,o);case 12:return e.simd_replace(5,a,p,o)}}return i.error(203,t.reportNode.typeArgumentsRange,"v128.replace_lane",s.toString()),e.unreachable()}y.set(h.v128_replace_lane,Sr);function Fr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0];if(s.isValue){let a=s.byteSize,l=16/a;if(assert(Number.isInteger(l)&&gt(l)),O(t,2+l))return i.currentType=u.v128,e.unreachable();let o=i.compileExpression(r[0],u.v128,1),p=i.compileExpression(r[1],u.v128,1);switch(s.kind){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:{let c=new Uint8Array(16),_=(l<<1)-1;for(let f=0;f<l;++f){let d=r[2+f],g=i.compileExpression(d,u.u8,1),E=e.runExpression(g,1),x=0;switch(E?(x=ee(E),(x<0||x>_)&&(i.error(222,d.range,"Lane index","0",_.toString()),x=0)):i.error(220,d.range),a){case 1:{ce(x,c,f);break}case 2:{let A=f<<1,S=x<<1;ce(S,c,A),ce(S+1,c,A+1);break}case 4:{let A=f<<2,S=x<<2;ce(S,c,A),ce(S+1,c,A+1),ce(S+2,c,A+2),ce(S+3,c,A+3);break}case 8:{let A=f<<3,S=x<<3;ce(S,c,A),ce(S+1,c,A+1),ce(S+2,c,A+2),ce(S+3,c,A+3),ce(S+4,c,A+4),ce(S+5,c,A+5),ce(S+6,c,A+6),ce(S+7,c,A+7);break}default:assert(!1)}}return i.currentType=u.v128,e.simd_shuffle(o,p,c)}}}return i.error(203,t.reportNode.typeArgumentsRange,"v128.shuffle",s.toString()),i.currentType=u.v128,e.unreachable()}y.set(h.v128_shuffle,Fr);function Yy(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=i.compileExpression(r[0],u.v128,1),s=i.compileExpression(r[1],u.v128,1);return e.binary(195,n,s)}y.set(h.v128_swizzle,Yy);function es(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t,!0)|xe(t,1,3))return e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],i.options.usizeType,1),l=r.length,o=0,p=s.byteSize;if(l>=2){if(o=Ze(r[1],i),o<0)return i.currentType=u.v128,e.unreachable();if(l==3&&(p=Ft(r[2],p,i),p<0))return i.currentType=u.v128,e.unreachable()}if(i.currentType=u.v128,s.isValue)switch(s.kind){case 1:case 6:return e.simd_load(0,a,o,p);case 2:case 7:return e.simd_load(1,a,o,p);case 3:case 8:case 11:return e.simd_load(2,a,o,p);case 5:case 10:if(!i.options.isWasm64)return e.simd_load(2,a,o,p);case 4:case 9:case 12:return e.simd_load(3,a,o,p)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.load_splat",s.toString()),e.unreachable()}y.set(h.v128_load_splat,es);function Rr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t,!0)|xe(t,1,3))return e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],i.options.usizeType,1),l=r.length,o=0,p=s.byteSize;if(l>=2){if(o=Ze(r[1],i),o<0)return i.currentType=u.v128,e.unreachable();if(l==3&&(p=Ft(r[2],p,i),p<0))return i.currentType=u.v128,e.unreachable()}if(i.currentType=u.v128,s.isValue)switch(s.kind){case 1:return e.simd_load(4,a,o,p);case 6:return e.simd_load(5,a,o,p);case 2:return e.simd_load(6,a,o,p);case 7:return e.simd_load(7,a,o,p);case 5:if(i.options.isWasm64)break;case 3:return e.simd_load(8,a,o,p);case 10:if(i.options.isWasm64)break;case 8:return e.simd_load(9,a,o,p)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.load_ext",s.toString()),e.unreachable()}y.set(h.v128_load_ext,Rr);function nc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t,!0)|xe(t,1,3))return e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],i.options.usizeType,1),l=r.length,o=0,p=s.byteSize;if(l>=2){if(o=Ze(r[1],i),o<0)return i.currentType=u.v128,e.unreachable();if(l==3&&(p=Ft(r[2],p,i),p<0))return i.currentType=u.v128,e.unreachable()}if(i.currentType=u.v128,s.isValue)switch(s.kind){case 3:case 8:case 11:return e.simd_load(10,a,o,p);case 4:case 9:case 12:return e.simd_load(11,a,o,p);case 5:case 10:return e.simd_load(i.options.isWasm64?11:10,a,o,p)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.load_zero",s.toString()),e.unreachable()}y.set(h.v128_load_zero,nc);function ts(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t,!0)|xe(t,3,5))return e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],i.options.usizeType,1),l=i.compileExpression(r[1],u.v128,1),o=i.compileExpression(r[2],u.u8,1),p=0,c=e.runExpression(o,1);c?p=ee(c):i.error(220,r[2].range);let _=r.length,f=0,d=s.byteSize;if(_>=4){if(f=Ze(r[3],i),f<0)return i.currentType=u.v128,e.unreachable();if(_==5&&(d=Ft(r[4],d,i),d<0))return i.currentType=u.v128,e.unreachable()}if(i.currentType=u.v128,s.isValue){let g=16/assert(s.byteSize)-1;switch((p<0||p>g)&&(i.error(222,r[1].range,"Lane index","0",g.toString()),p=0),s.kind){case 1:case 6:return e.simd_loadstorelane(0,a,f,d,p,l);case 2:case 7:return e.simd_loadstorelane(1,a,f,d,p,l);case 3:case 8:case 11:return e.simd_loadstorelane(2,a,f,d,p,l);case 4:case 9:case 12:return e.simd_loadstorelane(3,a,f,d,p,l);case 5:case 10:return e.simd_loadstorelane(i.options.isWasm64?3:2,a,f,d,p,l)}}return i.error(203,t.reportNode.typeArgumentsRange,"v128.load_lane",s.toString()),e.unreachable()}y.set(h.v128_load_lane,ts);function rs(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t,!0)|xe(t,3,5))return e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],i.options.usizeType,1),l=i.compileExpression(r[1],u.v128,1),o=i.compileExpression(r[2],u.u8,1),p=0,c=e.runExpression(o,1);c?p=ee(c):i.error(220,r[2].range);let _=r.length,f=0,d=s.byteSize;if(_>=4){if(f=Ze(r[3],i),f<0)return i.currentType=u.v128,e.unreachable();if(_==5&&(d=Ft(r[4],d,i),d<0))return i.currentType=u.v128,e.unreachable()}if(i.currentType=u.void,s.isValue){let g=16/assert(s.byteSize)-1;switch((p<0||p>g)&&(i.error(222,r[1].range,"Lane index","0",g.toString()),p=0),s.kind){case 1:case 6:return e.simd_loadstorelane(4,a,f,d,p,l);case 2:case 7:return e.simd_loadstorelane(5,a,f,d,p,l);case 3:case 8:case 11:return e.simd_loadstorelane(6,a,f,d,p,l);case 4:case 9:case 12:return e.simd_loadstorelane(7,a,f,d,p,l);case 5:case 10:return e.simd_loadstorelane(i.options.isWasm64?7:6,a,f,d,p,l)}}return i.error(203,t.reportNode.typeArgumentsRange,"v128.store_lane",s.toString()),e.unreachable()}y.set(h.v128_store_lane,rs);function kr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return e.binary(128,a,l);case 2:case 7:return e.binary(139,a,l);case 3:case 8:return e.binary(156,a,l);case 4:case 9:return e.binary(168,a,l);case 5:case 10:return e.binary(i.options.isWasm64?168:156,a,l);case 11:return e.binary(175,a,l);case 12:return e.binary(183,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.add",s.toString()),e.unreachable()}y.set(h.v128_add,kr);function wr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return e.binary(131,a,l);case 2:case 7:return e.binary(142,a,l);case 3:case 8:return e.binary(157,a,l);case 4:case 9:return e.binary(169,a,l);case 5:case 10:return e.binary(i.options.isWasm64?169:157,a,l);case 11:return e.binary(176,a,l);case 12:return e.binary(184,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.sub",s.toString()),e.unreachable()}y.set(h.v128_sub,wr);function vi(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 2:case 7:return e.binary(145,a,l);case 3:case 8:return e.binary(158,a,l);case 4:case 9:return e.binary(170,a,l);case 5:case 10:return e.binary(i.options.isWasm64?170:158,a,l);case 11:return e.binary(177,a,l);case 12:return e.binary(185,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.mul",s.toString()),e.unreachable()}y.set(h.v128_mul,vi);function sc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(178,a,l);case 12:return e.binary(186,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.div",s.toString()),e.unreachable()}y.set(h.v128_div,sc);function is(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(129,a,l);case 6:return e.binary(130,a,l);case 2:return e.binary(140,a,l);case 7:return e.binary(141,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.add_sat",s.toString()),e.unreachable()}y.set(h.v128_add_sat,is);function ns(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(132,a,l);case 6:return e.binary(133,a,l);case 2:return e.binary(143,a,l);case 7:return e.binary(144,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.sub_sat",s.toString()),e.unreachable()}y.set(h.v128_sub_sat,ns);function wt(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(134,a,l);case 6:return e.binary(135,a,l);case 2:return e.binary(146,a,l);case 7:return e.binary(147,a,l);case 5:if(i.options.isWasm64)break;case 3:return e.binary(159,a,l);case 10:if(i.options.isWasm64)break;case 8:return e.binary(160,a,l);case 11:return e.binary(179,a,l);case 12:return e.binary(187,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.min",s.toString()),e.unreachable()}y.set(h.v128_min,wt);function Ct(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(136,a,l);case 6:return e.binary(137,a,l);case 2:return e.binary(148,a,l);case 7:return e.binary(149,a,l);case 5:if(i.options.isWasm64)break;case 3:return e.binary(161,a,l);case 10:if(i.options.isWasm64)break;case 8:return e.binary(162,a,l);case 11:return e.binary(180,a,l);case 12:return e.binary(188,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.max",s.toString()),e.unreachable()}y.set(h.v128_max,Ct);function ac(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(181,a,l);case 12:return e.binary(189,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.pmin",s.toString()),e.unreachable()}y.set(h.v128_pmin,ac);function lc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(182,a,l);case 12:return e.binary(190,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.pmax",s.toString()),e.unreachable()}y.set(h.v128_pmax,lc);function $y(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 2:return e.binary(163,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.dot",s.toString()),e.unreachable()}y.set(h.v128_dot,$y);function oc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 6:return e.binary(138,a,l);case 7:return e.binary(150,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.avgr",s.toString()),e.unreachable()}y.set(h.v128_avgr,oc);function Cr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return e.binary(76,a,l);case 2:case 7:return e.binary(86,a,l);case 3:case 8:return e.binary(96,a,l);case 4:case 9:return e.binary(106,a,l);case 5:case 10:return e.binary(i.options.isWasm64?106:96,a,l);case 11:return e.binary(112,a,l);case 12:return e.binary(118,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.eq",s.toString()),e.unreachable()}y.set(h.v128_eq,Cr);function Pr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return e.binary(77,a,l);case 2:case 7:return e.binary(87,a,l);case 3:case 8:return e.binary(97,a,l);case 4:case 9:return e.binary(107,a,l);case 5:case 10:return e.binary(i.options.isWasm64?107:97,a,l);case 11:return e.binary(113,a,l);case 12:return e.binary(119,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.ne",s.toString()),e.unreachable()}y.set(h.v128_ne,Pr);function _t(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(78,a,l);case 6:return e.binary(79,a,l);case 2:return e.binary(88,a,l);case 7:return e.binary(89,a,l);case 3:return e.binary(98,a,l);case 8:return e.binary(99,a,l);case 4:return e.binary(108,a,l);case 5:return e.binary(i.options.isWasm64?108:98,a,l);case 10:{if(i.options.isWasm64)break;return e.binary(99,a,l)}case 11:return e.binary(114,a,l);case 12:return e.binary(120,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.lt",s.toString()),e.unreachable()}y.set(h.v128_lt,_t);function ft(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(82,a,l);case 6:return e.binary(83,a,l);case 2:return e.binary(92,a,l);case 7:return e.binary(93,a,l);case 3:return e.binary(102,a,l);case 8:return e.binary(103,a,l);case 4:return e.binary(110,a,l);case 5:return e.binary(i.options.isWasm64?110:102,a,l);case 10:{if(i.options.isWasm64)break;return e.binary(103,a,l)}case 11:return e.binary(116,a,l);case 12:return e.binary(122,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.le",s.toString()),e.unreachable()}y.set(h.v128_le,ft);function ht(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(80,a,l);case 6:return e.binary(81,a,l);case 2:return e.binary(90,a,l);case 7:return e.binary(91,a,l);case 3:return e.binary(100,a,l);case 8:return e.binary(101,a,l);case 4:return e.binary(109,a,l);case 5:return e.binary(i.options.isWasm64?109:100,a,l);case 10:{if(i.options.isWasm64)break;return e.binary(101,a,l)}case 11:return e.binary(115,a,l);case 12:return e.binary(121,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.gt",s.toString()),e.unreachable()}y.set(h.v128_gt,ht);function dt(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(84,a,l);case 6:return e.binary(85,a,l);case 2:return e.binary(94,a,l);case 7:return e.binary(95,a,l);case 3:return e.binary(104,a,l);case 8:return e.binary(105,a,l);case 4:return e.binary(111,a,l);case 5:return e.binary(i.options.isWasm64?111:104,a,l);case 10:{if(i.options.isWasm64)break;return e.binary(105,a,l)}case 11:return e.binary(117,a,l);case 12:return e.binary(123,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.ge",s.toString()),e.unreachable()}y.set(h.v128_ge,dt);function ss(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 2:return e.binary(191,a,l);case 7:return e.binary(192,a,l);case 3:return e.binary(193,a,l);case 8:return e.binary(194,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.narrow",s.toString()),e.unreachable()}y.set(h.v128_narrow,ss);function Br(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return e.unary(69,a);case 2:case 7:return e.unary(74,a);case 3:case 8:return e.unary(78,a);case 4:case 9:return e.unary(82,a);case 5:case 10:return e.unary(i.options.isWasm64?82:78,a);case 11:return e.unary(86,a);case 12:return e.unary(93,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.neg",s.toString()),e.unreachable()}y.set(h.v128_neg,Br);function Lr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.unary(68,a);case 2:return e.unary(73,a);case 3:return e.unary(77,a);case 4:return e.unary(81,a);case 5:return e.unary(i.options.isWasm64?81:77,a);case 6:case 7:case 8:case 9:case 10:return a;case 11:return e.unary(85,a);case 12:return e.unary(92,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.abs",s.toString()),e.unreachable()}y.set(h.v128_abs,Lr);function uc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(87,a);case 12:return e.unary(94,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.sqrt",s.toString()),e.unreachable()}y.set(h.v128_sqrt,uc);function pc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(88,a);case 12:return e.unary(95,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.ceil",s.toString()),e.unreachable()}y.set(h.v128_ceil,pc);function cc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(89,a);case 12:return e.unary(96,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.floor",s.toString()),e.unreachable()}y.set(h.v128_floor,cc);function _c(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(90,a);case 12:return e.unary(97,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.trunc",s.toString()),e.unreachable()}y.set(h.v128_trunc,_c);function fc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.unary(91,a);case 12:return e.unary(98,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.nearest",s.toString()),e.unreachable()}y.set(h.v128_nearest,fc);function hc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 5:if(i.options.isWasm64)break;case 3:return e.unary(105,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(106,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.convert",s.toString()),e.unreachable()}y.set(h.v128_convert,hc);function dc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 5:if(i.options.isWasm64)break;case 3:return e.unary(119,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(120,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.convert_low",s.toString()),e.unreachable()}y.set(h.v128_convert_low,dc);function mc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 5:if(i.options.isWasm64)break;case 3:return e.unary(103,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(104,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.trunc_sat",s.toString()),e.unreachable()}y.set(h.v128_trunc_sat,mc);function yc(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 5:if(i.options.isWasm64)break;case 3:return e.unary(121,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(122,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.trunc_sat_zero",s.toString()),e.unreachable()}y.set(h.v128_trunc_sat_zero,yc);function Nr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.unary(107,a);case 6:return e.unary(109,a);case 2:return e.unary(111,a);case 7:return e.unary(113,a);case 5:if(i.options.isWasm64)break;case 3:return e.unary(115,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(117,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.extend_low",s.toString()),e.unreachable()}y.set(h.v128_extend_low,Nr);function Mr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.unary(108,a);case 6:return e.unary(110,a);case 2:return e.unary(112,a);case 7:return e.unary(114,a);case 5:if(i.options.isWasm64)break;case 3:return e.unary(116,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(118,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.extend_high",s.toString()),e.unreachable()}y.set(h.v128_extend_high,Mr);function as(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=t.typeArguments[0],s=i.compileExpression(r[0],u.v128,1),a=i.compileExpression(r[1],u.i32,1);if(i.currentType=u.v128,n.isValue)switch(n.kind){case 1:case 6:return e.simd_shift(0,s,a);case 2:case 7:return e.simd_shift(3,s,a);case 3:case 8:return e.simd_shift(6,s,a);case 4:case 9:return e.simd_shift(9,s,a);case 5:case 10:return e.simd_shift(i.options.isWasm64?9:6,s,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.shl",n.toString()),e.unreachable()}y.set(h.v128_shl,as);function Pt(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=t.typeArguments[0],s=i.compileExpression(r[0],u.v128,1),a=i.compileExpression(r[1],u.i32,1);if(i.currentType=u.v128,n.isValue)switch(n.kind){case 1:return e.simd_shift(1,s,a);case 6:return e.simd_shift(2,s,a);case 2:return e.simd_shift(4,s,a);case 7:return e.simd_shift(5,s,a);case 3:return e.simd_shift(7,s,a);case 8:return e.simd_shift(8,s,a);case 4:return e.simd_shift(10,s,a);case 9:return e.simd_shift(11,s,a);case 5:return e.simd_shift(i.options.isWasm64?10:7,s,a);case 10:return e.simd_shift(i.options.isWasm64?11:8,s,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.shr",n.toString()),e.unreachable()}y.set(h.v128_shr,Pt);function Bl(t,i){let e=t.compiler,r=e.module;if(H(t,16)|T(t)|O(t,2))return e.currentType=u.v128,r.unreachable();let n=t.operands,s=e.compileExpression(n[0],u.v128,1),a=e.compileExpression(n[1],u.v128,1);return r.binary(i,s,a)}function D1(t){return Bl(t,124)}y.set(h.v128_and,D1);function V1(t){return Bl(t,125)}y.set(h.v128_or,V1);function O1(t){return Bl(t,126)}y.set(h.v128_xor,O1);function q1(t){return Bl(t,127)}y.set(h.v128_andnot,q1);function W1(t,i){let e=t.compiler,r=e.module;if(H(t,16)|T(t)|O(t,1))return e.currentType=u.v128,r.unreachable();let n=t.operands,s=e.compileExpression(n[0],u.v128,1);return r.unary(i,s)}function K1(t){return W1(t,66)}y.set(h.v128_not,K1);function Q1(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,3))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=i.compileExpression(r[0],u.v128,1),s=i.compileExpression(r[1],u.v128,1),a=i.compileExpression(r[2],u.v128,1);return e.simd_ternary(0,n,s,a)}y.set(h.v128_bitselect,Q1);function H1(t){let i=t.compiler,e=i.module;if(H(t,16)|T(t)|O(t,1))return i.currentType=u.bool,e.unreachable();let r=t.operands,n=i.compileExpression(r[0],u.v128,1);return i.currentType=u.bool,e.unary(67,n)}y.set(h.v128_any_true,H1);function ls(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.bool,e.unreachable();let r=t.operands,n=t.typeArguments[0],s=i.compileExpression(r[0],u.v128,1);if(i.currentType=u.bool,n.isValue)switch(n.kind){case 1:case 6:return e.unary(70,s);case 2:case 7:return e.unary(75,s);case 3:case 8:return e.unary(79,s);case 4:case 9:return e.unary(83,s);case 5:case 10:return e.unary(i.options.isWasm64?83:79,s)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.all_true",n.toString()),e.unreachable()}y.set(h.v128_all_true,ls);function os(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.i32,e.unreachable();let r=t.operands,n=t.typeArguments[0],s=i.compileExpression(r[0],u.v128,1);if(i.currentType=u.i32,n.isValue)switch(n.kind){case 1:case 6:return e.unary(71,s);case 2:case 7:return e.unary(76,s);case 3:case 8:return e.unary(80,s);case 4:case 9:return e.unary(84,s);case 5:case 10:return e.unary(i.options.isWasm64?84:80,s)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.bitmask",n.toString()),e.unreachable()}y.set(h.v128_bitmask,os);function Jy(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=t.typeArguments[0],s=i.compileExpression(r[0],u.v128,1);if(i.currentType=u.v128,n.isValue)switch(n.kind){case 1:case 6:return e.unary(72,s)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.popcnt",n.toString()),e.unreachable()}y.set(h.v128_popcnt,Jy);function us(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=t.typeArguments[0],s=i.compileExpression(r[0],u.v128,1);if(i.currentType=u.v128,n.isValue)switch(n.kind){case 1:return e.unary(99,s);case 6:return e.unary(100,s);case 2:return e.unary(101,s);case 7:return e.unary(102,s)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.extadd_pairwise",n.toString()),e.unreachable()}y.set(h.v128_extadd_pairwise,us);function eg(t){let i=t.compiler,e=i.module;if(H(t,16)|se(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=t.typeArguments,s=n?n[0]:u.f64,a=i.compileExpression(r[0],u.v128,1);if(i.currentType=u.v128,s.isValue)switch(s.kind){case 12:return e.unary(123,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.demote_zero",s.toString()),e.unreachable()}y.set(h.v128_demote_zero,eg);function tg(t){let i=t.compiler,e=i.module;if(H(t,16)|se(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=t.typeArguments,s=n?n[0]:u.f32,a=i.compileExpression(r[0],u.v128,1);if(i.currentType=u.v128,s.isValue)switch(s.kind){case 11:return e.unary(124,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.promote_low",s.toString()),e.unreachable()}y.set(h.v128_promote_low,tg);function rg(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 2:return e.binary(151,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.q15mulr_sat",s.toString()),e.unreachable()}y.set(h.v128_q15mulr_sat,rg);function Gr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(152,a,l);case 6:return e.binary(154,a,l);case 2:return e.binary(164,a,l);case 7:return e.binary(166,a,l);case 3:return e.binary(171,a,l);case 8:return e.binary(173,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.extmul_low",s.toString()),e.unreachable()}y.set(h.v128_extmul_low,Gr);function zr(t){let i=t.compiler,e=i.module;if(H(t,16)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return e.binary(153,a,l);case 6:return e.binary(155,a,l);case 2:return e.binary(165,a,l);case 7:return e.binary(167,a,l);case 3:return e.binary(172,a,l);case 8:return e.binary(174,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.extmul_high",s.toString()),e.unreachable()}y.set(h.v128_extmul_high,zr);function ig(t){let i=t.compiler,e=i.module;if(H(t,4096)|T(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,n=i.compileExpression(r[0],u.v128,1),s=i.compileExpression(r[1],u.v128,1);return e.binary(196,n,s)}y.set(h.v128_relaxed_swizzle,ig);function gc(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 5:if(i.options.isWasm64)break;case 3:return e.unary(125,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(126,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_trunc",s.toString()),e.unreachable()}y.set(h.v128_relaxed_trunc,gc);function bc(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,1))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1);if(s.isValue)switch(s.kind){case 5:if(i.options.isWasm64)break;case 3:return e.unary(127,a);case 10:if(i.options.isWasm64)break;case 8:return e.unary(128,a)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_trunc_zero",s.toString()),e.unreachable()}y.set(h.v128_relaxed_trunc_zero,bc);function xc(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,3))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1),o=i.compileExpression(r[2],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.simd_ternary(1,a,l,o);case 12:return e.simd_ternary(3,a,l,o)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_madd",s.toString()),e.unreachable()}y.set(h.v128_relaxed_madd,xc);function Tc(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,3))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1),o=i.compileExpression(r[2],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.simd_ternary(2,a,l,o);case 12:return e.simd_ternary(4,a,l,o)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_nmadd",s.toString()),e.unreachable()}y.set(h.v128_relaxed_nmadd,Tc);function ps(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,3))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1),o=i.compileExpression(r[2],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return e.simd_ternary(5,a,l,o);case 2:case 7:return e.simd_ternary(6,a,l,o);case 3:case 8:return e.simd_ternary(7,a,l,o);case 4:case 9:return e.simd_ternary(8,a,l,o);case 5:case 10:return e.simd_ternary(i.options.isWasm64?8:7,a,l,o)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_laneselect",s.toString()),e.unreachable()}y.set(h.v128_relaxed_laneselect,ps);function Ac(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(197,a,l);case 12:return e.binary(199,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_min",s.toString()),e.unreachable()}y.set(h.v128_relaxed_min,Ac);function Ec(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return e.binary(198,a,l);case 12:return e.binary(200,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_max",s.toString()),e.unreachable()}y.set(h.v128_relaxed_max,Ec);function ng(t){let i=t.compiler,e=i.module;if(H(t,4096)|X(t)|O(t,2))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);if(s.isValue)switch(s.kind){case 2:return e.binary(201,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_q15mulr",s.toString()),e.unreachable()}y.set(h.v128_relaxed_q15mulr,ng);function sg(t){let i=t.compiler,e=i.module;if(H(t,4096)|O(t,2)|X(t))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1);switch(s.kind){case 2:return e.binary(202,a,l)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_dot",s.toString()),e.unreachable()}y.set(h.v128_relaxed_dot,sg);function ag(t){let i=t.compiler,e=i.module;if(H(t,4096)|O(t,3)|X(t))return i.currentType=u.v128,e.unreachable();let r=t.operands,s=t.typeArguments[0],a=i.compileExpression(r[0],u.v128,1),l=i.compileExpression(r[1],u.v128,1),o=i.compileExpression(r[2],u.v128,1);switch(s.kind){case 5:if(i.options.isWasm64)break;case 3:return e.simd_ternary(9,a,l,o)}return i.error(203,t.reportNode.typeArgumentsRange,"v128.relaxed_dot_add",s.toString()),e.unreachable()}y.set(h.v128_relaxed_dot_add,ag);function j1(t){let i=t.compiler,e=i.module;if(T(t)|O(t,1))return i.currentType=u.void,e.unreachable();let r=t.operands,n=i.compileExpression(r[0],u.u32,1);return i.runtimeFeatures|=16,i.currentType=u.void,e.call(h.visit_globals,[n],L.None)}y.set(h.visit_globals,j1);function X1(t){let i=t.compiler,e=i.module;if(T(t)|O(t,2))return i.currentType=u.void,e.unreachable();let r=t.operands,n=i.compileExpression(r[0],i.options.usizeType,1),s=i.compileExpression(r[1],u.u32,1);return i.runtimeFeatures|=32,i.currentType=u.void,e.call(h.visit_members,[n,s],L.None)}y.set(h.visit_members,X1);function Z1(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Op(t)}y.set(h.i32_clz,Z1);function Y1(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Op(t)}y.set(h.i64_clz,Y1);function $1(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,qp(t)}y.set(h.i32_ctz,$1);function J1(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,qp(t)}y.set(h.i64_ctz,J1);function e6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Wp(t)}y.set(h.i32_popcnt,e6);function t6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Wp(t)}y.set(h.i64_popcnt,t6);function r6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Kp(t)}y.set(h.i32_rotl,r6);function i6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Kp(t)}y.set(h.i64_rotl,i6);function n6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Qp(t)}y.set(h.i32_rotr,n6);function s6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Qp(t)}y.set(h.i64_rotr,s6);function a6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Hp(t)}y.set(h.f32_abs,a6);function l6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Hp(t)}y.set(h.f64_abs,l6);function o6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,jp(t)}y.set(h.f32_max,o6);function u6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,jp(t)}y.set(h.f64_max,u6);function p6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Xp(t)}y.set(h.f32_min,p6);function c6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Xp(t)}y.set(h.f64_min,c6);function _6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Zp(t)}y.set(h.f32_ceil,_6);function f6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Zp(t)}y.set(h.f64_ceil,f6);function h6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Yp(t)}y.set(h.f32_floor,h6);function d6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Yp(t)}y.set(h.f64_floor,d6);function m6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,$p(t)}y.set(h.f32_copysign,m6);function y6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,$p(t)}y.set(h.f64_copysign,y6);function g6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Jp(t)}y.set(h.f32_nearest,g6);function b6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Jp(t)}y.set(h.f64_nearest,b6);function x6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.f32,Hn(t)}y.set(h.i32_reinterpret_f32,x6);function T6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.f64,Hn(t)}y.set(h.i64_reinterpret_f64,T6);function A6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.i32,Hn(t)}y.set(h.f32_reinterpret_i32,A6);function E6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.i64,Hn(t)}y.set(h.f64_reinterpret_i64,E6);function v6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,ec(t)}y.set(h.f32_sqrt,v6);function I6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,ec(t)}y.set(h.f64_sqrt,I6);function S6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,tc(t)}y.set(h.f32_trunc,S6);function F6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,tc(t)}y.set(h.f64_trunc,F6);function R6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,jn(t)}y.set(h.i32_rem_s,R6);function k6(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.u32,jn(t)}y.set(h.i32_rem_u,k6);function w6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,jn(t)}y.set(h.i64_rem_s,w6);function C6(t){return T(t),t.typeArguments=[u.u64],t.contextualType=u.u64,jn(t)}y.set(h.i64_rem_u,C6);function P6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Xn(t)}y.set(h.i32_add,P6);function B6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Xn(t)}y.set(h.i64_add,B6);function L6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Xn(t)}y.set(h.f32_add,L6);function N6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Xn(t)}y.set(h.f64_add,N6);function M6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Zn(t)}y.set(h.i32_sub,M6);function G6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Zn(t)}y.set(h.i64_sub,G6);function z6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Zn(t)}y.set(h.f32_sub,z6);function U6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Zn(t)}y.set(h.f64_sub,U6);function D6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Yn(t)}y.set(h.i32_mul,D6);function V6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Yn(t)}y.set(h.i64_mul,V6);function O6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Yn(t)}y.set(h.f32_mul,O6);function q6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Yn(t)}y.set(h.f64_mul,q6);function W6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,vr(t)}y.set(h.i32_div_s,W6);function K6(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.u32,vr(t)}y.set(h.i32_div_u,K6);function Q6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,vr(t)}y.set(h.i64_div_s,Q6);function H6(t){return T(t),t.typeArguments=[u.u64],t.contextualType=u.u64,vr(t)}y.set(h.i64_div_u,H6);function j6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,vr(t)}y.set(h.f32_div,j6);function X6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,vr(t)}y.set(h.f64_div,X6);function Z6(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,$n(t)}y.set(h.i32_eq,Z6);function Y6(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i32,$n(t)}y.set(h.i64_eq,Y6);function $6(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.i32,$n(t)}y.set(h.f32_eq,$6);function J6(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.i32,$n(t)}y.set(h.f64_eq,J6);function eT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Jn(t)}y.set(h.i32_ne,eT);function tT(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i32,Jn(t)}y.set(h.i64_ne,tT);function rT(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.i32,Jn(t)}y.set(h.f32_ne,rT);function iT(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.i32,Jn(t)}y.set(h.f64_ne,iT);function nT(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i32,Re(t)}y.set(h.i32_load8_s,nT);function sT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,Re(t)}y.set(h.i32_load8_u,sT);function aT(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i32,Re(t)}y.set(h.i32_load16_s,aT);function lT(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,Re(t)}y.set(h.i32_load16_u,lT);function oT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,Re(t)}y.set(h.i32_load,oT);function uT(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i64,Re(t)}y.set(h.i64_load8_s,uT);function pT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,Re(t)}y.set(h.i64_load8_u,pT);function cT(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i64,Re(t)}y.set(h.i64_load16_s,cT);function _T(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,Re(t)}y.set(h.i64_load16_u,_T);function fT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i64,Re(t)}y.set(h.i64_load32_s,fT);function hT(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,Re(t)}y.set(h.i64_load32_u,hT);function dT(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,Re(t)}y.set(h.i64_load,dT);function mT(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,Re(t)}y.set(h.f32_load,mT);function yT(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,Re(t)}y.set(h.f64_load,yT);function gT(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i32,t.contextIsExact=!0,rt(t)}y.set(h.i32_store8,gT);function bT(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i32,t.contextIsExact=!0,rt(t)}y.set(h.i32_store16,bT);function xT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,rt(t)}y.set(h.i32_store,xT);function TT(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i64,t.contextIsExact=!0,rt(t)}y.set(h.i64_store8,TT);function AT(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i64,t.contextIsExact=!0,rt(t)}y.set(h.i64_store16,AT);function ET(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i64,t.contextIsExact=!0,rt(t)}y.set(h.i64_store32,ET);function vT(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,rt(t)}y.set(h.i64_store,vT);function IT(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,t.contextIsExact=!0,rt(t)}y.set(h.f32_store,IT);function ST(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,t.contextIsExact=!0,rt(t)}y.set(h.f64_store,ST);function FT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,jt(t)}y.set(h.i32_atomic_load8_u,FT);function RT(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,jt(t)}y.set(h.i32_atomic_load16_u,RT);function kT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,jt(t)}y.set(h.i32_atomic_load,kT);function wT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,jt(t)}y.set(h.i64_atomic_load8_u,wT);function CT(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,jt(t)}y.set(h.i64_atomic_load16_u,CT);function PT(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,jt(t)}y.set(h.i64_atomic_load32_u,PT);function BT(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,jt(t)}y.set(h.i64_atomic_load,BT);function LT(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i32,t.contextIsExact=!0,Xt(t)}y.set(h.i32_atomic_store8,LT);function NT(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i32,t.contextIsExact=!0,Xt(t)}y.set(h.i32_atomic_store16,NT);function MT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Xt(t)}y.set(h.i32_atomic_store,MT);function GT(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}y.set(h.i64_atomic_store8,GT);function zT(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}y.set(h.i64_atomic_store16,zT);function UT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}y.set(h.i64_atomic_store32,UT);function DT(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Xt(t)}y.set(h.i64_atomic_store,DT);function VT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,Zt(t)}y.set(h.i32_atomic_rmw8_add_u,VT);function OT(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,Zt(t)}y.set(h.i32_atomic_rmw16_add_u,OT);function qT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Zt(t)}y.set(h.i32_atomic_rmw_add,qT);function WT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}y.set(h.i64_atomic_rmw8_add_u,WT);function KT(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}y.set(h.i64_atomic_rmw16_add_u,KT);function QT(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}y.set(h.i64_atomic_rmw32_add_u,QT);function HT(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Zt(t)}y.set(h.i64_atomic_rmw_add,HT);function jT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,Yt(t)}y.set(h.i32_atomic_rmw8_sub_u,jT);function XT(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,Yt(t)}y.set(h.i32_atomic_rmw16_sub_u,XT);function ZT(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Yt(t)}y.set(h.i32_atomic_rmw_sub,ZT);function YT(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,Yt(t)}y.set(h.i64_atomic_rmw8_sub_u,YT);function $T(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Yt(t)}y.set(h.i64_atomic_rmw16_sub_u,$T);function JT(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,Yt(t)}y.set(h.i64_atomic_rmw32_sub_u,JT);function eA(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Yt(t)}y.set(h.i64_atomic_rmw_sub,eA);function tA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,$t(t)}y.set(h.i32_atomic_rmw8_and_u,tA);function rA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,$t(t)}y.set(h.i32_atomic_rmw16_and_u,rA);function iA(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,$t(t)}y.set(h.i32_atomic_rmw_and,iA);function nA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}y.set(h.i64_atomic_rmw8_and_u,nA);function sA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}y.set(h.i64_atomic_rmw16_and_u,sA);function aA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}y.set(h.i64_atomic_rmw32_and_u,aA);function lA(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,$t(t)}y.set(h.i64_atomic_rmw_and,lA);function oA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,Jt(t)}y.set(h.i32_atomic_rmw8_or_u,oA);function uA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,Jt(t)}y.set(h.i32_atomic_rmw16_or_u,uA);function pA(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,Jt(t)}y.set(h.i32_atomic_rmw_or,pA);function cA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}y.set(h.i64_atomic_rmw8_or_u,cA);function _A(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}y.set(h.i64_atomic_rmw16_or_u,_A);function fA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}y.set(h.i64_atomic_rmw32_or_u,fA);function hA(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,Jt(t)}y.set(h.i64_atomic_rmw_or,hA);function dA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,er(t)}y.set(h.i32_atomic_rmw8_xor_u,dA);function mA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,er(t)}y.set(h.i32_atomic_rmw16_xor_u,mA);function yA(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,er(t)}y.set(h.i32_atomic_rmw_xor,yA);function gA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,er(t)}y.set(h.i64_atomic_rmw8_xor_u,gA);function bA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,er(t)}y.set(h.i64_atomic_rmw16_xor_u,bA);function xA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,er(t)}y.set(h.i64_atomic_rmw32_xor_u,xA);function TA(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,er(t)}y.set(h.i64_atomic_rmw_xor,TA);function AA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,tr(t)}y.set(h.i32_atomic_rmw8_xchg_u,AA);function EA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,tr(t)}y.set(h.i32_atomic_rmw16_xchg_u,EA);function vA(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,tr(t)}y.set(h.i32_atomic_rmw_xchg,vA);function IA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,tr(t)}y.set(h.i64_atomic_rmw8_xchg_u,IA);function SA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,tr(t)}y.set(h.i64_atomic_rmw16_xchg_u,SA);function FA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,tr(t)}y.set(h.i64_atomic_rmw32_xchg_u,FA);function RA(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,tr(t)}y.set(h.i64_atomic_rmw_xchg,RA);function kA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,t.contextIsExact=!0,rr(t)}y.set(h.i32_atomic_rmw8_cmpxchg_u,kA);function wA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,t.contextIsExact=!0,rr(t)}y.set(h.i32_atomic_rmw16_cmpxchg_u,wA);function CA(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,t.contextIsExact=!0,rr(t)}y.set(h.i32_atomic_rmw_cmpxchg,CA);function PA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i64,t.contextIsExact=!0,rr(t)}y.set(h.i64_atomic_rmw8_cmpxchg_u,PA);function BA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i64,t.contextIsExact=!0,rr(t)}y.set(h.i64_atomic_rmw16_cmpxchg_u,BA);function LA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.i64,t.contextIsExact=!0,rr(t)}y.set(h.i64_atomic_rmw32_cmpxchg_u,LA);function NA(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,t.contextIsExact=!0,rr(t)}y.set(h.i64_atomic_rmw_cmpxchg,NA);function MA(t){return T(t),t.typeArguments=[u.i32],rc(t)}y.set(h.memory_atomic_wait32,MA);function GA(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i32,rc(t)}y.set(h.memory_atomic_wait64,GA);function zA(t){return T(t),t.typeArguments=[u.v128],t.contextualType=u.v128,Re(t)}y.set(h.v128_load,zA);function UA(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Rr(t)}y.set(h.v128_load8x8_s,UA);function DA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Rr(t)}y.set(h.v128_load8x8_u,DA);function VA(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Rr(t)}y.set(h.v128_load16x4_s,VA);function OA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Rr(t)}y.set(h.v128_load16x4_u,OA);function qA(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Rr(t)}y.set(h.v128_load32x2_s,qA);function WA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Rr(t)}y.set(h.v128_load32x2_u,WA);function KA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,es(t)}y.set(h.v128_load8_splat,KA);function QA(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,es(t)}y.set(h.v128_load16_splat,QA);function HA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,es(t)}y.set(h.v128_load32_splat,HA);function jA(t){return T(t),t.typeArguments=[u.u64],t.contextualType=u.v128,es(t)}y.set(h.v128_load64_splat,jA);function XA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,nc(t)}y.set(h.v128_load32_zero,XA);function ZA(t){return T(t),t.typeArguments=[u.u64],t.contextualType=u.v128,nc(t)}y.set(h.v128_load64_zero,ZA);function YA(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,ts(t)}y.set(h.v128_load8_lane,YA);function $A(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,ts(t)}y.set(h.v128_load16_lane,$A);function JA(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,ts(t)}y.set(h.v128_load32_lane,JA);function e4(t){return T(t),t.typeArguments=[u.u64],t.contextualType=u.v128,ts(t)}y.set(h.v128_load64_lane,e4);function t4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,rs(t)}y.set(h.v128_store8_lane,t4);function r4(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,rs(t)}y.set(h.v128_store16_lane,r4);function i4(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,rs(t)}y.set(h.v128_store32_lane,i4);function n4(t){return T(t),t.typeArguments=[u.u64],t.contextualType=u.v128,rs(t)}y.set(h.v128_store64_lane,n4);function s4(t){return T(t),t.typeArguments=[u.v128],t.contextualType=u.v128,t.contextIsExact=!0,rt(t)}y.set(h.v128_store,s4);function a4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Ir(t)}y.set(h.i8x16_splat,a4);function l4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i32,kt(t)}y.set(h.i8x16_extract_lane_s,l4);function o4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.i32,kt(t)}y.set(h.i8x16_extract_lane_u,o4);function u4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Sr(t)}y.set(h.i8x16_replace_lane,u4);function p4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,kr(t)}y.set(h.i8x16_add,p4);function c4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,wr(t)}y.set(h.i8x16_sub,c4);function _4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,wt(t)}y.set(h.i8x16_min_s,_4);function f4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,wt(t)}y.set(h.i8x16_min_u,f4);function h4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Ct(t)}y.set(h.i8x16_max_s,h4);function d4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Ct(t)}y.set(h.i8x16_max_u,d4);function m4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,oc(t)}y.set(h.i8x16_avgr_u,m4);function y4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Lr(t)}y.set(h.i8x16_abs,y4);function g4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Br(t)}y.set(h.i8x16_neg,g4);function b4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,is(t)}y.set(h.i8x16_add_sat_s,b4);function x4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,is(t)}y.set(h.i8x16_add_sat_u,x4);function T4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,ns(t)}y.set(h.i8x16_sub_sat_s,T4);function A4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,ns(t)}y.set(h.i8x16_sub_sat_u,A4);function E4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,as(t)}y.set(h.i8x16_shl,E4);function v4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Pt(t)}y.set(h.i8x16_shr_s,v4);function I4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Pt(t)}y.set(h.i8x16_shr_u,I4);function S4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i32,ls(t)}y.set(h.i8x16_all_true,S4);function F4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.i32,os(t)}y.set(h.i8x16_bitmask,F4);function R4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Jy(t)}y.set(h.i8x16_popcnt,R4);function k4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Cr(t)}y.set(h.i8x16_eq,k4);function w4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Pr(t)}y.set(h.i8x16_ne,w4);function C4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,_t(t)}y.set(h.i8x16_lt_s,C4);function P4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,_t(t)}y.set(h.i8x16_lt_u,P4);function B4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,ft(t)}y.set(h.i8x16_le_s,B4);function L4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,ft(t)}y.set(h.i8x16_le_u,L4);function N4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,ht(t)}y.set(h.i8x16_gt_s,N4);function M4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,ht(t)}y.set(h.i8x16_gt_u,M4);function G4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,dt(t)}y.set(h.i8x16_ge_s,G4);function z4(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,dt(t)}y.set(h.i8x16_ge_u,z4);function U4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ss(t)}y.set(h.i8x16_narrow_i16x8_s,U4);function D4(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,ss(t)}y.set(h.i8x16_narrow_i16x8_u,D4);function V4(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Fr(t)}y.set(h.i8x16_shuffle,V4);function O4(t){return T(t),t.typeArguments=null,t.contextualType=u.v128,Yy(t)}y.set(h.i8x16_swizzle,O4);function q4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Ir(t)}y.set(h.i16x8_splat,q4);function W4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i32,kt(t)}y.set(h.i16x8_extract_lane_s,W4);function K4(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.i32,kt(t)}y.set(h.i16x8_extract_lane_u,K4);function Q4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Sr(t)}y.set(h.i16x8_replace_lane,Q4);function H4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,kr(t)}y.set(h.i16x8_add,H4);function j4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,wr(t)}y.set(h.i16x8_sub,j4);function X4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,vi(t)}y.set(h.i16x8_mul,X4);function Z4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,wt(t)}y.set(h.i16x8_min_s,Z4);function Y4(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,wt(t)}y.set(h.i16x8_min_u,Y4);function $4(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Ct(t)}y.set(h.i16x8_max_s,$4);function J4(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Ct(t)}y.set(h.i16x8_max_u,J4);function eE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,oc(t)}y.set(h.i16x8_avgr_u,eE);function tE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Lr(t)}y.set(h.i16x8_abs,tE);function rE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Br(t)}y.set(h.i16x8_neg,rE);function iE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,is(t)}y.set(h.i16x8_add_sat_s,iE);function nE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,is(t)}y.set(h.i16x8_add_sat_u,nE);function sE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ns(t)}y.set(h.i16x8_sub_sat_s,sE);function aE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,ns(t)}y.set(h.i16x8_sub_sat_u,aE);function lE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,as(t)}y.set(h.i16x8_shl,lE);function oE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Pt(t)}y.set(h.i16x8_shr_s,oE);function uE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Pt(t)}y.set(h.i16x8_shr_u,uE);function pE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i32,ls(t)}y.set(h.i16x8_all_true,pE);function cE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.i32,os(t)}y.set(h.i16x8_bitmask,cE);function _E(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Cr(t)}y.set(h.i16x8_eq,_E);function fE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Pr(t)}y.set(h.i16x8_ne,fE);function hE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,_t(t)}y.set(h.i16x8_lt_s,hE);function dE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,_t(t)}y.set(h.i16x8_lt_u,dE);function mE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ft(t)}y.set(h.i16x8_le_s,mE);function yE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,ft(t)}y.set(h.i16x8_le_u,yE);function gE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ht(t)}y.set(h.i16x8_gt_s,gE);function bE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,ht(t)}y.set(h.i16x8_gt_u,bE);function xE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,dt(t)}y.set(h.i16x8_ge_s,xE);function TE(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,dt(t)}y.set(h.i16x8_ge_u,TE);function AE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ss(t)}y.set(h.i16x8_narrow_i32x4_s,AE);function EE(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,ss(t)}y.set(h.i16x8_narrow_i32x4_u,EE);function vE(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Nr(t)}y.set(h.i16x8_extend_low_i8x16_s,vE);function IE(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Nr(t)}y.set(h.i16x8_extend_low_i8x16_u,IE);function SE(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Mr(t)}y.set(h.i16x8_extend_high_i8x16_s,SE);function FE(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Mr(t)}y.set(h.i16x8_extend_high_i8x16_u,FE);function RE(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,us(t)}y.set(h.i16x8_extadd_pairwise_i8x16_s,RE);function kE(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,us(t)}y.set(h.i16x8_extadd_pairwise_i8x16_u,kE);function wE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,rg(t)}y.set(h.i16x8_q15mulr_sat_s,wE);function CE(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,Gr(t)}y.set(h.i16x8_extmul_low_i8x16_s,CE);function PE(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,Gr(t)}y.set(h.i16x8_extmul_low_i8x16_u,PE);function BE(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,zr(t)}y.set(h.i16x8_extmul_high_i8x16_s,BE);function LE(t){return T(t),t.typeArguments=[u.u8],t.contextualType=u.v128,zr(t)}y.set(h.i16x8_extmul_high_i8x16_u,LE);function NE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Fr(t)}y.set(h.i16x8_shuffle,NE);function ME(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Ir(t)}y.set(h.i32x4_splat,ME);function GE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,kt(t)}y.set(h.i32x4_extract_lane,GE);function zE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Sr(t)}y.set(h.i32x4_replace_lane,zE);function UE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,kr(t)}y.set(h.i32x4_add,UE);function DE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,wr(t)}y.set(h.i32x4_sub,DE);function VE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,vi(t)}y.set(h.i32x4_mul,VE);function OE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,wt(t)}y.set(h.i32x4_min_s,OE);function qE(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,wt(t)}y.set(h.i32x4_min_u,qE);function WE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Ct(t)}y.set(h.i32x4_max_s,WE);function KE(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Ct(t)}y.set(h.i32x4_max_u,KE);function QE(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,$y(t)}y.set(h.i32x4_dot_i16x8_s,QE);function HE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Lr(t)}y.set(h.i32x4_abs,HE);function jE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Br(t)}y.set(h.i32x4_neg,jE);function XE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,as(t)}y.set(h.i32x4_shl,XE);function ZE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Pt(t)}y.set(h.i32x4_shr_s,ZE);function YE(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Pt(t)}y.set(h.i32x4_shr_u,YE);function $E(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,ls(t)}y.set(h.i32x4_all_true,$E);function JE(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.i32,os(t)}y.set(h.i32x4_bitmask,JE);function ev(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Cr(t)}y.set(h.i32x4_eq,ev);function tv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Pr(t)}y.set(h.i32x4_ne,tv);function rv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,_t(t)}y.set(h.i32x4_lt_s,rv);function iv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,_t(t)}y.set(h.i32x4_lt_u,iv);function nv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ft(t)}y.set(h.i32x4_le_s,nv);function sv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,ft(t)}y.set(h.i32x4_le_u,sv);function av(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ht(t)}y.set(h.i32x4_gt_s,av);function lv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,ht(t)}y.set(h.i32x4_gt_u,lv);function ov(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,dt(t)}y.set(h.i32x4_ge_s,ov);function uv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,dt(t)}y.set(h.i32x4_ge_u,uv);function pv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,mc(t)}y.set(h.i32x4_trunc_sat_f32x4_s,pv);function cv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,mc(t)}y.set(h.i32x4_trunc_sat_f32x4_u,cv);function _v(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,yc(t)}y.set(h.i32x4_trunc_sat_f64x2_s_zero,_v);function fv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,yc(t)}y.set(h.i32x4_trunc_sat_f64x2_u_zero,fv);function hv(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Nr(t)}y.set(h.i32x4_extend_low_i16x8_s,hv);function dv(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Nr(t)}y.set(h.i32x4_extend_low_i16x8_u,dv);function mv(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Mr(t)}y.set(h.i32x4_extend_high_i16x8_s,mv);function yv(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Mr(t)}y.set(h.i32x4_extend_high_i16x8_u,yv);function gv(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,us(t)}y.set(h.i32x4_extadd_pairwise_i16x8_s,gv);function bv(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,us(t)}y.set(h.i32x4_extadd_pairwise_i16x8_u,bv);function xv(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,Gr(t)}y.set(h.i32x4_extmul_low_i16x8_s,xv);function Tv(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,Gr(t)}y.set(h.i32x4_extmul_low_i16x8_u,Tv);function Av(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,zr(t)}y.set(h.i32x4_extmul_high_i16x8_s,Av);function Ev(t){return T(t),t.typeArguments=[u.u16],t.contextualType=u.v128,zr(t)}y.set(h.i32x4_extmul_high_i16x8_u,Ev);function vv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Fr(t)}y.set(h.i32x4_shuffle,vv);function Iv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Ir(t)}y.set(h.i64x2_splat,Iv);function Sv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i64,kt(t)}y.set(h.i64x2_extract_lane,Sv);function Fv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Sr(t)}y.set(h.i64x2_replace_lane,Fv);function Rv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,kr(t)}y.set(h.i64x2_add,Rv);function kv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,wr(t)}y.set(h.i64x2_sub,kv);function wv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,vi(t)}y.set(h.i64x2_mul,wv);function Cv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Lr(t)}y.set(h.i64x2_abs,Cv);function Pv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Br(t)}y.set(h.i64x2_neg,Pv);function Bv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,as(t)}y.set(h.i64x2_shl,Bv);function Lv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Pt(t)}y.set(h.i64x2_shr_s,Lv);function Nv(t){return T(t),t.typeArguments=[u.u64],t.contextualType=u.v128,Pt(t)}y.set(h.i64x2_shr_u,Nv);function Mv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i32,ls(t)}y.set(h.i64x2_all_true,Mv);function Gv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.i32,os(t)}y.set(h.i64x2_bitmask,Gv);function zv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Cr(t)}y.set(h.i64x2_eq,zv);function Uv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Pr(t)}y.set(h.i64x2_ne,Uv);function Dv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,_t(t)}y.set(h.i64x2_lt_s,Dv);function Vv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,ft(t)}y.set(h.i64x2_le_s,Vv);function Ov(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,ht(t)}y.set(h.i64x2_gt_s,Ov);function qv(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,dt(t)}y.set(h.i64x2_ge_s,qv);function Wv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Nr(t)}y.set(h.i64x2_extend_low_i32x4_s,Wv);function Kv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Nr(t)}y.set(h.i64x2_extend_low_i32x4_u,Kv);function Qv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Mr(t)}y.set(h.i64x2_extend_high_i32x4_s,Qv);function Hv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Mr(t)}y.set(h.i64x2_extend_high_i32x4_u,Hv);function jv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,Gr(t)}y.set(h.i64x2_extmul_low_i32x4_s,jv);function Xv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,Gr(t)}y.set(h.i64x2_extmul_low_i32x4_u,Xv);function Zv(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,zr(t)}y.set(h.i64x2_extmul_high_i32x4_s,Zv);function Yv(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,zr(t)}y.set(h.i64x2_extmul_high_i32x4_u,Yv);function $v(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,Fr(t)}y.set(h.i64x2_shuffle,$v);function Jv(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Ir(t)}y.set(h.f32x4_splat,Jv);function e3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.f32,kt(t)}y.set(h.f32x4_extract_lane,e3);function t3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Sr(t)}y.set(h.f32x4_replace_lane,t3);function r3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,kr(t)}y.set(h.f32x4_add,r3);function i3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,wr(t)}y.set(h.f32x4_sub,i3);function n3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,vi(t)}y.set(h.f32x4_mul,n3);function s3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,sc(t)}y.set(h.f32x4_div,s3);function a3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Br(t)}y.set(h.f32x4_neg,a3);function l3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,wt(t)}y.set(h.f32x4_min,l3);function o3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Ct(t)}y.set(h.f32x4_max,o3);function u3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,ac(t)}y.set(h.f32x4_pmin,u3);function p3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,lc(t)}y.set(h.f32x4_pmax,p3);function c3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Lr(t)}y.set(h.f32x4_abs,c3);function _3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,uc(t)}y.set(h.f32x4_sqrt,_3);function f3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,pc(t)}y.set(h.f32x4_ceil,f3);function h3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,cc(t)}y.set(h.f32x4_floor,h3);function d3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,_c(t)}y.set(h.f32x4_trunc,d3);function m3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,fc(t)}y.set(h.f32x4_nearest,m3);function y3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Cr(t)}y.set(h.f32x4_eq,y3);function g3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Pr(t)}y.set(h.f32x4_ne,g3);function b3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,_t(t)}y.set(h.f32x4_lt,b3);function x3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,ft(t)}y.set(h.f32x4_le,x3);function T3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,ht(t)}y.set(h.f32x4_gt,T3);function A3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,dt(t)}y.set(h.f32x4_ge,A3);function E3(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,hc(t)}y.set(h.f32x4_convert_i32x4_s,E3);function v3(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,hc(t)}y.set(h.f32x4_convert_i32x4_u,v3);function I3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,eg(t)}y.set(h.f32x4_demote_f64x2_zero,I3);function S3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Fr(t)}y.set(h.f32x4_shuffle,S3);function F3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Ir(t)}y.set(h.f64x2_splat,F3);function R3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.f64,kt(t)}y.set(h.f64x2_extract_lane,R3);function k3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Sr(t)}y.set(h.f64x2_replace_lane,k3);function w3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,kr(t)}y.set(h.f64x2_add,w3);function C3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,wr(t)}y.set(h.f64x2_sub,C3);function P3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,vi(t)}y.set(h.f64x2_mul,P3);function B3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,sc(t)}y.set(h.f64x2_div,B3);function L3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Br(t)}y.set(h.f64x2_neg,L3);function N3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,wt(t)}y.set(h.f64x2_min,N3);function M3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Ct(t)}y.set(h.f64x2_max,M3);function G3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,ac(t)}y.set(h.f64x2_pmin,G3);function z3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,lc(t)}y.set(h.f64x2_pmax,z3);function U3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Lr(t)}y.set(h.f64x2_abs,U3);function D3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,uc(t)}y.set(h.f64x2_sqrt,D3);function V3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,pc(t)}y.set(h.f64x2_ceil,V3);function O3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,cc(t)}y.set(h.f64x2_floor,O3);function q3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,_c(t)}y.set(h.f64x2_trunc,q3);function W3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,fc(t)}y.set(h.f64x2_nearest,W3);function K3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Cr(t)}y.set(h.f64x2_eq,K3);function Q3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Pr(t)}y.set(h.f64x2_ne,Q3);function H3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,_t(t)}y.set(h.f64x2_lt,H3);function j3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,ft(t)}y.set(h.f64x2_le,j3);function X3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,ht(t)}y.set(h.f64x2_gt,X3);function Z3(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,dt(t)}y.set(h.f64x2_ge,Z3);function Y3(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,dc(t)}y.set(h.f64x2_convert_low_i32x4_s,Y3);function $3(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,dc(t)}y.set(h.f64x2_convert_low_i32x4_u,$3);function J3(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,tg(t)}y.set(h.f64x2_promote_low_f32x4,J3);function eI(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Fr(t)}y.set(h.f64x2_shuffle,eI);function tI(t){return T(t),t.typeArguments=null,t.contextualType=u.v128,ig(t)}y.set(h.i8x16_relaxed_swizzle,tI);function rI(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,gc(t)}y.set(h.i32x4_relaxed_trunc_f32x4_s,rI);function iI(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,gc(t)}y.set(h.i32x4_relaxed_trunc_f32x4_u,iI);function nI(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,bc(t)}y.set(h.i32x4_relaxed_trunc_f64x2_s_zero,nI);function sI(t){return T(t),t.typeArguments=[u.u32],t.contextualType=u.v128,bc(t)}y.set(h.i32x4_relaxed_trunc_f64x2_u_zero,sI);function aI(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,xc(t)}y.set(h.f32x4_relaxed_madd,aI);function lI(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Tc(t)}y.set(h.f32x4_relaxed_nmadd,lI);function oI(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,xc(t)}y.set(h.f64x2_relaxed_madd,oI);function uI(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Tc(t)}y.set(h.f64x2_relaxed_nmadd,uI);function pI(t){return T(t),t.typeArguments=[u.i8],t.contextualType=u.v128,ps(t)}y.set(h.i8x16_relaxed_laneselect,pI);function cI(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ps(t)}y.set(h.i16x8_relaxed_laneselect,cI);function _I(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ps(t)}y.set(h.i32x4_relaxed_laneselect,_I);function fI(t){return T(t),t.typeArguments=[u.i64],t.contextualType=u.v128,ps(t)}y.set(h.i64x2_relaxed_laneselect,fI);function hI(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Ac(t)}y.set(h.f32x4_relaxed_min,hI);function dI(t){return T(t),t.typeArguments=[u.f32],t.contextualType=u.v128,Ec(t)}y.set(h.f32x4_relaxed_max,dI);function mI(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Ac(t)}y.set(h.f64x2_relaxed_min,mI);function yI(t){return T(t),t.typeArguments=[u.f64],t.contextualType=u.v128,Ec(t)}y.set(h.f64x2_relaxed_max,yI);function gI(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,ng(t)}y.set(h.i16x8_relaxed_q15mulr_s,gI);function bI(t){return T(t),t.typeArguments=[u.i16],t.contextualType=u.v128,sg(t)}y.set(h.i16x8_relaxed_dot_i8x16_i7x16_s,bI);function xI(t){return T(t),t.typeArguments=[u.i32],t.contextualType=u.v128,ag(t)}y.set(h.i32x4_relaxed_dot_i8x16_i7x16_add_s,xI);function lg(t){let i=t.module,e=new Array,r=t.options.sizeTypeRef,n=assert(t.program.visitInstance);t.compileFunction(n,!0);for(let s=Map_values(t.program.elementsByName),a=0,l=s.length;a<l;++a){let o=unchecked(s[a]);if(o.kind!=0)continue;let p=o,_=p.type.getClass();if(_&&!_.hasDecorator(16)&&p.is(8388608))if(p.is(33554432)){let f=p.constantIntegerValue;(i64_low(f)||i64_high(f))&&e.push(i.call(n.internalName,[t.options.isWasm64?i.i64(i64_low(f),i64_high(f)):i.i32(i64_low(f)),i.local_get(0,L.I32)],L.None))}else e.push(i.if(i.local_tee(1,i.global_get(p.internalName,r),!1),i.call(n.internalName,[i.local_get(1,r),i.local_get(0,L.I32)],L.None)))}i.addFunction(h.visit_globals,L.I32,L.None,[r],e.length?i.block(null,e):i.nop())}function og(t,i){if(assert(i.type.isManaged),i.visitRef)return;let e=t.program,r=t.module,n=e.options.usizeType,s=n.toRef(),a=n.byteSize,l=assert(e.visitInstance),o=new Array,p=i.base;p&&o.push(r.call(`${p.internalName}~visit`,[r.local_get(0,s),r.local_get(1,L.I32)],L.None));let c=!1;if(i.isDeclaredInLibrary){let f=i.getMember("__visit");if(f){assert(f.kind==4);let d=e.resolver.resolveFunction(f,null);if(!d||!t.compileFunction(d))o.push(r.unreachable());else{let g=d.signature,E=assert(g.thisType);assert(g.parameterTypes.length==1&&g.parameterTypes[0]==u.u32&&g.returnType==u.void&&i.type.isStrictlyAssignableTo(E)),o.push(r.call(d.internalName,[r.local_get(0,s),r.local_get(1,L.I32)],L.None))}c=!0}}let _=!1;if(!c){let f=i.members;if(f)for(let d=Map_values(f),g=0,E=d.length;g<E;++g){let x=unchecked(d[g]);if(x.kind!=10)continue;let A=x.instance;if(!A)continue;let S=A.type;if(!A.isField||A.getBoundClassOrInterface()!=i||!S.isManaged)continue;let I=A.memoryOffset;assert(I>=0),_=!0,o.push(r.if(r.local_tee(2,r.load(a,!1,r.local_get(0,s),s,I),!1),r.call(l.internalName,[r.local_get(2,s),r.local_get(1,L.I32)],L.None)))}}i.visitRef=r.addFunction(`${i.internalName}~visit`,Ke([s,L.I32]),L.None,_?[s]:null,r.flatten(o,L.None)),p&&p.type.isManaged&&og(t,p)}function ug(t){let i=t.program,e=t.module,n=i.options.usizeType.toRef(),s=i.managedClasses,a=assert(i.visitInstance);t.compileFunction(a,!0);let l=new Array,o=new Array,p=0;for(let _=Map_keys(s),f=0,d=_.length;f<d;++f){let g=_[f];assert(g==p++);let E=assert(s.get(g));l[f]=E.internalName,E.isPointerfree?o[f]=e.return():(o[f]=e.block(null,[e.call(`${E.internalName}~visit`,[e.local_get(0,n),e.local_get(1,L.I32)],L.None),e.return()],L.None),og(t,E))}let c=e.block(l[0],[e.switch(l,"invalid",e.load(4,!1,n==L.I64?e.binary(26,e.local_get(0,n),e.i64(8)):e.binary(1,e.local_get(0,n),e.i32(8)),L.I32,0))],L.None);for(let _=0,f=l.length-1;_<f;++_)c=e.block(l[_+1],[c,o[_]],L.None);c=e.block("invalid",[c,o[l.length-1]],L.None),e.addFunction(h.visit_members,Ke([n,L.I32]),L.None,null,e.flatten([c,e.unreachable()]))}function Ti(t){let i=64*(1<<t.alignLog2);return t.is(1)&&(i|=2048),t.is(8)&&(i|=4096),t.is(512)&&(i|=8192),t.isManaged&&(i|=16384),i/64}function pg(t){let i=t.program,e=t.module,r=i.managedClasses,n=r.size,s=4+4*n,a=new Uint8Array(s);he(n,a,0);let l=4,o=i.arrayBufferViewInstance,p=o.prototype,c=i.arrayPrototype,_=i.setPrototype,f=i.mapPrototype,d=i.staticArrayPrototype,g=0;for(let A=Map_keys(r),S=0,I=A.length;S<I;++S){let k=unchecked(A[S]),F=assert(r.get(k));assert(k==g++);let B=0;if(F.isPointerfree&&(B|=32),F!=o&&F.extendsPrototype(p)){let V=F.getArrayValueType();B|=1,B|=64*Ti(V)}else if(F.extendsPrototype(c)){let V=F.getArrayValueType();B|=2,B|=64*Ti(V)}else if(F.extendsPrototype(_)){let V=assert(F.getTypeArgumentsTo(_));assert(V.length==1),B|=8,B|=64*Ti(V[0])}else if(F.extendsPrototype(f)){let V=assert(F.getTypeArgumentsTo(f));assert(V.length==2),B|=16,B|=32768*Ti(V[0]),B|=64*Ti(V[1])}else if(F.extendsPrototype(d)){let V=F.getArrayValueType();B|=4,B|=64*Ti(V)}he(B,a,l),l+=4,F.rttiFlags=B}assert(l==s);let E=i.options.usizeType,x=t.addAlignedMemorySegment(a);if(E.size==8){let A=x.offset;e.addGlobal(h.rtti_base,L.I64,!1,e.i64(i64_low(A),i64_high(A)))}else e.addGlobal(h.rtti_base,L.I32,!1,e.i32(i64_low(x.offset)))}function ke(t){let i=t.compiler,e=t.operands,r=t.typeArguments;if(Ai=0,e.length==0)return!r||r.length!=1?(i.error(2558,t.reportNode.typeArgumentsRange,"1",r?r.length.toString():"0"),null):r[0];if(e.length==1){if(r&&r.length>0){if(r.length>1)return i.error(2558,t.reportNode.typeArgumentsRange,"1",r.length.toString()),null;Ai=i.compileExpression(e[0],r[0],1)}else Ai=i.compileExpression(e[0],u.auto);return i.currentType}return r&&r.length>1&&i.error(2558,t.reportNode.typeArgumentsRange,"1",r.length.toString()),i.error(2554,t.reportNode.argumentsRange,"1",e.length.toString()),null}function Ee(t,i){let e=t.compiler.module;return Ai&&gl(Ai,e.ref)&&(i=e.block(null,[e.maybeDrop(Ai),i],ne(i))),i}function Ze(t,i){let e=i.module,r;if(i.options.isWasm64){let n=i.compileExpression(t,u.usize64,1),s=e.runExpression(n,1);s?(assert(Pe(s)==0),r=Ae(s)):(i.error(220,t.range),r=-1)}else{let n=i.compileExpression(t,u.usize32,1),s=e.runExpression(n,1);s?r=ee(s):(i.error(220,t.range),r=-1)}return r}function Ft(t,i,e){let r=Ze(t,e);return r<0?r:r<1||i>16?(e.error(222,t.range,"Alignment","1",i.toString()),-1):gt(r)?r:(e.error(223,t.range,"Alignment"),-1)}function H(t,i){let e=t.compiler;return e.options.hasFeature(i)?0:(e.error(103,t.reportNode.range,Yr(i)),1)}function X(t,i=!1){let e=t.compiler,r=t.typeArguments;if(r){let n=r.length;if(n==1)return 0;assert(n),i&&(e.currentType=r[0]),e.error(2558,t.reportNode.typeArgumentsRange,"1",n.toString())}else e.error(2558,t.reportNode.range,"1","0");return 1}function se(t,i=!1){let e=t.typeArguments;if(e){let r=t.compiler,n=e.length;return n==1?0:(assert(n),i&&(r.currentType=e[0]),r.error(2558,t.reportNode.typeArgumentsRange,"1",n.toString()),1)}return 0}function T(t){if(t.typeArguments){let e=t.prototype;return e.program.error(2315,t.reportNode.typeArgumentsRange,e.internalName),1}return 0}function O(t,i){let e=t.operands;return e.length!=i?(t.compiler.error(2554,t.reportNode.range,i.toString(),e.length.toString()),1):0}function xe(t,i,e){let n=t.operands.length;return n<i?(t.compiler.error(2555,t.reportNode.range,i.toString(),n.toString()),1):n>e?(t.compiler.error(2554,t.reportNode.range,e.toString(),n.toString()),1):0}function Pl(t,i,e){let r=t.module;if(e!=u.auto&&e.isIntegerValue)switch(e.kind){case 3:{if(i64_is_i32(i))return t.currentType=u.i32,r.i32(i64_low(i));break}case 8:{if(i64_is_u32(i))return t.currentType=u.u32,r.i32(i64_low(i));break}case 4:case 9:return t.currentType=e,r.i64(i64_low(i),i64_high(i))}return t.options.isWasm64?(t.currentType=u.usize64,r.i64(i64_low(i),i64_high(i))):(t.currentType=u.usize32,assert(!i64_high(i)),r.i32(i64_low(i)))}var Sc=class{constructor(){this.stack=new Array;this._currentExpression=0}get currentExpression(){let i=this._currentExpression;if(!i)throw new Error("not walking expressions");return i}get parentExpressionOrNull(){let i=this.stack,e=i.length;return e?i[e-1]:0}visitBlock(i){}visitIf(i){}visitLoop(i){}visitBreak(i){}visitSwitch(i){}visitCallPre(i){}visitCall(i){}visitCallIndirectPre(i){}visitCallIndirect(i){}visitLocalGet(i){}visitLocalSet(i){}visitGlobalGet(i){}visitGlobalSet(i){}visitLoad(i){}visitStore(i){}visitConst(i){}visitUnary(i){}visitBinary(i){}visitSelect(i){}visitDrop(i){}visitReturn(i){}visitMemorySize(i){}visitMemoryGrow(i){}visitNop(i){}visitUnreachable(i){}visitAtomicRMW(i){}visitAtomicCmpxchg(i){}visitAtomicWait(i){}visitAtomicNotify(i){}visitAtomicFence(i){}visitSIMDExtract(i){}visitSIMDReplace(i){}visitSIMDShuffle(i){}visitSIMDTernary(i){}visitSIMDShift(i){}visitSIMDLoad(i){}visitSIMDLoadStoreLane(i){}visitMemoryInit(i){}visitDataDrop(i){}visitMemoryCopy(i){}visitMemoryFill(i){}visitPop(i){}visitRefNull(i){}visitRefIsNull(i){}visitRefFunc(i){}visitRefEq(i){}visitTry(i){}visitThrow(i){}visitRethrow(i){}visitTupleMake(i){}visitTupleExtract(i){}visitRefI31(i){}visitI31Get(i){}visitCallRef(i){}visitRefTest(i){}visitRefCast(i){}visitBrOn(i){}visitStructNew(i){}visitStructGet(i){}visitStructSet(i){}visitArrayNew(i){}visitArrayNewFixed(i){}visitArrayGet(i){}visitArraySet(i){}visitArrayLen(i){}visitArrayCopy(i){}visitRefAs(i){}visitStringNew(i){}visitStringConst(i){}visitStringMeasure(i){}visitStringEncode(i){}visitStringConcat(i){}visitStringEq(i){}visitStringAs(i){}visitStringWTF8Advance(i){}visitStringWTF16Get(i){}visitStringIterNext(i){}visitStringIterMove(i){}visitStringSliceWTF(i){}visitStringSliceIter(i){}visitName(i){}visitLabel(i){}visitIndex(i){}visitTag(i){}visit(i){let e=this._currentExpression;switch(this._currentExpression=assert(i),yt(i)){case 1:{this.stack.push(i);let r=ds(i);r&&this.visitLabel(r);for(let n=0,s=zi(i);n<s;++n)this.visit(Ui(i,n));assert(this.stack.pop()==i),this.visitBlock(i);break}case 2:{this.stack.push(i),this.visit(Di(i)),this.visit(Vi(i));let r=Oi(i);r&&this.visit(r),assert(this.stack.pop()==i),this.visitIf(i);break}case 3:{this.stack.push(i);let r=ms(i);r&&this.visitLabel(r),this.visit(qi(i)),assert(this.stack.pop()==i),this.visitLoop(i);break}case 4:{this.stack.push(i),this.visitLabel(ys(i));let r=Wi(i);r&&this.visit(r);let n=Wl(i);n&&this.visit(n),assert(this.stack.pop()==i),this.visitBreak(i);break}case 5:{this.stack.push(i);let r=S_(i);r&&this.visitLabel(r);let n=v_(i);for(let a=0;a<n;++a)this.visitLabel(I_(i,a));this.visit(Kl(i));let s=Ql(i);s&&this.visit(s),assert(this.stack.pop()==i),this.visitSwitch(i);break}case 6:{this.visitCallPre(i),this.stack.push(i),this.visitName(qr(i));let r=Nt(i);for(let n=0;n<r;++n)this.visit(Mt(i,n));assert(this.stack.pop()==i),this.visitCall(i);break}case 7:{this.visitCallIndirectPre(i),this.stack.push(i),this.visit(Hl(i));for(let r=0,n=Ki(i);r<n;++r)this.visit(Qi(i,r));assert(this.stack.pop()==i),this.visitCallIndirect(i);break}case 8:{this.stack.push(i),this.visitIndex(xs(i)),assert(this.stack.pop()==i),this.visitLocalGet(i);break}case 9:{this.stack.push(i),this.visitIndex(Wr(i)),this.visit(sr(i)),assert(this.stack.pop()==i),this.visitLocalSet(i);break}case 10:{this.stack.push(i),this.visitName(Es(i)),assert(this.stack.pop()==i),this.visitGlobalGet(i);break}case 11:{this.stack.push(i),this.visitName(U_(i)),this.visit(jl(i)),assert(this.stack.pop()==i),this.visitGlobalSet(i);break}case 12:{this.stack.push(i),this.visit(ji(i)),assert(this.stack.pop()==i),this.visitLoad(i);break}case 13:{this.stack.push(i),this.visit(ar(i)),this.visit(Xi(i)),assert(this.stack.pop()==i),this.visitStore(i);break}case 14:{this.visitConst(i);break}case 15:{this.stack.push(i),this.visit(Zi(i)),assert(this.stack.pop()==i),this.visitUnary(i);break}case 16:{this.stack.push(i),this.visit(Yi(i)),this.visit($i(i)),assert(this.stack.pop()==i),this.visitBinary(i);break}case 17:{this.stack.push(i),this.visit(Ji(i)),this.visit(en(i)),this.visit(tn(i)),assert(this.stack.pop()==i),this.visitSelect(i);break}case 18:{this.stack.push(i),this.visit(rn(i)),assert(this.stack.pop()==i),this.visitDrop(i);break}case 19:{let r=lr(i);r&&(this.stack.push(i),this.visit(r),assert(this.stack.pop()==i)),this.visitReturn(i);break}case 20:{this.visitMemorySize(i);break}case 21:{this.stack.push(i),this.visit(Hi(i)),assert(this.stack.pop()==i),this.visitMemoryGrow(i);break}case 22:{this.visitNop(i);break}case 23:{this.visitUnreachable(i);break}case 24:{this.stack.push(i),this.visit(Zl(i)),this.visit(Yl(i)),assert(this.stack.pop()==i),this.visitAtomicRMW(i);break}case 25:{this.stack.push(i),this.visit($l(i)),this.visit(Jl(i)),this.visit(eo(i)),assert(this.stack.pop()==i),this.visitAtomicCmpxchg(i);break}case 26:{this.stack.push(i),this.visit(to(i)),this.visit(ro(i)),this.visit(io(i)),assert(this.stack.pop()==i),this.visitAtomicWait(i);break}case 27:{this.stack.push(i),this.visit(no(i)),this.visit(so(i)),assert(this.stack.pop()==i),this.visitAtomicNotify(i);break}case 28:{this.visitAtomicFence(i);break}case 29:{this.stack.push(i),this.visit(ao(i)),assert(this.stack.pop()==i),this.visitSIMDExtract(i);break}case 30:{this.stack.push(i),this.visit(lo(i)),this.visit(oo(i)),assert(this.stack.pop()==i),this.visitSIMDReplace(i);break}case 31:{this.stack.push(i),this.visit(uo(i)),this.visit(po(i)),assert(this.stack.pop()==i),this.visitSIMDShuffle(i);break}case 32:{this.stack.push(i),this.visit(co(i)),this.visit(_o(i)),this.visit(fo(i)),assert(this.stack.pop()==i),this.visitSIMDTernary(i);break}case 33:{this.stack.push(i),this.visit(ho(i)),this.visit(mo(i)),assert(this.stack.pop()==i),this.visitSIMDShift(i);break}case 34:{this.stack.push(i),this.visit(yo(i)),assert(this.stack.pop()==i),this.visitSIMDLoad(i);break}case 35:{this.stack.push(i),this.visit(go(i)),this.visit(bo(i)),assert(this.stack.pop()==i),this.visitSIMDLoadStoreLane(i);break}case 36:{this.stack.push(i),this.visit(xo(i)),this.visit(To(i)),this.visit(Ao(i)),assert(this.stack.pop()==i),this.visitMemoryInit(i);break}case 37:{this.visitDataDrop(i);break}case 38:{this.stack.push(i),this.visit(Eo(i)),this.visit(vo(i)),this.visit(Io(i)),assert(this.stack.pop()==i),this.visitMemoryCopy(i);break}case 39:{this.stack.push(i),this.visit(So(i)),this.visit(Fo(i)),this.visit(Ro(i)),assert(this.stack.pop()==i),this.visitMemoryFill(i);break}case 40:{this.visitPop(i);break}case 41:{this.visitRefNull(i);break}case 42:{this.stack.push(i),this.visit(ko(i)),assert(this.stack.pop()==i),this.visitRefIsNull(i);break}case 43:{this.stack.push(i),this.visitName(gh(i)),assert(this.stack.pop()==i),this.visitRefFunc(i);break}case 44:{this.stack.push(i),this.visit(Po(i)),this.visit(Bo(i)),assert(this.stack.pop()==i),this.visitRefEq(i);break}case 51:{this.stack.push(i),this.visit(Lo(i));let r=No(i);for(let n=0;n<r;++n)this.visit(Mo(i,n));assert(this.stack.pop()==i),this.visitTry(i);break}case 53:{this.stack.push(i),this.visitTag(wh(i));let r=Go(i);for(let n=0;n<r;++n)this.visit(zo(i,n));assert(this.stack.pop()==i),this.visitThrow(i);break}case 54:{this.visitRethrow(i);break}case 56:{let r=Uo(i);if(r){this.stack.push(i);for(let n=0;n<r;++n)this.visit(Do(i,n));assert(this.stack.pop()==i)}this.visitTupleMake(i);break}case 57:{this.stack.push(i),this.visit(Vo(i)),assert(this.stack.pop()==i),this.visitTupleExtract(i);break}case 58:{this.stack.push(i),this.visit(Oo(i)),assert(this.stack.pop()==i),this.visitRefI31(i);break}case 59:{this.stack.push(i),this.visit(qo(i)),assert(this.stack.pop()==i),this.visitI31Get(i);break}case 60:{this.stack.push(i);let r=Wo(i);if(r)for(let n=0;n<r;++n)this.visit(Ko(i,n));this.visit(Qo(i)),assert(this.stack.pop()==i),this.visitCallRef(i);break}case 61:{this.stack.push(i),this.visit(Ho(i)),assert(this.stack.pop()==i),this.visitRefTest(i);break}case 62:{this.stack.push(i),this.visit(jo(i)),assert(this.stack.pop()==i),this.visitRefCast(i);break}case 63:{this.stack.push(i),this.visitLabel(Qh(i)),this.visit(Xo(i)),assert(this.stack.pop()==i),this.visitBrOn(i);break}case 64:{let r=Zo(i);if(r){this.stack.push(i);for(let n=0;n<r;++n)this.visit(Yo(i,n));assert(this.stack.pop()==i)}this.visitStructNew(i);break}case 65:{this.stack.push(i),this.visit($o(i)),this.visitIndex(Xh(i)),assert(this.stack.pop()==i),this.visitStructGet(i);break}case 66:{this.stack.push(i),this.visit(Jo(i)),this.visitIndex(Yh(i)),this.visit(eu(i)),assert(this.stack.pop()==i),this.visitStructSet(i);break}case 67:{this.stack.push(i),this.visit(ru(i));let r=tu(i);r&&this.visit(r),assert(this.stack.pop()==i),this.visitArrayNew(i);break}case 70:{let r=iu(i);if(r){this.stack.push(i);for(let n=0;n<r;++n)this.visit(nu(i,n));assert(this.stack.pop()==i)}this.visitArrayNewFixed(i);break}case 71:{this.stack.push(i),this.visit(su(i)),this.visit(au(i)),assert(this.stack.pop()==i),this.visitArrayGet(i);break}case 72:{this.stack.push(i),this.visit(lu(i)),this.visit(ou(i)),this.visit(uu(i)),assert(this.stack.pop()==i),this.visitArraySet(i);break}case 73:{this.stack.push(i),this.visit(pu(i)),assert(this.stack.pop()==i),this.visitArrayLen(i);break}case 74:{this.stack.push(i),this.visit(cu(i)),this.visit(_u(i)),this.visit(fu(i)),this.visit(hu(i)),this.visit(du(i)),assert(this.stack.pop()==i),this.visitArrayCopy(i);break}case 78:{this.stack.push(i),this.visit(Co(i)),assert(this.stack.pop()==i),this.visitRefAs(i);break}case 79:{this.stack.push(i),this.visit(mu(i));let r=yu(i);r&&this.visit(r);let n=gu(i);n&&this.visit(n);let s=bu(i);s&&this.visit(s),assert(this.stack.pop()==i),this.visitStringNew(i);break}case 80:{this.stack.push(i),assert(this.stack.pop()==i),this.visitStringConst(i);break}case 81:{this.stack.push(i),this.visit(xu(i)),assert(this.stack.pop()==i),this.visitStringMeasure(i);break}case 82:{this.stack.push(i),this.visit(Tu(i)),this.visit(Au(i));let r=Eu(i);r&&this.visit(r),assert(this.stack.pop()==i),this.visitStringEncode(i);break}case 83:{this.stack.push(i),this.visit(vu(i)),this.visit(Iu(i)),assert(this.stack.pop()==i),this.visitStringConcat(i);break}case 84:{this.stack.push(i),this.visit(Fu(i)),this.visit(Ru(i)),assert(this.stack.pop()==i),this.visitStringEq(i);break}case 85:{this.stack.push(i),this.visit(ku(i)),assert(this.stack.pop()==i),this.visitStringAs(i);break}case 86:{this.stack.push(i),this.visit(wu(i)),this.visit(Cu(i)),this.visit(Pu(i)),assert(this.stack.pop()==i),this.visitStringWTF8Advance(i);break}case 87:{this.stack.push(i),this.visit(Bu(i)),this.visit(Lu(i)),assert(this.stack.pop()==i),this.visitStringWTF16Get(i);break}case 88:{this.stack.push(i),this.visit(Nu(i)),assert(this.stack.pop()==i),this.visitStringIterNext(i);break}case 89:{this.stack.push(i),this.visit(Mu(i)),this.visit(Gu(i)),assert(this.stack.pop()==i),this.visitStringIterMove(i);break}case 90:{this.stack.push(i),this.visit(zu(i)),this.visit(Uu(i)),this.visit(Du(i)),assert(this.stack.pop()==i),this.visitStringSliceWTF(i);break}case 91:{this.stack.push(i),this.visit(Vu(i)),this.visit(Ou(i)),assert(this.stack.pop()==i),this.visitStringSliceIter(i);break}default:throw new Error("unexpected expression kind")}this._currentExpression=e}},Ur=class extends Sc{constructor(e){super();this.module=e;this._currentFunction=0;this._currentGlobal=0}get currentFunction(){let e=this._currentFunction;if(!e)throw new Error("not walking a function");return e}get currentGlobal(){let e=this._currentGlobal;if(!e)throw new Error("not walking a global");return e}walkModule(){this.walkFunctions(),this.walkGlobals()}walkFunctions(){let e=this.module.ref;for(let r=0,n=Dd(e);r<n;++r)this.walkFunction(Vd(e,r))}walkFunction(e){let r=Gt(e);r&&(this._currentFunction=e,this.visit(r),this._currentFunction=0)}walkGlobals(){let e=this.module.ref;for(let r=0,n=sm(e);r<n;++r)this.walkGlobal(am(e,r))}walkGlobal(e){this._currentGlobal=e;let r=Ls(e);r&&this.visit(r),this._currentGlobal=0}replaceCurrent(e){let r=this.currentExpression,n=this.currentFunction;if(Gt(n)==r)ws(n,e);else{let a=assert(this.parentExpressionOrNull);if(!TI(a,r,e))throw Error("failed to replace expression");c_(a)}}};function TI(t,i,e){switch(yt(t)){case 1:{let r=zi(t);for(let n=0;n<r;++n){let s=Ui(t,n);if(s==i)return f_(t,n,e),s}break}case 2:{let r=Di(t);if(r==i)return d_(t,e),r;let n=Vi(t);if(n==i)return m_(t,e),n;let s=Oi(t);if(s==i)return y_(t,e),s;break}case 3:{let r=qi(t);if(r==i)return b_(t,e),r;break}case 4:{let r=Wi(t);if(r==i)return T_(t,e),r;let n=Wl(t);if(n==i)return A_(t,e),n;break}case 5:{let r=Kl(t);if(r==i)return F_(t,e),r;let n=Ql(t);if(n==i)return R_(t,e),n;break}case 6:{let r=Nt(t);for(let n=0;n<r;++n){let s=Mt(t,n);if(s==i)return gs(t,n,e),s}break}case 7:{let r=Hl(t);if(r==i)return P_(t,e),r;let n=Ki(t);for(let s=0;s<n;++s){let a=Qi(t,s);if(a==i)return bs(t,s,e),a}break}case 8:break;case 9:{let r=sr(t);if(r==i)return As(t,e),r;break}case 10:break;case 11:{let r=jl(t);if(r==i)return D_(t,e),r;break}case 12:{let r=ji(t);if(r==i)return j_(t,e),r;break}case 13:{let r=ar(t);if(r==i)return Ss(t,e),r;let n=Xi(t);if(n==i)return Y_(t,e),n;break}case 14:break;case 15:{let r=Zi(t);if(r==i)return of(t,e),r;break}case 16:{let r=Yi(t);if(r==i)return cf(t,e),r;let n=$i(t);if(n==i)return _f(t,e),n;break}case 17:{let r=Ji(t);if(r==i)return hf(t,e),r;let n=en(t);if(n==i)return df(t,e),n;let s=tn(t);if(s==i)return mf(t,e),s;break}case 18:{let r=rn(t);if(r==i)return yf(t,e),r;break}case 19:{let r=lr(t);if(r==i)return Fs(t,e),r;break}case 20:break;case 21:{let r=Hi(t);if(r==i)return q_(t,e),r;break}case 22:break;case 23:break;case 24:{let r=Zl(t);if(r==i)return Af(t,e),r;let n=Yl(t);if(n==i)return Ef(t,e),n;break}case 25:{let r=$l(t);if(r==i)return If(t,e),r;let n=Jl(t);if(n==i)return Sf(t,e),n;let s=eo(t);if(s==i)return Ff(t,e),s;break}case 26:{let r=to(t);if(r==i)return kf(t,e),r;let n=ro(t);if(n==i)return wf(t,e),n;let s=io(t);if(s==i)return Cf(t,e),s;break}case 27:{let r=no(t);if(r==i)return Bf(t,e),r;let n=so(t);if(n==i)return Lf(t,e),n;break}case 28:break;case 29:{let r=ao(t);if(r==i)return Gf(t,e),r;break}case 30:{let r=lo(t);if(r==i)return Uf(t,e),r;let n=oo(t);if(n==i)return Df(t,e),n;break}case 31:{let r=uo(t);if(r==i)return Of(t,e),r;let n=po(t);if(n==i)return qf(t,e),n;break}case 32:{let r=co(t);if(r==i)return Kf(t,e),r;let n=_o(t);if(n==i)return Qf(t,e),n;let s=fo(t);if(s==i)return Hf(t,e),s;break}case 33:{let r=ho(t);if(r==i)return Xf(t,e),r;let n=mo(t);if(n==i)return Zf(t,e),n;break}case 34:{let r=yo(t);if(r==i)return $f(t,e),r;break}case 35:{let r=go(t);if(r==i)return eh(t,e),r;if(bo(t)==i)return th(t,e),r;break}case 36:{let r=xo(t);if(r==i)return rh(t,e),r;let n=To(t);if(n==i)return ih(t,e),n;let s=Ao(t);if(s==i)return nh(t,e),s;break}case 37:break;case 38:{let r=Eo(t);if(r==i)return ah(t,e),r;let n=vo(t);if(n==i)return lh(t,e),n;let s=Io(t);if(s==i)return oh(t,e),s;break}case 39:{let r=So(t);if(r==i)return ph(t,e),r;let n=Fo(t);if(n==i)return ch(t,e),n;let s=Ro(t);if(s==i)return _h(t,e),s;break}case 40:break;case 41:break;case 42:{let r=ko(t);if(r==i)return dh(t,e),r;break}case 43:break;case 44:{let r=Po(t);if(r==i)return xh(t,e),r;let n=Bo(t);if(n==i)return Th(t,e),n;break}case 51:{let r=Lo(t);if(r==i)return Fh(t,e),r;let n=No(t);for(let s=0;s<n;++s){let a=Mo(t,s);if(a==i)return Rh(t,s,e),a}break}case 53:{let r=Go(t);for(let n=0;n<r;++n){let s=zo(t,n);if(s==i)return Ch(t,n,e),s}break}case 54:break;case 56:{let r=Uo(t);for(let n=0;n<r;++n){let s=Do(t,n);if(s==i)return Lh(t,n,e),s}break}case 57:{let r=Vo(t);if(r==i)return Mh(t,e),r;break}case 58:{let r=Oo(t);if(r==i)return Uh(t,e),r;break}case 59:{let r=qo(t);if(r==i)return Vh(t,e),r;break}case 60:{let r=Wo(t);for(let s=0;s<r;++s){let a=Ko(t,s);if(a==i)return Oh(t,s,e),a}let n=Qo(t);if(n==i)return qh(t,e),n;break}case 61:{let r=Ho(t);if(r==i)return Wh(t,e),r;break}case 62:{let r=jo(t);if(r==i)return Kh(t,e),r;break}case 63:{let r=Xo(t);if(r==i)return Hh(t,e),r;break}case 64:{let r=Zo(t);for(let n=0;n<r;++n){let s=Yo(t,n);if(s==i)return jh(t,n,e),s}break}case 65:{let r=$o(t);if(r==i)return Zh(t,e),r;break}case 66:{let r=Jo(t);if(r==i)return $h(t,e),r;let n=eu(t);if(n==i)return Jh(t,e),n;break}case 67:{let r=ru(t);if(r==i)return td(t,e),r;let n=tu(t);if(n==i)return ed(t,e),n;break}case 70:{let r=iu(t);for(let n=0;n<r;++n){let s=nu(t,n);if(s==i)return rd(t,n,e),s}break}case 71:{let r=su(t);if(r==i)return id(t,e),r;let n=au(t);if(n==i)return nd(t,e),n;break}case 72:{let r=lu(t);if(r==i)return sd(t,e),r;let n=ou(t);if(n==i)return ad(t,e),n;let s=uu(t);if(s==i)return ld(t,e),s;break}case 73:{let r=pu(t);if(r==i)return od(t,e),r;break}case 74:{let r=cu(t);if(r==i)return ud(t,e),r;let n=_u(t);if(n==i)return pd(t,e),n;let s=fu(t);if(s==i)return cd(t,e),s;let a=hu(t);if(a==i)return _d(t,e),a;let l=du(t);if(l==i)return fd(t,e),l;break}case 78:{let r=Co(t);if(r==i)return mh(t,e),r;break}case 79:{let r=mu(t);if(r==i)return hd(t,e),r;let n=yu(t);if(n==i)return dd(t,e),n;let s=gu(t);if(s==i)return md(t,e),s;let a=bu(t);if(a==i)return yd(t,e),a;break}case 80:break;case 81:{let r=xu(t);if(r==i)return gd(t,e),r;break}case 82:{let r=Tu(t);if(r==i)return bd(t,e),r;let n=Au(t);if(n==i)return xd(t,e),n;let s=Eu(t);if(s==i)return Td(t,e),s;break}case 83:{let r=vu(t);if(r==i)return Ad(t,e),r;let n=Iu(t);if(n==i)return Ed(t,e),n;break}case 84:{let r=Fu(t);if(r==i)return vd(t,e),r;let n=Ru(t);if(n==i)return Id(t,e),n;break}case 85:{let r=ku(t);if(r==i)return Sd(t,e),r;break}case 86:{let r=wu(t);if(r==i)return Fd(t,e),r;let n=Cu(t);if(n==i)return Rd(t,e),n;let s=Pu(t);if(s==i)return kd(t,e),s;break}case 87:{let r=Bu(t);if(r==i)return wd(t,e),r;let n=Lu(t);if(n==i)return Cd(t,e),n;break}case 88:{let r=Nu(t);if(r==i)return Pd(t,e),r;break}case 89:{let r=Mu(t);if(r==i)return Bd(t,e),r;let n=Gu(t);if(n==i)return Ld(t,e),n;break}case 90:{let r=zu(t);if(r==i)return Nd(t,e),r;let n=Uu(t);if(n==i)return Md(t,e),n;let s=Du(t);if(s==i)return Gd(t,e),s;break}case 91:{let r=Vu(t);if(r==i)return zd(t,e),r;let n=Ou(t);if(n==i)return Ud(t,e),n;break}default:throw new Error("unexpected expression id")}return 0}var Ll=class extends Ur{constructor(e){super(e.module);this.seenStores=!1;this.ptrType=e.options.sizeTypeRef}checkRT(){return this.module.readStringCached(jr(this.currentFunction)).startsWith("~lib/rt/")}visitStore(e){let r=this.module,n=ar(e),s=Is(e),a=vs(e);Ss(e,r.call("~onstore",[n,r.i32(s),r.i32(a),r.i32(i32(this.checkRT()))],this.ptrType)),this.seenStores=!0}walkModule(){super.walkModule(),this.seenStores&&this.module.addFunctionImport("~onstore","rtrace","onstore",Ke([this.ptrType,L.I32,L.I32,L.I32]),this.ptrType)}};function cg(t,i){let e=!1;for(;yt(i)==6&&t.readStringCached(qr(i))==h.tostack;)assert(Nt(i)==1),i=Mt(i,0),e=!0;return e?i:0}function _g(t){switch(yt(t)){case 14:return!Se(t)}return!0}var Nl=class extends Ur{constructor(e){super(e.module);this.slotMaps=new Map;this.tempMaps=new Map;this.exportMap=new Map;this.hasStackCheckFunction=!1;this.callSlotOffset=0;this.callSlotStack=new Array;this.compiler=e}get options(){return this.compiler.options}get ptrType(){return this.options.sizeTypeRef}get ptrSize(){return this.ptrType==L.I64?8:4}get ptrBinaryAdd(){return this.ptrType==L.I64?25:0}get ptrBinarySub(){return this.ptrType==L.I64?26:1}ptrConst(e){return this.ptrType==L.I64?this.module.i64(e):this.module.i32(e)}noteSlot(e,r){let n;if(this.slotMaps.has(e)){if(n=changetype(this.slotMaps.get(e)),n.has(r))return changetype(n.get(r))}else n=new Map,this.slotMaps.set(e,n);let s=n.size;return n.set(r,s),s}noteExport(e,r){r.length&&this.exportMap.set(e,r)}getSharedTemp(e,r){let n;if(this.tempMaps.has(e)){if(n=changetype(this.tempMaps.get(e)),n.has(r))return changetype(n.get(r))}else n=new Map,this.tempMaps.set(e,n);let a=qu(e)+n.size;return n.set(r,a),a}makeStackOffset(e){assert(e!=0);let r=this.module,n=r.global_set(h.stack_pointer,r.binary(e>=0?this.ptrBinaryAdd:this.ptrBinarySub,r.global_get(h.stack_pointer,this.ptrType),this.ptrConst(abs(e))));return e>0?n:r.block(null,[n,this.makeStackCheck()],L.None)}makeStackFill(e,r){assert(e>0);let n=this.module;if(this.options.hasFeature(8)&&e>16)r.push(n.memory_fill(n.global_get(h.stack_pointer,this.ptrType),n.i32(0),this.ptrConst(e)));else{let s=e;for(;s>=8;)r.push(n.store(8,n.global_get(h.stack_pointer,this.ptrType),n.i64(0),L.I64,e-s)),s-=8;s&&(assert(s==4),r.push(n.store(4,n.global_get(h.stack_pointer,this.ptrType),n.i32(0),L.I32,e-s)))}}makeStackCheck(){let e=this.module;return this.hasStackCheckFunction||(this.hasStackCheckFunction=!0,e.addFunction("~stack_check",L.None,L.None,null,e.if(e.binary(17,e.global_get(h.stack_pointer,this.ptrType),e.global_get(h.data_end,this.ptrType)),this.compiler.makeStaticAbort(this.compiler.ensureStaticString("stack overflow"),fe.native)))),e.call("~stack_check",null,L.None)}updateCallOperands(e){let r=this.module,n=0;for(let s=0,a=e.length;s<a;++s){let l=e[s],o=cg(r,l);if(!o)continue;if(!_g(o)){e[s]=o;continue}let p=this.currentFunction,c=qu(p),_=this.noteSlot(p,c+this.callSlotOffset+n),f=this.getSharedTemp(p,this.ptrType),d=new Array;d.push(r.local_set(f,o,!1)),d.push(r.store(this.ptrSize,r.global_get(h.stack_pointer,this.ptrType),r.local_get(f,this.ptrType),this.ptrType,_*this.ptrSize)),d.push(r.local_get(f,this.ptrType)),e[s]=r.block(null,d,this.ptrType),++n}return n}visitCallPre(e){let r=Nt(e),n=new Array(r);for(let a=0;a<r;++a)n[a]=Mt(e,a);let s=this.updateCallOperands(n);for(let a=0,l=n.length;a<l;++a)gs(e,a,n[a]);s&&(this.callSlotOffset+=s),this.callSlotStack.push(s)}visitCall(e){let r=this.callSlotStack.pop();r&&(this.callSlotOffset-=r)}visitCallIndirectPre(e){let r=Ki(e),n=new Array(r);for(let a=0;a<r;++a)n[a]=Qi(e,a);let s=this.updateCallOperands(n);for(let a=0,l=n.length;a<l;++a)bs(e,a,n[a]);s&&(this.callSlotOffset+=s),this.callSlotStack.push(s)}visitCallIndirect(e){let r=this.callSlotStack.pop();r&&(this.callSlotOffset-=r)}visitLocalSet(e){let r=this.module,n=sr(e),s=cg(r,n);if(!s)return;if(!_g(s)){As(e,s);return}let a=Wr(e),l=this.noteSlot(this.currentFunction,a),o=new Array;o.push(r.store(this.ptrSize,r.global_get(h.stack_pointer,this.ptrType),r.local_tee(a,s,!1),this.ptrType,l*this.ptrSize)),Ts(e)?(o.push(r.local_get(a,this.ptrType)),this.replaceCurrent(r.flatten(o,this.ptrType))):this.replaceCurrent(r.flatten(o,L.None))}updateFunction(e){let r=jr(e),n=sn(e),s=an(e),a=assert(Gt(e)),l=Rs(e),o=new Array;for(let d=0;d<l;++d)o[d]=ks(e,d);let p=this.tempMaps;if(p.has(e)){let d=changetype(p.get(e));for(let g=Map_keys(d),E=0,x=g.length;E<x;++E)o.push(g[E])}let c=this.module.ref;nn(c,r);let _=_e(o),f=Qr(c,r,n,s,_,o.length,a);if(this.options.sourceMap||this.options.debugInfo){let d=this.compiler.program.searchFunctionByRef(f);d&&d.addDebugInfo(this.module,f)}J(_)}updateExport(e,r){let n=this.module,s=n.ref;assert(em(e)==0);let a=rm(e),l=n.readStringCached(a),o=tm(e),p=Hr(s,a),c=sn(p),_=Ip(c),f=_.length,d=an(p),g=f,E=new Array,x=assert(r.length),A=x*this.ptrSize,S="export:"+l,I=n.allocStringCached(S);if(Hr(s,I)==0){let k=new Array;k.push(this.makeStackOffset(-A));for(let V=0;V<x;++V)k.push(n.store(this.ptrSize,n.global_get(h.stack_pointer,this.ptrType),n.local_get(r[V],this.ptrType),this.ptrType,V*this.ptrSize));let F=new Array(f);for(let V=0;V<f;++V)F[V]=n.local_get(V,_[V]);if(d!=L.None){let V=g++;E.push(d),k.push(n.local_set(V,n.call(l,F,d),!1)),k.push(this.makeStackOffset(+A)),k.push(n.local_get(V,d))}else k.push(n.call(l,F,d)),k.push(this.makeStackOffset(+A));let B=_e(E);Qr(s,I,c,d,B,E.length,n.block(null,k,d)),J(B)}Bs(s,o),Cs(s,I,o)}walkModule(){super.walkModule();let e=this.module,r=new Fc(this);for(let s=Map_keys(this.slotMaps),a=0,l=s.length;a<l;++a){let o=s[a],c=changetype(this.slotMaps.get(o)).size*this.ptrSize;r.frameSize=c,r.walkFunction(o);let _=new Array;_.push(this.makeStackOffset(-c)),this.makeStackFill(c,_);let f=Gt(o),d=Lt(f);if(d==L.Unreachable)_.push(f);else if(d==L.None)_.push(f),_.push(this.makeStackOffset(+c));else{let g=this.getSharedTemp(o,d);_.push(e.local_set(g,f,!1)),_.push(this.makeStackOffset(+c)),_.push(e.local_get(g,d))}ws(o,e.flatten(_,d))}for(let s=Map_keys(this.tempMaps),a=0,l=s.length;a<l;++a)this.updateFunction(s[a]);let n=this.exportMap;for(let s=Map_keys(n),a=0,l=s.length;a<l;++a){let o=s[a],p=Ps(e.ref,e.allocStringCached(o)),c=changetype(n.get(o));this.updateExport(p,c)}}},Fc=class extends Ur{constructor(e){super(e.module);this.frameSize=0;this.parentPass=e}visitReturn(e){assert(this.frameSize);let r=this.module,n=lr(e),s=new Array;if(n){let a=Lt(n);if(a==L.Unreachable)return;let l=this.parentPass.getSharedTemp(this.currentFunction,a);s.push(r.local_set(l,n,!1)),s.push(this.parentPass.makeStackOffset(+this.frameSize)),Fs(e,r.local_get(l,a))}else s.push(this.parentPass.makeStackOffset(+this.frameSize));s.push(e),this.replaceCurrent(r.flatten(s,L.Unreachable))}};var Ii=class{constructor(i,e=!1){this.seen=new Map;this.program=i,this.includePrivate=e}walk(){for(let i=Map_values(this.program.filesByName),e=0,r=i.length;e<r;++e){let n=unchecked(i[e]);n.source.sourceKind==1&&this.visitFile(n)}}visitFile(i){let e=i.exports;if(e)for(let n=Map_keys(e),s=0,a=n.length;s<a;++s){let l=unchecked(n[s]),o=assert(e.get(l));this.visitElement(l,o)}let r=i.exportsStar;if(r)for(let n=0,s=r.length;n<s;++n){let a=unchecked(r[n]);this.visitFile(a)}}visitElement(i,e){if(e.is(512)&&!this.includePrivate)return;let r=this.seen;if(!e.is(262144)&&r.has(e)){this.visitAlias(i,e,assert(r.get(e)));return}switch(r.set(e,i),e.kind){case 0:{e.is(8388608)&&this.visitGlobal(i,e);break}case 2:{e.is(8388608)&&this.visitEnum(i,e);break}case 3:break;case 4:{this.visitFunctionInstances(i,e);break}case 6:{this.visitClassInstances(i,e);break}case 8:{this.visitInterfaceInstances(i,e);break}case 10:{let n=e.instance;if(!n)break;e=n}case 11:{let n=e,s=n.getterInstance;s&&this.visitFunction(i,s);let a=n.setterInstance;a&&this.visitFunction(i,a);break}case 12:{fg(e)&&this.visitNamespace(i,e);break}case 14:case 15:break;default:assert(!1)}}visitFunctionInstances(i,e){let r=e.instances;if(r)for(let n=Map_values(r),s=0,a=n.length;s<a;++s){let l=unchecked(n[s]);l.is(8388608)&&this.visitFunction(i,l)}}visitClassInstances(i,e){let r=e.instances;if(r)for(let n=Map_values(r),s=0,a=n.length;s<a;++s){let l=unchecked(n[s]);assert(l.kind==7),l.is(8388608)&&this.visitClass(i,l)}}visitInterfaceInstances(i,e){let r=e.instances;if(r)for(let n=Map_values(r),s=0,a=n.length;s<a;++s){let l=unchecked(n[s]);assert(l.kind==9),l.is(8388608)&&this.visitInterface(i,l)}}};function fg(t){let i=t.members;if(i)for(let e=Map_values(i),r=0,n=e.length;r<n;++r){let s=unchecked(e[r]);switch(s.kind){case 4:{let a=s.instances;if(a){for(let l=Map_values(a),o=0,p=l.length;o<p;++o)if(unchecked(l[o]).is(8388608))return!0}break}case 6:{let a=s.instances;if(a){for(let l=Map_values(a),o=0,p=l.length;o<p;++o)if(unchecked(l[o]).is(8388608))return!0}break}default:{if(s.is(8388608)||fg(s))return!0;break}}}return!1}function AI(t){return t=="rtrace"?"#rtrace":t}function EI(t){return t!="rtrace"}var Fi=class t extends Ii{constructor(e,r,n=!1){super(e,n);this.sb=[];this.indentLevel=0;this.needsLiftBuffer=!1;this.needsLowerBuffer=!1;this.needsLiftString=!1;this.needsLowerString=!1;this.needsLiftArray=!1;this.needsLowerArray=!1;this.needsLiftTypedArray=!1;this.needsLowerTypedArray=!1;this.needsLiftStaticArray=!1;this.needsLowerStaticArray=!1;this.needsLiftInternref=!1;this.needsLowerInternref=!1;this.needsRetain=!1;this.needsRelease=!1;this.needsNotNull=!1;this.needsSetU8=!1;this.needsSetU16=!1;this.needsSetU32=!1;this.needsSetU64=!1;this.needsSetF32=!1;this.needsSetF64=!1;this.needsGetI8=!1;this.needsGetU8=!1;this.needsGetI16=!1;this.needsGetU16=!1;this.needsGetI32=!1;this.needsGetU32=!1;this.needsGetI64=!1;this.needsGetU64=!1;this.needsGetF32=!1;this.needsGetF64=!1;this.deferredLifts=new Set;this.deferredLowers=new Set;this.deferredCode=new Array;this.exports=new Array;this.importMappings=new Map;this.esm=r}static build(e,r=!0){return new t(e,r).build()}visitGlobal(e,r){let n=this.sb,s=r.type;this.exports.push(e),Dr(s,1)||(U(n,this.indentLevel),n.push(e),n.push(`: {
`),U(n,++this.indentLevel),n.push("// "),n.push(r.internalName),n.push(": "),n.push(s.toString()),n.push(`
`),U(n,this.indentLevel),n.push(`valueOf() { return this.value; },
`),U(n,this.indentLevel),n.push(`get value() {
`),U(n,++this.indentLevel),n.push("return "),this.makeLiftFromValue("exports."+e+".value",s,n),n.push(`;
`),U(n,--this.indentLevel),n.push("}"),r.is(8)||(n.push(`,
`),U(n,this.indentLevel),n.push(`set value(value) {
`),U(n,++this.indentLevel),n.push("exports."),n.push(e),n.push(".value = "),this.makeLowerToValue("value",s,n),n.push(`;
`),U(n,--this.indentLevel),n.push("}")),n.push(`
`),U(n,--this.indentLevel),n.push(`},
`)),this.visitNamespace(e,r)}visitEnum(e,r){let n=this.sb;this.exports.push(e),U(n,this.indentLevel),n.push(e),n.push(`: (values => (
`),U(n,++this.indentLevel),n.push("// "),n.push(r.internalName),n.push(`
`);let s=r.members;if(s)for(let a=Map_values(s),l=0,o=a.length;l<o;++l){let p=a[l];p.kind==3&&(U(n,this.indentLevel),n.push("values[values."),n.push(p.name),p.is(33554432)?(n.push(" = "),n.push(i64_low(p.constantIntegerValue).toString())):(n.push(' = exports["'),n.push(ye(e+"."+p.name,34)),n.push('"].valueOf()')),n.push('] = "'),n.push(ye(p.name,34)),n.push(`",
`))}U(n,this.indentLevel),n.push(`values
`),U(n,--this.indentLevel),n.push(`))({}),
`),this.visitNamespace(e,r)}makeGlobalImport(e,r,n){let s=this.sb,a=n.type;U(s,this.indentLevel),Me(r)?s.push(r):(s.push('"'),s.push(ye(r,34)),s.push('": '));let l=this.ensureModuleId(e);Dr(a,0)?(s.push(`(
`),U(s,this.indentLevel+1),s.push("// "),s.push(n.internalName),s.push(": "),s.push(n.type.toString()),s.push(`
`),U(s,this.indentLevel+1),e!="env"&&(s.push("__module"),s.push(l.toString()),s.push(".")),s.push(r),s.push(`
`),U(s,this.indentLevel),s.push(")")):(s.push(`{
`),U(s,++this.indentLevel),s.push("// "),s.push(n.internalName),s.push(": "),s.push(n.type.toString()),s.push(`
`),U(s,this.indentLevel),s.push(`// not supported: cannot lower before instantiate completes
`),U(s,--this.indentLevel),s.push("}")),s.push(`,
`)}makeFunctionImport(e,r,n,s=null){let a=this.sb,l=n.signature;if(U(a,this.indentLevel),Me(r)?a.push(r):(a.push('"'),a.push(ye(r,34)),a.push('"')),Rc(l,0)&&!s&&Me(r))a.push(`: (
`),U(a,this.indentLevel+1),a.push("// "),a.push(n.internalName),a.push(n.signature.toString()),a.push(`
`),U(a,this.indentLevel+1),e!="env"&&(a.push(e),a.push(".")),a.push(r),a.push(`
`),U(a,this.indentLevel),a.push(")");else{a.push("(");let o=l.parameterTypes,p=new Array;for(let f=0,d=o.length;f<d;++f)p.push(n.getParameterName(f));a.push(p.join(", ")),a.push(`) {
`),U(a,++this.indentLevel),a.push("// "),a.push(n.internalName),a.push(n.signature.toString()),a.push(`
`);for(let f=0,d=o.length;f<d;++f){let g=o[f];if(!Dr(g,1)){let E=n.getParameterName(f);U(a,this.indentLevel),a.push(E),a.push(" = "),this.makeLiftFromValue(E,g,a),a.push(`;
`)}}let c=new Array,_=this.ensureModuleId(e);s?(c.push(`(() => {
`),U(c,1),c.push(`// @external.js
`),hg(s,1,c),c.push(`
})()`)):(e!="env"&&(c.push("__module"),c.push(_.toString()),c.push(".")),c.push(r),c.push("("),c.push(p.join(", ")),c.push(")")),s=c.join(""),c.length=0,hg(s,this.indentLevel,c,!0),s=c.join(""),U(a,this.indentLevel),l.returnType!=u.void?(a.push("return "),this.makeLowerToValue(s,l.returnType,a),a.push(`;
`)):(a.push(s),a.push(`;
`)),U(a,--this.indentLevel),a.push("}")}a.push(`,
`)}visitFunction(e,r){if(r.is(512))return;let n=this.sb,s=r.signature;if(this.exports.push(e),!Rc(s,1)){U(n,this.indentLevel),n.push(e),n.push("(");let a=s.parameterTypes,l=0;for(let c=0,_=a.length;c<_;++c)a[c].isInternalReference&&l++,c>0&&n.push(", "),n.push(r.getParameterName(c));n.push(`) {
`),U(n,++this.indentLevel),n.push("// "),n.push(r.internalName),n.push(s.toString()),n.push(`
`);let o=new Array;for(let c=0,_=a.length;c<_;++c){let f=a[c];if(!Dr(f,0)){let d=r.getParameterName(c);U(n,this.indentLevel),n.push(d),n.push(" = ");let g=f.isInternalReference&&--l>0;g&&(this.needsRetain=!0,this.needsRelease=!0,n.push("__retain("),o.push(d)),this.makeLowerToValue(d,f,n),g&&n.push(")"),n.push(`;
`)}}o.length&&(U(n,this.indentLevel++),n.push(`try {
`)),s.requiredParameters<a.length&&(U(n,this.indentLevel),n.push(`exports.__setArgumentsLength(arguments.length);
`));let p=new Array;p.push("exports."),p.push(e),p.push("(");for(let c=0,_=a.length;c<_;++c)c>0&&p.push(", "),p.push(r.getParameterName(c));if(p.push(")"),s.returnType!=u.void?(U(n,this.indentLevel),n.push("return "),this.makeLiftFromValue(p.join(""),s.returnType,n)):(U(n,this.indentLevel),n.push(p.join(""))),n.push(`;
`),o.length){U(n,this.indentLevel-1),n.push(`} finally {
`);for(let c=0,_=o.length;c<_;++c)U(n,this.indentLevel),n.push("__release("),n.push(o[c]),n.push(`);
`);U(n,--this.indentLevel),n.push(`}
`)}U(n,--this.indentLevel),n.push(`},
`)}this.visitNamespace(e,r)}visitClass(e,r){}visitInterface(e,r){this.visitClass(e,r)}visitNamespace(e,r){}visitAlias(e,r,n){}getExternalCode(e){let r=At(10,e.decoratorNodes);if(r){let n=r.args;if(n&&n.length==1){let s=n[0];if(s.kind==16){let a=s;if(a.literalKind==2)return a.value;if(a.literalKind==3){let l=a.parts;if(l.length==1)return l[0]}}}}return null}build(){let e=this.exports,r=this.program.moduleImports,n=this.program,s=n.options,a=this.sb;a.push(""),U(a,this.indentLevel++),this.esm||a.push("export "),a.push(`async function instantiate(module, imports = {}) {
`);let l=a.push("")-1;U(a,this.indentLevel++),a.push(`const adaptedImports = {
`);let o=a.length;for(let E=Map_keys(r),x=0,A=E.length;x<A;++x){let S=E[x],I=this.ensureModuleId(S),k=r.get(S);if(U(a,this.indentLevel),Me(S)?a.push(S):(a.push('"'),a.push(ye(S,34)),a.push('"')),!EI(S)){a.push(": __module"),a.push(I.toString()),a.push(`,
`);continue}let F=a.length;a.push(": Object.assign(Object.create("),S=="env"?a.push("globalThis"):(a.push("__module"),a.push(I.toString())),a.push("), "),S=="env"&&a.push("imports.env || {}, "),a.push(`{
`),++this.indentLevel;let B=0;for(let V=Map_keys(k),K=0,D=V.length;K<D;++K){let q=V[K],j=assert(k.get(q));if(j.kind==5){let te=j,Y=this.getExternalCode(te);(!Rc(te.signature,0)||!Me(q)||Y)&&(this.makeFunctionImport(S,q,j,Y),++B)}else if(j.kind==0){let te=j;(!Dr(te.type,0)||!Me(q))&&(this.makeGlobalImport(S,q,te),++B)}}--this.indentLevel,B?(U(a,this.indentLevel),a.push(`}),
`)):(a.length=F,S=="env"?a.push(": Object.assign(Object.create(globalThis), imports.env || {})"):(a.push(": __module"),a.push(I.toString())),a.push(`,
`))}--this.indentLevel;let p=a.length>o;p?(U(a,this.indentLevel),a.push(`};
`)):a.length=o-2;let c=this.importMappings,_=new Array;for(let E=Map_keys(c),x=0,A=E.length;x<A;++x){let S=E[x];if(S=="env")_.push(`  const env = imports.env;
`);else{let I=c.get(S);S=="rtrace"&&(_.push(`  ((rtrace) => {
`),_.push(`    delete imports.rtrace;
`),_.push("    new rtrace.Rtrace({ getMemory() { return memory; }, onerror(err) { console.log(`RTRACE: ${err.stack}`); } }).install(imports);\n"),_.push(`  })(imports.rtrace);
`)),_.push("  const __module"),_.push(I.toString()),_.push(" = imports"),Me(S)?(_.push("."),_.push(S)):(_.push('["'),_.push(ye(S,34)),_.push('"]')),_.push(`;
`)}}a[l]=_.join(""),U(a,this.indentLevel),a.push("const { exports } = await WebAssembly.instantiate(module"),p?a.push(`, adaptedImports);
`):a.push(`, imports);
`),U(a,this.indentLevel),a.push(`const memory = exports.memory || imports.env.memory;
`),U(a,this.indentLevel++),a.push(`const adaptedExports = Object.setPrototypeOf({
`),o=a.length,this.walk(),--this.indentLevel;let f=a.length>o;f?(U(a,this.indentLevel),a.push(`}, exports);
`)):this.needsLiftBuffer||this.needsLowerBuffer||this.needsLiftString||this.needsLowerString||this.needsLiftArray||this.needsLowerArray||this.needsLiftTypedArray||this.needsLowerTypedArray||this.needsLiftStaticArray?a.length=o-2:a.length=o-4;let d=this.deferredCode;if(d.length)for(let E=0,x=d.length;E<x;++E)a.push(d[E]);if(this.needsLiftBuffer){let E=n.OBJECTInstance,x=E.offsetof("rtSize")-E.nextMemoryOffset;a.push(`  function __liftBuffer(pointer) {
    if (!pointer) return null;
    return memory.buffer.slice(pointer, pointer + new Uint32Array(memory.buffer)[pointer - ${-x} >>> 2]);
  }
`)}if(this.needsLowerBuffer){let E=n.arrayBufferInstance.id;a.push(`  function __lowerBuffer(value) {
    if (value == null) return 0;
    const pointer = exports.__new(value.byteLength, ${E}) >>> 0;
    new Uint8Array(memory.buffer).set(new Uint8Array(value), pointer);
    return pointer;
  }
`)}if(this.needsLiftString){let E=n.OBJECTInstance,x=E.offsetof("rtSize")-E.nextMemoryOffset,A=1024;a.push(`  function __liftString(pointer) {
    if (!pointer) return null;
    const
      end = pointer + new Uint32Array(memory.buffer)[pointer - ${-x} >>> 2] >>> 1,
      memoryU16 = new Uint16Array(memory.buffer);
    let
      start = pointer >>> 1,
      string = "";
    while (end - start > ${A}) string += String.fromCharCode(...memoryU16.subarray(start, start += ${A}));
    return string + String.fromCharCode(...memoryU16.subarray(start, end));
  }
`)}if(this.needsLowerString){let E=n.stringInstance.id;a.push(`  function __lowerString(value) {
    if (value == null) return 0;
    const
      length = value.length,
      pointer = exports.__new(length << 1, ${E}) >>> 0,
      memoryU16 = new Uint16Array(memory.buffer);
    for (let i = 0; i < length; ++i) memoryU16[(pointer >>> 1) + i] = value.charCodeAt(i);
    return pointer;
  }
`)}if(this.needsLiftArray){let E=n.arrayBufferViewInstance.offsetof("dataStart"),x=n.arrayBufferViewInstance.nextMemoryOffset;this.needsGetU32=!0,a.push(`  function __liftArray(liftElement, align, pointer) {
    if (!pointer) return null;
    const
      dataStart = __getU32(pointer + ${E}),
      length = __dataview.getUint32(pointer + ${x}, true),
      values = new Array(length);
    for (let i = 0; i < length; ++i) values[i] = liftElement(dataStart + (i << align >>> 0));
    return values;
  }
`)}if(this.needsLowerArray){let E=n.arrayBufferInstance.id,x=n.arrayBufferViewInstance,A=x.nextMemoryOffset+4,S=x.offsetof("buffer"),I=x.offsetof("dataStart"),k=x.offsetof("byteLength"),F=k+4;this.needsSetU32=!0,a.push(`  function __lowerArray(lowerElement, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, ${E})) >>> 0,
      header = exports.__pin(exports.__new(${A}, id)) >>> 0;
    __setU32(header + ${S}, buffer);
    __dataview.setUint32(header + ${I}, buffer, true);
    __dataview.setUint32(header + ${k}, length << align, true);
    __dataview.setUint32(header + ${F}, length, true);
    for (let i = 0; i < length; ++i) lowerElement(buffer + (i << align >>> 0), values[i]);
    exports.__unpin(buffer);
    exports.__unpin(header);
    return header;
  }
`)}if(this.needsLiftTypedArray){let E=n.arrayBufferViewInstance,x=E.offsetof("dataStart"),A=E.offsetof("byteLength");this.needsGetU32=!0,a.push(`  function __liftTypedArray(constructor, pointer) {
    if (!pointer) return null;
    return new constructor(
      memory.buffer,
      __getU32(pointer + ${x}),
      __dataview.getUint32(pointer + ${A}, true) / constructor.BYTES_PER_ELEMENT
    ).slice();
  }
`)}if(this.needsLowerTypedArray){let E=n.arrayBufferInstance.id,x=n.arrayBufferViewInstance,A=x.nextMemoryOffset,S=x.offsetof("buffer"),I=x.offsetof("dataStart"),k=x.offsetof("byteLength");this.needsSetU32=!0,a.push(`  function __lowerTypedArray(constructor, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, ${E})) >>> 0,
      header = exports.__new(${A}, id) >>> 0;
    __setU32(header + ${S}, buffer);
    __dataview.setUint32(header + ${I}, buffer, true);
    __dataview.setUint32(header + ${k}, length << align, true);
    new constructor(memory.buffer, buffer, length).set(values);
    exports.__unpin(buffer);
    return header;
  }
`)}if(this.needsLiftStaticArray){let E=n.OBJECTInstance,x=E.offsetof("rtSize")-E.nextMemoryOffset;this.needsGetU32=!0,a.push(`  function __liftStaticArray(liftElement, align, pointer) {
    if (!pointer) return null;
    const
      length = __getU32(pointer - ${-x}) >>> align,
      values = new Array(length);
    for (let i = 0; i < length; ++i) values[i] = liftElement(pointer + (i << align >>> 0));
    return values;
  }
`)}this.needsLowerStaticArray&&a.push(`  function __lowerStaticArray(lowerElement, id, align, values, typedConstructor) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, id)) >>> 0;
    if (typedConstructor) {
      new typedConstructor(memory.buffer, buffer, length).set(values);
    } else {
      for (let i = 0; i < length; i++) lowerElement(buffer + (i << align >>> 0), values[i]);
    }
    exports.__unpin(buffer);
    return buffer;
  }
`),(this.needsLiftInternref||this.needsLowerInternref)&&a.push(`  class Internref extends Number {}
`),this.needsLiftInternref&&(this.needsRetain=!0,this.needsRelease=!0,a.push(`  const registry = new FinalizationRegistry(__release);
  function __liftInternref(pointer) {
    if (!pointer) return null;
    const sentinel = new Internref(__retain(pointer));
    registry.register(sentinel, pointer);
    return sentinel;
  }
`)),this.needsLowerInternref&&a.push(`  function __lowerInternref(value) {
    if (value == null) return 0;
    if (value instanceof Internref) return value.valueOf();
    throw TypeError("internref expected");
  }
`),(this.needsRetain||this.needsRelease)&&a.push(`  const refcounts = new Map();
`),this.needsRetain&&a.push(`  function __retain(pointer) {
    if (pointer) {
      const refcount = refcounts.get(pointer);
      if (refcount) refcounts.set(pointer, refcount + 1);
      else refcounts.set(exports.__pin(pointer), 1);
    }
    return pointer;
  }
`),this.needsRelease&&a.push(`  function __release(pointer) {
    if (pointer) {
      const refcount = refcounts.get(pointer);
      if (refcount === 1) exports.__unpin(pointer), refcounts.delete(pointer);
      else if (refcount) refcounts.set(pointer, refcount - 1);
      else throw Error(\`invalid refcount '\${refcount}' for reference '\${pointer}'\`);
    }
  }
`),this.needsNotNull&&a.push(`  function __notnull() {
    throw TypeError("value must not be null");
  }
`),(this.needsSetU8||this.needsSetU16||this.needsSetU32||this.needsSetU64||this.needsSetF32||this.needsSetF64||this.needsGetI8||this.needsGetU8||this.needsGetI16||this.needsGetU16||this.needsGetI32||this.needsGetU32||this.needsGetI64||this.needsGetU64||this.needsGetF32||this.needsGetF64)&&a.push(`  let __dataview = new DataView(memory.buffer);
`),this.needsSetU8&&a.push(Si("U8","setUint8")),this.needsSetU16&&a.push(Si("U16","setUint16")),this.needsSetU32&&a.push(Si("U32","setUint32")),this.needsSetU64&&a.push(Si("U64","setBigUint64")),this.needsSetF32&&a.push(Si("F32","setFloat32")),this.needsSetF64&&a.push(Si("F64","setFloat64")),this.needsGetI8&&a.push(mt("I8","getInt8")),this.needsGetU8&&a.push(mt("U8","getUint8")),this.needsGetI16&&a.push(mt("I16","getInt16")),this.needsGetU16&&a.push(mt("U16","getUint16")),this.needsGetI32&&a.push(mt("I32","getInt32")),this.needsGetU32&&a.push(mt("U32","getUint32")),this.needsGetI64&&a.push(mt("I64","getBigInt64")),this.needsGetU64&&a.push(mt("U64","getBigUint64")),this.needsGetF32&&a.push(mt("F32","getFloat32")),this.needsGetF64&&a.push(mt("F64","getFloat64"));let g=s.exportStart;if(g&&a.push(`  exports.${g}();
`),f?a.push(`  return adaptedExports;
}
`):a.push(`  return exports;
}
`),--this.indentLevel,assert(this.indentLevel==0),this.esm){if(a.push(`export const {
`),this.program.options.exportMemory&&a.push(`  memory,
`),this.program.options.exportTable&&a.push(`  table,
`),this.program.options.exportRuntime){for(let A=0,S=Ri.length;A<S;++A)a.push("  "),a.push(Ri[A]),a.push(`,
`);for(let A=0,S=ki.length;A<S;++A)a.push("  "),a.push(ki[A]),a.push(`,
`)}for(let A=0,S=e.length;A<S;++A)a.push("  "),a.push(e[A]),a.push(`,
`);a.push(`} = await (async url => instantiate(
  await (async () => {
    const isNodeOrBun = typeof process != "undefined" && process.versions != null && (process.versions.node != null || process.versions.bun != null);
    if (isNodeOrBun) { return globalThis.WebAssembly.compile(await (await import("node:fs/promises")).readFile(url)); }
    else { return await globalThis.WebAssembly.compileStreaming(globalThis.fetch(url)); }
  })(), {
`);let E=!1,x=new Array;for(let A=Map_keys(c),S=0,I=A.length;S<I;++S){let k=A[S];if(k=="env")U(a,2),a.push(`env: globalThis,
`);else{let F=this.ensureModuleId(k);U(a,2),Me(k)?a.push(k):(a.push('"'),a.push(ye(k,34)),a.push('"')),a.push(": __maybeDefault(__import"),a.push(F.toString()),a.push(`),
`),x.push("import * as __import"),x.push(F.toString()),x.push(' from "'),x.push(ye(AI(k),34)),x.push(`";
`),E=!0}}a[0]=x.join(""),a.push(`  }
))(new URL("${ye(s.basenameHint,34)}.wasm", import.meta.url));
`),E&&a.push(`function __maybeDefault(module) {
  return typeof module.default === "object" && Object.keys(module).length == 1
    ? module.default
    : module;
}
`)}return a.join("")}ensureModuleId(e){if(e=="env")return-1;let r=this.importMappings,n=r.has(e)?i32(r.get(e)):r.size;return r.set(e,n),n}makeLiftFromValue(e,r,n=this.sb){if(r.isInternalReference){let s=assert(r.getClassOrWrapper(this.program));if(s.extendsPrototype(this.program.arrayBufferInstance.prototype))n.push("__liftBuffer("),this.needsLiftBuffer=!0;else if(s.extendsPrototype(this.program.stringInstance.prototype))n.push("__liftString("),this.needsLiftString=!0;else if(s.extendsPrototype(this.program.arrayPrototype)){let a=s.getArrayValueType();n.push("__liftArray("),this.makeLiftFromMemoryFunc(a,n),n.push(", "),n.push(a.alignLog2.toString()),n.push(", "),this.needsLiftArray=!0}else if(s.extendsPrototype(this.program.staticArrayPrototype)){let a=s.getArrayValueType();n.push("__liftStaticArray("),this.makeLiftFromMemoryFunc(a,n),n.push(", "),n.push(a.alignLog2.toString()),n.push(", "),this.needsLiftStaticArray=!0}else if(s.extendsPrototype(this.program.arrayBufferViewInstance.prototype))n.push("__liftTypedArray("),s.name=="Uint64Array"?n.push("BigUint64Array"):s.name=="Int64Array"?n.push("BigInt64Array"):n.push(s.name),n.push(", "),this.needsLiftTypedArray=!0;else if(cs(s)){if(n.push("__liftRecord"),n.push(s.id.toString()),n.push("("),!this.deferredLifts.has(s)){this.deferredLifts.add(s);let a=this.indentLevel;this.indentLevel=1,this.deferredCode.push(this.makeLiftRecord(s)),this.indentLevel=a}}else n.push("__liftInternref("),this.needsLiftInternref=!0;n.push(e),e.startsWith("__get")||n.push(" >>> 0"),n.push(")")}else r==u.bool?n.push(`${e} != 0`):r.isUnsignedIntegerValue&&r.size>=32?r.size==64?n.push(`BigInt.asUintN(64, ${e})`):n.push(`${e} >>> 0`):n.push(e)}makeLowerToValue(e,r,n=this.sb){if(r.isInternalReference){let s=assert(r.getClassOrWrapper(this.program));if(s.extendsPrototype(this.program.arrayBufferInstance.prototype))n.push("__lowerBuffer("),this.needsLowerBuffer=!0;else if(s.extendsPrototype(this.program.stringInstance.prototype))n.push("__lowerString("),this.needsLowerString=!0;else if(s.extendsPrototype(this.program.arrayPrototype)){let a=s.getArrayValueType();n.push("__lowerArray("),this.makeLowerToMemoryFunc(a,n),n.push(", "),n.push(s.id.toString()),n.push(", "),n.push(s.getArrayValueType().alignLog2.toString()),n.push(", "),this.needsLowerArray=!0}else if(s.extendsPrototype(this.program.staticArrayPrototype)){let a=s.getArrayValueType();n.push("__lowerStaticArray("),this.makeLowerToMemoryFunc(a,n),n.push(", "),n.push(s.id.toString()),n.push(", "),n.push(a.alignLog2.toString()),n.push(", "),this.needsLowerStaticArray=!0}else if(s.extendsPrototype(this.program.arrayBufferViewInstance.prototype)){let a=s.getArrayValueType();n.push("__lowerTypedArray("),a==u.u64?n.push("BigUint64Array"):a==u.i64?n.push("BigInt64Array"):n.push(s.name),n.push(", "),n.push(s.id.toString()),n.push(", "),n.push(s.getArrayValueType().alignLog2.toString()),n.push(", "),this.needsLowerTypedArray=!0}else if(cs(s)){if(n.push("__lowerRecord"),n.push(s.id.toString()),n.push("("),!this.deferredLowers.has(s)){this.deferredLowers.add(s);let a=this.indentLevel;this.indentLevel=1,this.deferredCode.push(this.makeLowerRecord(s)),this.indentLevel=a}}else n.push("__lowerInternref("),this.needsLowerInternref=!0;if(n.push(e),s.extendsPrototype(this.program.staticArrayPrototype)){let a=s.getArrayValueType();a.isNumericValue&&(n.push(", "),a==u.u8||a==u.bool?n.push("Uint8Array"):a==u.i8?n.push("Int8Array"):a==u.u16?n.push("Uint16Array"):a==u.i16?n.push("Int16Array"):a==u.u32||a==u.usize32?n.push("Uint32Array"):a==u.i32||a==u.isize32?n.push("Int32Array"):a==u.u64||a==u.usize64?n.push("BigUint64Array"):a==u.i64||a==u.isize64?n.push("BigInt64Array"):a==u.f32?n.push("Float32Array"):a==u.f64?n.push("Float64Array"):assert(!1))}n.push(")"),r.is(512)||(this.needsNotNull=!0,n.push(" || __notnull()"))}else n.push(e),r.isIntegerValue&&r.size==64?n.push(" || 0n"):r==u.bool&&n.push(" ? 1 : 0")}ensureLiftFromMemoryFn(e){return e.isInternalReference?this.program.options.isWasm64?(this.needsGetU64=!0,"__getU64"):(this.needsGetU32=!0,"__getU32"):e==u.i8?(this.needsGetI8=!0,"__getI8"):e==u.u8||e==u.bool?(this.needsGetU8=!0,"__getU8"):e==u.i16?(this.needsGetI16=!0,"__getI16"):e==u.u16?(this.needsGetU16=!0,"__getU16"):e==u.i32||e==u.isize32?(this.needsGetI32=!0,"__getI32"):e==u.u32||e==u.usize32?(this.needsGetU32=!0,"__getU32"):e==u.i64||e==u.isize64?(this.needsGetI64=!0,"__getI64"):e==u.u64||e==u.usize64?(this.needsGetU64=!0,"__getU64"):e==u.f32?(this.needsGetF32=!0,"__getF32"):e==u.f64?(this.needsGetF64=!0,"__getF64"):'(() => { throw Error("unsupported type"); })'}makeLiftFromMemoryFunc(e,r=this.sb){let n=this.ensureLiftFromMemoryFn(e);e.isInternalReference||e==u.bool||e.isUnsignedIntegerValue&&e.size>=32?(r.push("pointer => "),this.makeLiftFromValue(`${n}(pointer)`,e,r)):r.push(n)}makeLiftFromMemoryCall(e,r=this.sb,n="pointer"){let s=this.ensureLiftFromMemoryFn(e);e.isInternalReference?this.makeLiftFromValue(`${s}(${n})`,e,r):(r.push(s),r.push("("),r.push(n),r.push(")"),e==u.bool&&r.push(" != 0"))}ensureLowerToMemoryFn(e){return e.isInternalReference?this.program.options.isWasm64?(this.needsSetU64=!0,"__setU64"):(this.needsSetU32=!0,"__setU32"):e==u.i8||e==u.u8||e==u.bool?(this.needsSetU8=!0,"__setU8"):e==u.i16||e==u.u16?(this.needsSetU16=!0,"__setU16"):e==u.i32||e==u.u32||e==u.isize32||e==u.usize32?(this.needsSetU32=!0,"__setU32"):e==u.i64||e==u.u64||e==u.isize64||e==u.usize64?(this.needsSetU64=!0,"__setU64"):e==u.f32?(this.needsSetF32=!0,"__setF32"):e==u.f64?(this.needsSetF64=!0,"__setF64"):'(() => { throw Error("unsupported type") })'}makeLowerToMemoryFunc(e,r=this.sb){let n=this.ensureLowerToMemoryFn(e);e.isInternalReference?(r.push("(pointer, value) => { "),r.push(n),r.push("(pointer, "),this.makeLowerToValue("value",e,r),r.push("); }")):r.push(n)}makeLowerToMemoryCall(e,r=this.sb,n="pointer",s="value"){let a=this.ensureLowerToMemoryFn(e);r.push(a),r.push("("),r.push(n),r.push(", "),this.makeLowerToValue(s,e,r),r.push(")")}makeLiftRecord(e){assert(cs(e));let r=new Array;U(r,this.indentLevel),r.push("function __liftRecord"),r.push(e.id.toString()),r.push(`(pointer) {
`),U(r,++this.indentLevel),r.push("// "),r.push(e.type.toString()),r.push(`
`),U(r,this.indentLevel),r.push(`// Hint: Opt-out from lifting as a record by providing an empty constructor
`),U(r,this.indentLevel),r.push(`if (!pointer) return null;
`),U(r,this.indentLevel++),r.push(`return {
`);let n=e.members;if(n)for(let s=Map_keys(n),a=0,l=s.length;a<l;++a){let o=s[a],p=assert(n.get(o));if(p.kind!=10)continue;let c=p.instance;!c||!c.isField||(assert(c.memoryOffset>=0),U(r,this.indentLevel),r.push(c.name),r.push(": "),this.makeLiftFromMemoryCall(c.type,r,`pointer + ${c.memoryOffset}`),r.push(`,
`))}return U(r,--this.indentLevel),r.push(`};
`),U(r,--this.indentLevel),r.push(`}
`),r.join("")}makeLowerRecord(e){assert(cs(e));let r=new Array;U(r,this.indentLevel),r.push("function __lowerRecord"),r.push(e.id.toString()),r.push(`(value) {
`),U(r,++this.indentLevel),r.push("// "),r.push(e.type.toString()),r.push(`
`),U(r,this.indentLevel),r.push(`// Hint: Opt-out from lowering as a record by providing an empty constructor
`),U(r,this.indentLevel),r.push(`if (value == null) return 0;
`),U(r,this.indentLevel),r.push("const pointer = exports.__pin(exports.__new("),r.push(e.nextMemoryOffset.toString()),r.push(", "),r.push(e.id.toString()),r.push(`));
`);let n=e.members;if(n)for(let s=Map_keys(n),a=0,l=s.length;a<l;++a){let o=s[a],p=assert(n.get(o));if(p.kind!=10)continue;let c=p.instance;!c||!c.isField||(assert(c.memoryOffset>=0),U(r,this.indentLevel),this.makeLowerToMemoryCall(c.type,r,`pointer + ${c.memoryOffset}`,`value.${o}`),r.push(`;
`))}return U(r,this.indentLevel),r.push(`exports.__unpin(pointer);
`),U(r,this.indentLevel),r.push(`return pointer;
`),U(r,--this.indentLevel),r.push(`}
`),r.join("")}};function Dr(t,i){if(i==0){if(t==u.bool||t.isIntegerValue&&t.size==64)return!1}else if(t==u.bool||t.isUnsignedIntegerValue&&t.size>=32)return!1;return!t.isInternalReference}function Rc(t,i){let e=t.parameterTypes,r=i==0?1:0;if(!Dr(t.returnType,i))return!1;for(let n=0,s=e.length;n<s;++n)if(!Dr(e[n],r))return!1;return!0}function cs(t){if(t.base&&!t.prototype.implicitlyExtendsObject)return!1;let i=t.members;if(i)for(let e=Map_values(i),r=0,n=e.length;r<n;++r){let s=e[r];if(s.isAny(1536)||s.is(524288)&&s.declaration.range!=fe.native.range)return!1}return!0}function hg(t,i,e,r=!1){let n=0,s=t.length,a=0;for(;a<s;)t.charCodeAt(a)==10&&(r?r=!1:U(e,i),e.push(t.substring(n,n=a+1))),++a;n<s&&(r||U(e,i),e.push(t.substring(n)))}function wi(t){if(!t.isInternalReference)return!1;let i=t.classReference;if(!i)return assert(t.signatureReference),!0;let e=i.program;return i.extendsPrototype(e.arrayBufferInstance.prototype)||i.extendsPrototype(e.stringInstance.prototype)||i.extendsPrototype(e.arrayBufferViewInstance.prototype)?!1:i.extendsPrototype(e.arrayPrototype)||i.extendsPrototype(e.staticArrayPrototype)?wi(i.getArrayValueType()):!0}function Ci(t){if(!t.isInternalReference)return!1;let i=t.classReference;if(!i)return assert(t.signatureReference),!1;let e=i.program;return i.extendsPrototype(e.arrayBufferInstance.prototype)||i.extendsPrototype(e.stringInstance.prototype)||i.extendsPrototype(e.arrayBufferViewInstance.prototype)||i.extendsPrototype(e.arrayPrototype)||i.extendsPrototype(e.staticArrayPrototype)?!0:cs(i)}function Si(t,i){return`  function __set${t}(pointer, value) {
    try {
      __dataview.${i}(pointer, value, true);
    } catch {
      __dataview = new DataView(memory.buffer);
      __dataview.${i}(pointer, value, true);
    }
  }
`}function mt(t,i){return`  function __get${t}(pointer) {
    try {
      return __dataview.${i}(pointer, true);
    } catch {
      __dataview = new DataView(memory.buffer);
      return __dataview.${i}(pointer, true);
    }
  }
`}var Vr="",ir="",Ml=15,fs=class{constructor(){this.target=1;this.runtime=2;this.debugInfo=!1;this.noAssert=!1;this.exportMemory=!0;this.importMemory=!1;this.initialMemory=0;this.maximumMemory=0;this.sharedMemory=!1;this.zeroFilledMemory=!1;this.importTable=!1;this.exportTable=!1;this.sourceMap=!1;this.uncheckedBehavior=0;this.exportStart=null;this.memoryBase=0;this.tableBase=0;this.globalAliases=null;this.features=Ml;this.noUnsafe=!1;this.pedantic=!1;this.lowMemoryLimit=0;this.exportRuntime=!1;this.stackSize=0;this.bundleMajorVersion=0;this.bundleMinorVersion=0;this.bundlePatchVersion=0;this.optimizeLevelHint=0;this.shrinkLevelHint=0;this.basenameHint="output";this.bindingsHint=!1}get isWasm64(){return this.target==2}get usizeType(){return this.target==2?u.usize64:u.usize32}get isizeType(){return this.target==2?u.isize64:u.isize32}get sizeTypeRef(){return this.target==2?L.I64:L.I32}get willOptimize(){return this.optimizeLevelHint>0||this.shrinkLevelHint>0}setFeature(i,e=!0){e?(i&16384&&(i|=1024),i&1024&&(i|=256),i&4096&&(i|=16),this.features|=i):(i&256&&(i|=1024),i&1024&&(i|=16384),i&16&&(i|=4096),this.features&=~i)}hasFeature(i){return(this.features&i)!=0}},Tl=(r=>(r[r.Default=0]="Default",r[r.Never=1]="Never",r[r.Always=2]="Always",r))(Tl||{}),vc=(l=>(l[l.None=0]="None",l[l.ConvImplicit=1]="ConvImplicit",l[l.ConvExplicit=2]="ConvExplicit",l[l.MustWrap=4]="MustWrap",l[l.WillDrop=8]="WillDrop",l[l.PreferStatic=16]="PreferStatic",l[l.IsThis=32]="IsThis",l))(vc||{}),Ic=(o=>(o[o.None=0]="None",o[o.Data=1]="Data",o[o.Stack=2]="Stack",o[o.Heap=4]="Heap",o[o.Rtti=8]="Rtti",o[o.visitGlobals=16]="visitGlobals",o[o.visitMembers=32]="visitMembers",o[o.setArgumentsLength=64]="setArgumentsLength",o))(Ic||{}),Pi;(r=>(r.DefaultNamespace="env",r.Memory="memory",r.Table="table"))(Pi||={});var _s;(n=>(n.Memory="memory",n.Table="table",n.argumentsLength="__argumentsLength",n.setArgumentsLength="__setArgumentsLength"))(_s||={});var Ri=["__new","__pin","__unpin","__collect"],ki=["__rtti_base"],hs=class t extends Oe{constructor(e){super(e.diagnostics);this.currentParent=null;this.currentType=u.void;this.memorySegments=[];this.stringSegments=new Map;this.functionTable=[];this.builtinArgumentsLength=0;this.runtimeFeatures=0;this.inlineStack=[];this.lazyFunctions=new Set;this.pendingInstanceOf=new Map;this.overrideStubs=new Set;this.pendingElements=new Set;this.doneModuleExports=new Set;this.hasCustomFunctionExports=!1;this.desiresExportRuntime=!1;this.f32ModInstance=null;this.f64ModInstance=null;this.f32PowInstance=null;this.f64PowInstance=null;this.i32PowInstance=null;this.i64PowInstance=null;this._reusableCallExpression=null;this.program=e;let r=e.module,n=e.options;n.memoryBase?(this.memoryOffset=i64_new(n.memoryBase),r.setLowMemoryUnused(!1)):!n.lowMemoryLimit&&n.optimizeLevelHint>=2?(this.memoryOffset=i64_new(1024),r.setLowMemoryUnused(!0)):(this.memoryOffset=i64_new(8),r.setLowMemoryUnused(!1));let s=0;n.hasFeature(1)&&(s|=32),n.hasFeature(2)&&(s|=2),n.hasFeature(4)&&(s|=4),n.hasFeature(8)&&(s|=16),n.hasFeature(16)&&(s|=8),n.hasFeature(32)&&(s|=1),n.hasFeature(64)&&(s|=64),n.hasFeature(128)&&(s|=128),n.hasFeature(256)&&(s|=256),n.hasFeature(512)&&(s|=512),n.hasFeature(1024)&&(s|=1024),n.hasFeature(2048)&&(s|=2048),n.hasFeature(4096)&&(s|=4096),n.hasFeature(8192)&&(s|=8192),n.hasFeature(16384)&&(s|=16384),r.setFeatures(s);let a=e.makeNativeFunction(h.start,De.create(e,[],u.void));a.internalName=h.start,this.currentFlow=a.flow,this.currentBody=new Array,this.shadowStack=new Nl(this)}get module(){return this.program.module}get options(){return this.program.options}get resolver(){return this.program.resolver}static compile(e){return new t(e).compile()}compile(){let e=this.options,r=this.module,n=this.program,s=this.resolver,a=e.stackSize>0;this.program.initialize();let l=this.currentFlow.targetFunction;assert(l.internalName==h.start);let o=this.currentBody;assert(o.length==0);let p=n.filesByName;for(let A=Map_values(p),S=0,I=A.length;S<I;++S){let k=unchecked(A[S]);k.source.sourceKind==1&&(this.compileFile(k),this.compileModuleExports(k))}if(this.options.exportRuntime||this.options.bindingsHint&&this.desiresExportRuntime){for(let A=0,S=Ri.length;A<S;++A){let I=Ri[A],k=n.requireFunction(I);this.compileFunction(k)&&!r.hasExport(I)&&r.addFunctionExport(k.internalName,I)}for(let A=0,S=ki.length;A<S;++A){let I=ki[A],k=n.requireGlobal(I);this.compileGlobal(k)&&!r.hasExport(I)&&r.addGlobalExport(k.internalName,I)}}let c=this.lazyFunctions;do{let A=new Array;for(let S=Set_values(c),I=0,k=S.length;I<k;++I){let F=unchecked(S[I]);A.push(F)}c.clear();for(let S=0,I=A.length;S<I;++S)this.compileFunction(unchecked(A[S]),!0)}while(c.size);let _=this.functionTable,f=this.overrideStubs;for(let A=0,S=_.length;A<S;++A){let I=_[A];I.is(268435456)?(assert(I.is(262144)),_[A]=this.ensureOverrideStub(I)):I.signature.requiredParameters<I.signature.parameterTypes.length&&(_[A]=this.ensureVarargsStub(I))}let d=new Set;do{s.discoveredOverride=!1;for(let A=Set_values(f),S=0,I=A.length;S<I;++S){let k=unchecked(A[S]),F=s.resolveOverrides(k);if(F)for(let B=0,V=F.length;B<V;++B)this.compileFunction(F[B]);d.add(k)}}while(f.size>d.size||s.discoveredOverride);d.clear();for(let A=Set_values(f),S=0,I=A.length;S<I;++S)this.finalizeOverrideStub(A[S]);for(let A=Map_keys(this.pendingInstanceOf),S=0,I=A.length;S<I;++S){let k=A[S],F=assert(this.pendingInstanceOf.get(k));switch(k.kind){case 7:case 9:{this.finalizeInstanceOf(k,F);break}case 6:case 8:{this.finalizeAnyInstanceOf(k,F);break}default:assert(!1)}}r.removeGlobal(h.rtti_base),this.runtimeFeatures&8&&pg(this),this.runtimeFeatures&16&&lg(this),this.runtimeFeatures&32&&ug(this);let g=i64_align(this.memoryOffset,e.usizeType.byteSize);r.removeGlobal(h.data_end),((this.runtimeFeatures&1)!=0||a)&&(e.isWasm64?r.addGlobal(h.data_end,L.I64,!1,r.i64(i64_low(g),i64_high(g))):r.addGlobal(h.data_end,L.I32,!1,r.i32(i64_low(g)))),r.removeGlobal(h.stack_pointer),((this.runtimeFeatures&2)!=0||a)&&(g=i64_align(i64_add(g,i64_new(e.stackSize)),e.usizeType.byteSize),e.isWasm64?r.addGlobal(h.stack_pointer,L.I64,!0,r.i64(i64_low(g),i64_high(g))):r.addGlobal(h.stack_pointer,L.I32,!0,r.i32(i64_low(g)))),r.removeGlobal(h.heap_base),((this.runtimeFeatures&4)!=0||a)&&(e.isWasm64?r.addGlobal(h.heap_base,L.I64,!1,r.i64(i64_low(g),i64_high(g))):r.addGlobal(h.heap_base,L.I32,!1,r.i32(i64_low(g)))),this.initDefaultMemory(g),this.initDefaultTable(),this.runtimeFeatures&64&&(r.addFunction(h.setArgumentsLength,L.I32,L.None,null,r.global_set(this.ensureArgumentsLength(),r.local_get(0,L.I32))),r.addFunctionExport(h.setArgumentsLength,_s.setArgumentsLength));let E=!o.length,x=e.exportStart;if(!E||x!=null){let A=l.signature;!E&&x!=null&&(r.addGlobal(h.started,L.I32,!0,r.i32(0)),o.unshift(r.global_set(h.started,r.i32(1))),o.unshift(r.if(r.global_get(h.started,L.I32),r.return())));let S=r.addFunction(l.internalName,A.paramRefs,A.resultRefs,Er(l.getNonParameterLocalTypes()),r.flatten(o));l.finalize(r,S),x==null?r.setStart(S):!Me(x)||r.hasExport(x)?this.error(110,fe.native.range,x):r.addFunctionExport(l.internalName,x)}return a&&this.shadowStack.walkModule(),n.lookup("ASC_RTRACE")!=null&&new Ll(this).walkModule(),r}initDefaultMemory(e){this.memoryOffset=e;let r=this.options,n=this.module,s=this.memorySegments,a=0,l=qt.UNLIMITED_MEMORY,o=!1;(r.memoryBase||s.length)&&(a=u32(i64_low(i64_shr_u(i64_align(e,65536),i64_new(16))))),r.initialMemory&&(r.initialMemory<a?this.error(105,null,a.toString()):a=r.initialMemory),r.maximumMemory&&(r.maximumMemory<a?this.error(106,null,a.toString()):l=r.maximumMemory),r.sharedMemory&&(o=!0,r.maximumMemory||(this.error(107,null),o=!1),r.hasFeature(32)||(this.error(108,null),o=!1));let p=r.lowMemoryLimit;if(p){let c=i64_new(p&-16);i64_gt(e,c)&&this.error(104,null,i64_to_string(e),i64_to_string(c))}n.setMemory(a,l,s,r.target,r.exportMemory?_s.Memory:null,P.DefaultMemory,o),r.importMemory&&n.addMemoryImport(P.DefaultMemory,Pi.DefaultNamespace,Pi.Memory,o)}initDefaultTable(){let e=this.options,r=this.module;e.importTable&&(r.addTableImport(P.DefaultTable,Pi.DefaultNamespace,Pi.Table),e.pedantic&&e.willOptimize&&this.pedantic(901,null)),e.exportTable&&(r.addTableExport(P.DefaultTable,_s.Table),e.pedantic&&e.willOptimize&&this.pedantic(902,null));let n=e.tableBase;n||(n=1);let s=this.functionTable,a=new Array(s.length);for(let p=0,c=s.length;p<c;++p)a[p]=s[p].internalName;let l=n+s.length,o=qt.UNLIMITED_TABLE;e.importTable||e.exportTable||(o=l,e.willOptimize&&r.setPassArgument("directize-initial-contents-immutable","true")),r.addFunctionTable(P.DefaultTable,l,o,a,r.i32(n))}compileModuleExports(e){let r=e.exports;if(r)for(let s=Map_keys(r),a=0,l=s.length;a<l;++a){let o=unchecked(s[a]),p=assert(r.get(o));this.compileModuleExport(o,p)}let n=e.exportsStar;if(n)for(let s=0,a=n.length;s<a;++s)this.compileModuleExports(n[s])}compileModuleExport(e,r,n=""){let s=this.module;switch(r.kind){case 4:{let a=r;if(!a.is(65536)){let l=this.resolver.resolveFunction(a,null);l&&this.compileModuleExport(e,l,n);return}break}case 5:{let a=r;if(!a.hasDecorator(512)){let l=a.signature;if(l.requiredParameters<l.parameterTypes.length&&(a=this.ensureVarargsStub(a),this.runtimeFeatures|=64),this.compileFunction(a),a.is(8388608)){let o=n+e;if(!s.hasExport(o)&&(s.addFunctionExport(a.internalName,o),this.hasCustomFunctionExports=!0,l.hasManagedOperands&&this.shadowStack.noteExport(o,l.getManagedOperandIndices()),!this.desiresExportRuntime)){let c=l.thisType;if(c&&Ci(c)||wi(l.returnType))this.desiresExportRuntime=!0;else{let _=l.parameterTypes;for(let f=0,d=_.length;f<d;++f)if(Ci(_[f])){this.desiresExportRuntime=!0;break}}}return}}break}case 0:{let a=r;if(!(a.is(8)||a.is(96))&&!this.options.hasFeature(2)){this.warning(103,a.identifierNode.range,"mutable-globals");return}if(this.compileGlobal(a),a.is(8388608)){let o=n+e;if(!s.hasExport(o)&&(s.addGlobalExport(r.internalName,o),!this.desiresExportRuntime)){let p=a.type;(wi(p)||!a.is(8)&&Ci(p))&&(this.desiresExportRuntime=!0)}a.type==u.v128&&this.warning(112,a.typeNode?assert(a.typeNode).range:a.identifierNode.range,"v128");return}break}case 2:{this.compileEnum(r);let a=r.members;if(a){let l=n+e+ln;for(let o=Map_keys(a),p=0,c=o.length;p<c;++p){let _=unchecked(o[p]),f=assert(a.get(_));f.is(512)||this.compileModuleExport(_,f,l)}}return}case 3:{let a=r;if(!a.isImmutable&&!this.options.hasFeature(2)){this.error(103,a.identifierNode.range,"mutable-globals");return}if(a.is(8388608)){let l=n+e;s.hasExport(l)||s.addGlobalExport(r.internalName,l);return}break}}this.warning(235,r.identifierNode.range)}compileFileByPath(e,r){let n,s=this.program.filesByName,a;if(s.has(e))n=assert(s.get(e));else if(s.has(a=e+Ne))n=assert(s.get(a));else{this.error(6054,r.range,e);return}this.compileFile(n)}compileFile(e){if(e.is(8388608))return;e.set(8388608);let r=e.startFunction,n=r.signature,s=this.currentBody,a=new Array;this.currentBody=a;let l=this.currentFlow,o=r.flow;this.currentFlow=o;for(let p=e.source.statements,c=0,_=p.length;c<_;++c)this.compileTopLevelStatement(p[c],a);if(this.currentFlow=l,this.currentBody=s,a.length){let p=this.module,c=r.localsByIndex,_=c.length,f=new Array(_);for(let g=0;g<_;++g)f[g]=c[g].type.toRef();let d=p.addFunction(r.internalName,n.paramRefs,n.resultRefs,f,p.flatten(a));r.finalize(p,d),s.push(p.call(r.internalName,null,L.None))}}compileGlobalLazy(e,r){return e.is(8388608)?!e.is(16777216):e.hasAnyDecorator(1536)||e.is(32768)?this.compileGlobal(e):(this.errorRelated(2448,r.range,e.identifierNode.range,e.internalName),!1)}compileGlobal(e){if(e.is(8388608))return!e.is(16777216);e.set(8388608);let r=this.pendingElements;r.add(e);let n=this.module,s=0,a=e.typeNode,l=e.initializerNode;if(!e.is(4194304))if(a){let g=this.resolver.resolveType(a,null,e.parent);if(!g)return e.set(16777216),r.delete(e),!1;if(g==u.void)return this.error(1110,a.range),e.set(16777216),r.delete(e),!1;e.setType(g),this.program.checkTypeSupported(g,a)}else if(l){let g=this.currentFlow;if(e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow),s=this.compileExpression(l,u.auto,20),this.currentFlow=g,this.currentType==u.void)return this.error(2322,l.range,this.currentType.toString(),"<auto>"),e.set(16777216),r.delete(e),!1;e.setType(this.currentType)}else return this.error(1110,e.identifierNode.range.atEnd),e.set(16777216),r.delete(e),!1;if(e.hasDecorator(512)){let g=e.internalName;return Rt.has(g)&&assert(Rt.get(g))(new Qn(this,e)),r.delete(e),!0}let o=e.type;!l&&!e.is(16384)&&o.isReference&&!o.isNullableReference&&this.error(238,e.identifierNode.range);let p=o.toRef(),c=e.is(8)||e.is(96),_=e.hasDecorator(64);if(e.is(32768))return c||this.options.hasFeature(2)?(dg(e,e.declaration),this.program.markModuleImport(Vr,ir,e),n.addGlobalImport(e.internalName,Vr,ir,p,!c),r.delete(e),!this.desiresExportRuntime&&Ci(o)&&(this.desiresExportRuntime=!0),!0):(this.error(103,e.declaration.range,"mutable-globals"),e.set(16777216),r.delete(e),!1);let f=!1;if(l){if(!s){let g=this.currentFlow;e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow),s=this.compileExpression(l,o,21),this.currentFlow=g}if(!n.isConstExpression(s))if(c){let g=n.runExpression(s,1);g?s=g:f=!0}else f=!0;if(f&&$(s)==10){let g=assert(In(s));if(!Pp(n.getGlobal(g))){let E=this.program.elementsByName;E.has(g)&&assert(E.get(g)).is(32768)&&(f=!1)}}if(_)if(f)this.warning(206,l.range);else{switch(assert($(s)==14),ne(s)){case L.I32:{e.constantValueKind=1,e.constantIntegerValue=i64_new(ee(s),0);break}case L.I64:{e.constantValueKind=1,e.constantIntegerValue=i64_new(Ae(s),Pe(s));break}case L.F32:{e.constantValueKind=2,e.constantFloatValue=ge(s);break}case L.F64:{e.constantValueKind=2,e.constantFloatValue=be(s);break}default:return assert(!1),e.set(16777216),r.delete(e),!1}e.set(33554432)}}else e.is(33554432)?s=this.compileInlineConstant(e,e.type,16):s=this.makeZero(o);let d=e.internalName;if(f){_&&this.error(212,At(8,e.decoratorNodes).range,"inline");let g=o;o.isExternalReference&&!o.is(512)&&(e.set(-2147483648),g=o.asNullable()),n.addGlobal(d,g.toRef(),!0,this.makeZero(g)),this.currentBody.push(n.global_set(d,s))}else _||n.addGlobal(d,p,!c,s);return r.delete(e),!0}compileEnum(e){if(e.is(8388608))return!e.is(16777216);e.set(8388608);let r=this.pendingElements;r.add(e);let n=this.module,s=this.currentParent;this.currentParent=e;let a=null,l=!1,o=e.is(8)||e.hasDecorator(64),p=e.members;if(p)for(let c=Map_values(p),_=0,f=c.length;_<f;++_){let d=unchecked(c[_]);if(d.kind!=3)continue;let g=!1,E=d,x=E.valueNode;E.set(8388608);let A=this.currentFlow;e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow);let S;if(x){if(S=this.compileExpression(x,u.i32,1),$(S)!=14){let I=n.runExpression(S,1);I?S=I:(e.is(8)&&this.error(2474,x.range),g=!0)}}else if(a==null)S=n.i32(0);else if(l&&this.error(1061,E.identifierNode.range.atEnd),o){let I=i64_add(a.constantIntegerValue,i64_new(1));assert(!i64_high(I)),S=n.i32(i64_low(I))}else{S=n.binary(0,n.global_get(a.internalName,L.I32),n.i32(1));let I=n.runExpression(S,1);I?S=I:(e.is(8)&&this.error(2474,d.declaration.range),g=!0)}this.currentFlow=A,g?(n.addGlobal(E.internalName,L.I32,!0,n.i32(0)),this.currentBody.push(this.makeGlobalAssignment(E,S,u.i32,!1)),l=!0):(o?(E.setConstantIntegerValue(i64_new(ee(S)),u.i32),E.is(1048576)&&n.addGlobal(E.internalName,L.I32,!1,S)):n.addGlobal(E.internalName,L.I32,!1,S),E.isImmutable=!0,l=!1),a=E}return this.currentParent=s,r.delete(e),!0}compileFunction(e,r=!1){if(e.is(8388608))return!e.is(16777216);if(!r){if(e.hasDecorator(512))return!0;if(e.hasDecorator(1024))return this.lazyFunctions.add(e),!0}let n=e.prototype.functionTypeNode.parameters,s=n.length;if(s>=2){let d=new Set;d.add(n[0].name.text);for(let g=1;g<s;g++){let E=n[g].name,x=E.text;d.has(x)?this.error(2300,E.range,x):d.add(x)}}e.set(8388608);let a=this.pendingElements;a.add(e);let l=this.currentType,o=this.module,p=e.signature,c=e.prototype.bodyNode,_=e.declaration;assert(_.kind==55||_.kind==58),this.checkSignatureSupported(e.signature,_.signature);let f=0;if(c){if(e.is(32768)&&this.error(1183,e.identifierNode.range),e.hasAnyDecorator(384)){let x=e.decoratorNodes,A;(A=At(9,x))&&this.error(212,A.range,"external"),(A=At(10,x))&&this.error(212,A.range,"external.js")}let d=this.currentFlow,g=e.flow;this.currentFlow=g;let E=new Array;this.compileFunctionBody(e,E)||E.push(o.unreachable()),this.currentFlow=d,f=o.addFunction(e.internalName,p.paramRefs,p.resultRefs,Er(e.getNonParameterLocalTypes()),o.flatten(E,e.signature.returnType.toRef()))}else if(e.is(32768)){if(dg(e,_),this.program.markModuleImport(Vr,ir,e),o.addFunctionImport(e.internalName,Vr,ir,p.paramRefs,p.resultRefs),f=o.getFunction(e.internalName),!this.desiresExportRuntime){let d=p.thisType;if(d&&wi(d)||Ci(p.returnType))this.desiresExportRuntime=!0;else{let g=p.parameterTypes;for(let E=0,x=g.length;E<x;++E)if(wi(g[E])){this.desiresExportRuntime=!0;break}}}}else if(e.is(128)||e.parent.kind==9)f=o.addFunction(e.internalName,p.paramRefs,p.resultRefs,null,o.unreachable());else{if(e.isAny(6144)){let d=e.declaration.name.text,g=assert(e.parent.getMember(d));assert(g.kind==10);let E=g.instance;E&&E.isField&&(f=e.is(2048)?this.makeBuiltinFieldGetter(E):this.makeBuiltinFieldSetter(E),assert(e.is(8388608)))}f||(this.error(2391,e.identifierNode.range),e.set(16777216))}if((e.is(32768)||e.is(2))&&p.hasVectorValueOperands){let g,E=e.prototype.functionTypeNode;if(p.returnType==u.v128)g=E.returnType.range;else{let x=p.getVectorValueOperandIndices()[0];g=E.parameters[x].range}this.warning(112,g,"v128")}return e.finalize(o,f),this.currentType=l,a.delete(e),!0}compileFunctionBody(e,r){let n=this.module,s=assert(e.prototype.bodyNode),a=e.signature.returnType,l=this.currentFlow,o=e.signature.thisType?assert(l.lookupLocal(P.this_)):null,p=r.length;if(s.kind==30)r=this.compileStatements(s.statements,r);else{assert(s.kind==38),assert(e.prototype.arrowKind),assert(!e.isAny(530432));let c=this.compileExpression(s.expression,a,1);l.canOverflow(c,a)||l.set(2),l.isNonnull(c,a)&&l.set(4),r?r.push(c):r=[c],l.is(256)||(l.canOverflow(c,a)||l.set(2),l.isNonnull(c,a)&&l.set(4),l.set(257))}if(e.is(524288)){assert(e.is(262144)),o=assert(o);let c=assert(e.parent);assert(c.kind==7);let _=c;if(l.isAny(8256)||!l.is(256)){let f=new Array;f.push(this.makeConditionalAllocation(_,o.index)),this.makeFieldInitializationInConstructor(_,f);for(let d=r.length-1;d>=p;--d)r[d+1]=r[d];r[p]=n.flatten(f,L.None),l.is(16384)&&this.options.pedantic&&this.pedantic(905,e.identifierNode.range)}l.is(16384)&&!_.hasDecorator(32)&&this.error(231,_.identifierNode.range),l.is(256)||(r.push(n.local_get(o.index,o.type.toRef())),l.set(261)),_.base&&!_.prototype.implicitlyExtendsObject&&!l.is(128)&&this.error(2377,e.prototype.declaration.range)}else if(a!=u.void&&!l.is(256))return this.error(2355,e.prototype.functionTypeNode.returnType.range),!1;return!0}makeBuiltinFieldGetter(e){let r=assert(e.getterInstance),n=this.module,s=e.type,a=s.toRef(),l=this.options.sizeTypeRef;r.set(8388608);let o=n.load(s.byteSize,s.isSignedIntegerValue,n.local_get(0,l),a,e.memoryOffset),p=this.currentFlow,c=r.flow;return this.currentFlow=c,e.is(16384)&&s.isReference&&!s.isNullableReference&&(o=this.makeRuntimeNonNullCheck(o,s,r.identifierNode)),this.currentFlow=p,n.addFunction(r.internalName,l,a,Er(r.getNonParameterLocalTypes()),o)}makeBuiltinFieldSetter(e){let r=assert(e.setterInstance),n=this.module,s=e.type,a=this.options.sizeTypeRef,l=s.toRef(),o=n.store(s.byteSize,n.local_get(0,a),n.local_get(1,l),l,e.memoryOffset);if(s.isManaged){let p=r.parent;if(assert(p.kind==7),p.type.isManaged){let c=this.program.linkInstance;this.compileFunction(c),o=n.block(null,[o,n.call(c.internalName,[n.local_get(0,a),n.local_get(1,l),n.i32(0)],L.None)],L.None)}}return r.set(8388608),n.addFunction(r.internalName,Ke([a,l]),L.None,null,o)}addAlignedMemorySegment(e,r=16){assert(gt(r));let n=i64_align(this.memoryOffset,r),s=new hi(e,n);return this.memorySegments.push(s),this.memoryOffset=i64_add(n,i64_new(e.length)),s}addRuntimeMemorySegment(e){let r=this.program.computeBlockStart64(this.memoryOffset),n=new hi(e,r);return this.memorySegments.push(n),this.memoryOffset=i64_add(r,i64_new(e.length)),n}ensureStaticString(e){let r=this.ensureStaticStringPtr(e);return this.currentType=this.program.stringInstance.type,this.module.usize(r)}ensureStaticStringPtr(e){let r=this.program,n=r.totalOverhead,s=assert(r.stringInstance),a,l=this.stringSegments;if(l.has(e))a=assert(l.get(e));else{let o=e.length,p=s.createBuffer(o<<1);for(let c=0;c<o;++c)Dt(e.charCodeAt(c),p,n+(c<<1));a=this.addRuntimeMemorySegment(p),l.set(e,a)}return i64_add(a.offset,i64_new(n))}writeStaticBuffer(e,r,n,s){let a=s.length,l=n.byteSize,o=n.toRef();switch(o){case L.I32:{switch(l){case 1:{for(let p=0;p<a;++p){let c=s[p];assert(ne(c)==o),assert($(c)==14),ce(ee(c),e,r),r+=1}break}case 2:{for(let p=0;p<a;++p){let c=s[p];assert(ne(c)==o),assert($(c)==14),Dt(ee(c),e,r),r+=2}break}case 4:{for(let p=0;p<a;++p){let c=s[p];assert(ne(c)==o),assert($(c)==14),he(ee(c),e,r),r+=4}break}default:assert(!1)}break}case L.I64:{for(let p=0;p<a;++p){let c=s[p];assert(ne(c)==o),assert($(c)==14),ti(i64_new(Ae(c),Pe(c)),e,r),r+=8}break}case L.F32:{for(let p=0;p<a;++p){let c=s[p];assert(ne(c)==o),assert($(c)==14),ur(ge(c),e,r),r+=4}break}case L.F64:{for(let p=0;p<a;++p){let c=s[p];assert(ne(c)==o),assert($(c)==14),pr(be(c),e,r),r+=8}break}case L.V128:{for(let p=0;p<a;++p){let c=s[p];assert(ne(c)==o),assert($(c)==14),$u(Sp(c),e,r),r+=16}break}case L.None:break;default:assert(!1)}return r}addStaticBuffer(e,r,n=this.program.arrayBufferInstance.id){let s=this.program,l=s.arrayBufferInstance.createBuffer(r.length*e.byteSize);return this.program.OBJECTInstance.writeField("rtId",n,l,0),this.writeStaticBuffer(l,s.totalOverhead,e,r),this.addRuntimeMemorySegment(l)}addStaticArrayHeader(e,r,n=null){let s=this.program;n||(n=assert(this.resolver.resolveClass(this.program.arrayPrototype,[e])));let a=ei(r.buffer,s.OBJECTInstance.offsetof("rtSize")),l=i32(a/e.byteSize),o=i64_add(r.offset,i64_new(s.totalOverhead)),p=n.createBuffer();return assert(n.writeField("buffer",o,p)),assert(n.writeField("dataStart",o,p)),assert(n.writeField("byteLength",a,p)),assert(n.writeField("length_",l,p)),this.addRuntimeMemorySegment(p)}ensureRuntimeFunction(e){assert(e.is(8388608)&&!e.is(134217728));let r=this.program,n=e.memorySegment;if(!n){let s=this.functionTable,a=this.options.tableBase;a||(a=1);let l=a+s.length;s.push(e);let o=assert(this.resolver.resolveClass(r.functionPrototype,[e.type])),p=o.createBuffer();assert(o.writeField("_index",l,p)),assert(o.writeField("_env",0,p)),e.memorySegment=n=this.addRuntimeMemorySegment(p)}return i64_add(n.offset,i64_new(r.totalOverhead))}compileTopLevelStatement(e,r){switch(e.kind){case 51:{let n=e.members;for(let s=0,a=n.length;s<a;++s)this.compileTopLevelStatement(n[s],r);break}case 52:{let n=this.program.getElementByDeclaration(e);n&&(assert(n.kind==2),n.hasDecorator(1024)||this.compileEnum(n));break}case 59:{let n=e,s=this.program.getElementByDeclaration(n);if(s){let a=this.currentParent;this.currentParent=s;let l=n.members;for(let o=0,p=l.length;o<p;++o)this.compileTopLevelStatement(l[o],r);this.currentParent=a}break}case 47:{let n=e.declarations;for(let s=0,a=n.length;s<a;++s){let l=this.program.getElementByDeclaration(n[s]);l&&(assert(l.kind==0),!l.is(32768)&&!l.hasDecorator(1024)&&this.compileGlobal(l))}break}case 54:{let n=this.program.getElementByDeclaration(e);n&&n.kind==0&&(n.hasDecorator(1024)||this.compileGlobal(n));break}case 35:{let n=e,s=n.internalPath;s!=null&&this.compileFileByPath(s,assert(n.path));break}case 36:{this.compileTopLevelStatement(e.declaration,r);break}case 42:{let n=e;this.compileFileByPath(n.internalPath,n.path);break}case 55:case 58:case 57:case 65:case 60:break;default:{let n=this.compileStatement(e);$(n)!=22&&r.push(n);break}}}compileStatement(e){let r=this.module,n;switch(e.kind){case 30:{n=this.compileBlockStatement(e);break}case 31:{n=this.compileBreakStatement(e);break}case 32:{n=this.compileContinueStatement(e);break}case 33:{n=this.compileDoStatement(e);break}case 34:{n=this.compileEmptyStatement(e);break}case 38:{n=this.compileExpressionStatement(e);break}case 39:{n=this.compileForStatement(e);break}case 40:{n=this.compileForOfStatement(e);break}case 41:{n=this.compileIfStatement(e);break}case 43:{n=this.compileReturnStatement(e);break}case 44:{n=this.compileSwitchStatement(e);break}case 45:{n=this.compileThrowStatement(e);break}case 46:{n=this.compileTryStatement(e);break}case 47:{n=this.compileVariableStatement(e),n||(n=r.nop());break}case 48:{n=this.compileVoidStatement(e);break}case 49:{n=this.compileWhileStatement(e);break}case 60:{n=this.compileTypeDeclaration(e);break}case 50:{n=r.nop();break}default:assert(!1),n=r.unreachable()}return this.options.sourceMap&&this.addDebugLocation(n,e.range),n}compileStatements(e,r=null){let n=e.length;r||(r=new Array(n),r.length=0);let s=this.currentFlow;for(let a=0;a<n;++a){let l=this.compileStatement(e[a]);switch($(l)){case 1:if(!Fn(l)){for(let o=0,p=Rn(l);o<p;++o)r.push(kn(l,o));break}default:r.push(l);case 22:}if(s.isAny(272))break}return r}compileBlockStatement(e){let r=e.statements,n=this.currentFlow,s=n.fork();this.currentFlow=s;let a=this.compileStatements(r);return n.inherit(s),this.currentFlow=n,this.module.flatten(a)}compileTypeDeclaration(e){let r=this.currentFlow,n=e.name.text,s=r.lookupScopedTypeAlias(n);if(s)return this.errorRelated(2300,e.range,s.declaration.range,n),this.module.unreachable();let a=new Xe(n,r.sourceFunction,e,0);return r.addScopedTypeAlias(n,a),this.module.nop()}compileBreakStatement(e){let r=this.module,n=e.label;if(n)return this.error(100,n.range,"Break label"),r.unreachable();let s=this.currentFlow,a=s.breakLabel;return a==null?(this.error(1105,e.range),r.unreachable()):(s.set(16),r.br(a))}compileContinueStatement(e){let r=this.module,n=e.label;if(n)return this.error(100,n.range,"Continue label"),r.unreachable();let s=this.currentFlow,a=s.continueLabel;return a==null?(this.error(1104,e.range),r.unreachable()):(s.set(288),r.br(a))}compileDoStatement(e){return this.doCompileDoStatement(e)}doCompileDoStatement(e){let r=this.module,n=this.currentFlow,s=n.targetFunction.localsByIndex.length,a=n.fork(!0),l=a.pushControlFlowLabel(),o=`do-break|${l}`;a.breakLabel=o;let p=`do-continue|${l}`;a.continueLabel=p;let c=`do-loop|${l}`;this.currentFlow=a;let _=new Array,f=e.body;f.kind==30?this.compileStatements(f.statements,_):_.push(this.compileStatement(f)),a.popControlFlowLabel(l);let d=a.isAny(4128),g=a.isAny(2064),E=!a.isAny(272);if(!E&&!d)_.push(r.unreachable()),n.inherit(a),g||n.set(256);else{let A=this.compileExpression(e.condition,u.bool),S=this.makeIsTrueish(A,this.currentType,e.condition),I=this.evaluateCondition(S);if(I!=2&&(d||E)&&n.resetIfNeedsRecompile(a.forkThen(A),s))return this.currentFlow=n,this.doCompileDoStatement(e);d&&(_[0]=r.block(p,_),_.length=1,a.unset(256)),_.push(r.br(c,S)),n.inherit(a),I==1&&!g&&n.set(256)}this.currentFlow=n;let x=r.loop(c,r.flatten(_));return g&&(x=r.block(o,[x])),n.is(256)&&(x=r.block(null,[x,r.unreachable()])),x}compileEmptyStatement(e){return this.module.nop()}compileExpressionStatement(e){return this.compileExpression(e.expression,u.void,1)}compileForStatement(e){return this.doCompileForStatement(e)}doCompileForStatement(e){let r=this.module,n=this.currentFlow,s=n.targetFunction.localsByIndex.length,a=n.fork();this.currentFlow=a;let l=new Array,o=e.initializer;o&&(assert(o.kind==38||o.kind==47),l.push(this.compileStatement(o)));let p,c,_,f=e.condition;if(f){if(p=this.compileExpression(f,u.bool),c=this.makeIsTrueish(p,this.currentType,f),_=this.evaluateCondition(c),_==2)return l.push(r.drop(c)),n.inherit(a),this.currentFlow=n,r.flatten(l)}else p=r.i32(1),c=p,_=1;let d=a.forkThen(p,!0),g=d.pushControlFlowLabel(),E=`for-break${g}`;d.breakLabel=E;let x=`for-continue|${g}`;d.continueLabel=x;let A=`for-loop|${g}`;this.currentFlow=d;let S=new Array,I=e.body;I.kind==30?this.compileStatements(I.statements,S):S.push(this.compileStatement(I)),d.popControlFlowLabel(g),d.breakLabel=null,d.continueLabel=null;let k=!d.isAny(272),F=d.isAny(4128),B=d.isAny(2064);F&&(S[0]=r.block(x,S),S.length=1),_==1?a.inherit(d):a.mergeBranch(d);let V=F||k;if(V){let D=e.incrementor;if(D&&(this.currentFlow=a,S.push(this.compileExpression(D,u.void,9))),S.push(r.br(A)),n.resetIfNeedsRecompile(d.forkThen(p),s))return this.currentFlow=n,this.doCompileForStatement(e)}n.inherit(a),this.currentFlow=n;let K=r.if(c,r.flatten(S));return V&&(K=r.loop(A,K)),B&&(K=r.block(E,[K])),l.push(K),n.is(256)&&l.push(r.unreachable()),r.flatten(l)}compileForOfStatement(e){return this.error(100,e.range,"Iterators"),this.module.unreachable()}compileIfStatement(e){let r=this.module,n=e.ifTrue,s=e.ifFalse,a=this.compileExpression(e.condition,u.bool),l=this.makeIsTrueish(a,this.currentType,e.condition);switch(this.evaluateCondition(l)){case 1:return r.block(null,[r.drop(l),this.compileStatement(n)]);case 2:return s?r.block(null,[r.drop(l),this.compileStatement(s)]):r.drop(l)}let p=this.currentFlow,c=new Array,_=p.forkThen(a);this.currentFlow=_,n.kind==30?this.compileStatements(n.statements,c):c.push(this.compileStatement(n)),this.currentFlow=p;let f=p.forkElse(a);if(s){this.currentFlow=f;let d=new Array;return s.kind==30?this.compileStatements(s.statements,d):d.push(this.compileStatement(s)),p.inheritAlternatives(_,f),this.currentFlow=p,r.if(l,r.flatten(c),r.flatten(d))}else return _.isAny(272)?(p.inherit(f),p.mergeSideEffects(_)):p.inheritAlternatives(_,f),this.currentFlow=p,r.if(l,r.flatten(c))}compileReturnStatement(e){let r=this.module,n=0,s=this.currentFlow,a=s.returnType,l=e.value;if(l){let o=1;s.sourceFunction.is(1048576)&&(o|=4),n=this.compileExpression(l,a,o),s.canOverflow(n,a)||s.set(2),s.isNonnull(n,a)&&s.set(4),s.sourceFunction.is(524288)&&l.kind!=24&&s.set(16384)}else if(a!=u.void)return this.error(2322,e.range,"void",a.toString()),this.currentType=a,r.unreachable();if(s.set(257),s.isInline){let o=assert(s.inlineReturnLabel);return n?this.currentType==u.void?r.block(null,[n,r.br(o)]):r.br(o,0,n):r.br(o)}return n?this.currentType==u.void?r.block(null,[n,r.return()]):r.return(n):r.return()}compileSwitchStatement(e){let r=this.module,n=e.cases,s=n.length,a=this.compileExpression(e.condition,u.u32,1);if(!s)return r.drop(a);let l=this.currentFlow,p=l.getTempLocal(u.u32).index,c=new Array(1+s);c[0]=r.local_set(p,a,!1);let _=1,f=-1,d=l.pushControlFlowLabel();for(let A=0;A<s;++A){let S=n[A];if(S.isDefault){f=A;continue}c[_++]=r.br(`case${A}|${d}`,r.binary(15,r.local_get(p,L.I32),this.compileExpression(assert(S.label),u.u32,1)))}c[_]=r.br(f>=0?`case${f}|${d}`:`break|${d}`);let g=r.block(`case0|${d}`,c,L.None),E=null,x=null;for(let A=0;A<s;++A){let I=n[A].statements,k=I.length,F=l.fork(!0,!1);E&&F.mergeBranch(E),this.currentFlow=F;let B=`break|${d}`;F.breakLabel=B;let V=A==s-1,K=V?B:`case${A+1}|${d}`,D=new Array(1+k);D[0]=g;let q=1,j=!0;for(let Y=0;Y<k;++Y){let re=this.compileStatement(I[Y]);if($(re)!=22&&(D[q++]=re),F.isAny(272)){j=!1;break}}D.length=q,E=j?F:null;let te=F.isAny(2064);F.unset(2064),te||V&&j?x?x.inheritAlternatives(x,F):x=F:j||l.mergeSideEffects(F),this.currentFlow=l,g=r.block(K,D,L.None)}return l.popControlFlowLabel(d),f>=0?x?l.inherit(x):l.set(256):x&&l.mergeBranch(x),this.currentFlow=l,g}compileThrowStatement(e){this.currentFlow.set(264);let n=new Array,s=e.value,a=null;if(s.kind==17){let l=s.args;l.length&&(a=l[0])}return n.push(this.makeAbort(a,e)),this.module.flatten(n)}compileTryStatement(e){return this.error(100,e.range,"Exceptions"),this.module.unreachable()}compileVariableStatement(e){let r=this.module,n=e.declarations,s=n.length,a=this.currentFlow,l=new Array,o=this.resolver;for(let p=0;p<s;++p){let c=n[p],_=c.name.text,f=null,d=0,g=null;c.is(16384)&&this.warning(239,c.name.range);let E=c.type,x=c.initializer;if(E){if(f=o.resolveType(E,a,a.sourceFunction,pe(a.contextualTypeArguments)),!f)continue;if(this.program.checkTypeSupported(f,E),x){let I=this.pendingElements,k=a.addScopedDummyLocal(_,f,e);I.add(k),d=this.compileExpression(x,f,1),g=this.currentType,I.delete(k),a.freeScopedDummyLocal(_)}}else if(x){let I=this.pendingElements,k=a.addScopedDummyLocal(_,u.auto,e);if(I.add(k),d=this.compileExpression(x,u.auto),g=this.currentType,I.delete(k),a.freeScopedDummyLocal(_),this.currentType==u.void){this.error(2322,c.range,this.currentType.toString(),"<auto>");continue}f=g}else{this.error(1110,c.name.range.atEnd);continue}let A=c.is(8),S=!1;if(A)if(d){let I=r.runExpression(d,1);if(I){d=I;let k=null;switch(ne(d)){case L.I32:{k=new Ue(_,-1,f,a.targetFunction),k.setConstantIntegerValue(i64_new(ee(d),0),f);break}case L.I64:{k=new Ue(_,-1,f,a.targetFunction),k.setConstantIntegerValue(i64_new(Ae(d),Pe(d)),f);break}case L.F32:{k=new Ue(_,-1,f,a.targetFunction),k.setConstantFloatValue(ge(d),f);break}case L.F64:{k=new Ue(_,-1,f,a.targetFunction),k.setConstantFloatValue(be(d),f);break}}if(k){let F=a.scopedLocals;if(!F)a.scopedLocals=F=new Map;else if(F.has(_)){let B=assert(F.get(_));return this.errorRelated(2300,c.name.range,B.declaration.name.range,_),this.module.unreachable()}F.set(_,k),S=!0}}}else this.error(1155,c.range);if(!S){let I;if(c.isAny(24)||a.isInline){let k=a.getScopedLocal(_);k?(k.declaration.range.source.isNative?this.error(2300,c.name.range,_):this.errorRelated(2300,c.name.range,k.declaration.name.range,_),I=k):I=a.addScopedLocal(_,f),A&&a.setLocalFlag(I.index,1)}else{let k=a.lookupLocal(_);if(k){this.errorRelated(2300,c.name.range,k.declaration.name.range,_);continue}I=a.targetFunction.addLocal(f,_,c),a.unsetLocalFlag(I.index,-1),A&&a.setLocalFlag(I.index,1)}d?l.push(this.makeLocalAssignment(I,d,g||f,!1)):I.type.isShortIntegerValue&&a.setLocalFlag(I.index,2)}}return this.currentType=u.void,l.length==0?0:r.flatten(l)}compileVoidStatement(e){return this.compileExpression(e.expression,u.void,10)}compileWhileStatement(e){return this.doCompileWhileStatement(e)}doCompileWhileStatement(e){let r=this.module,n=this.currentFlow,s=n.targetFunction.localsByIndex.length,a=this.compileExpression(e.condition,u.bool),l=this.makeIsTrueish(a,this.currentType,e.condition),o=this.evaluateCondition(l);if(o==2)return r.drop(l);let p=n.forkThen(a,!0),c=p.pushControlFlowLabel(),_=`while-break|${c}`;p.breakLabel=_;let f=`while-continue|${c}`;p.continueLabel=f,this.currentFlow=p;let d=new Array,g=e.body;g.kind==30?this.compileStatements(g.statements,d):d.push(this.compileStatement(g)),d.push(r.br(f)),p.popControlFlowLabel(c);let E=p.isAny(4128),x=p.isAny(2064),A=!p.isAny(272);if((E||A)&&n.resetIfNeedsRecompile(p,s))return this.currentFlow=n,this.doCompileWhileStatement(e);let I=!1;if(o==1)n.inherit(p),x||(I=!0,n.set(256));else{let F=n.forkElse(a);!A&&!x?(n.inherit(F),n.mergeSideEffects(p)):n.inheritAlternatives(p,F)}this.currentFlow=n;let k=[r.loop(f,r.if(l,r.flatten(d)))];return I&&k.push(r.unreachable()),r.block(_,k)}compileInlineConstant(e,r,n){assert(e.is(37748736));let s=e.type;switch(this.currentType=s,s.kind){case 0:return this.module.i32(e.constantValueKind==1?i64_ne(e.constantIntegerValue,i64_zero):0);case 1:case 2:{let a=s.computeSmallIntegerShift(u.i32);return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue)<<a>>a:0)}case 6:case 7:{let a=e.type.computeSmallIntegerMask(u.i32);return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue)&a:0)}case 3:case 8:return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue):0);case 5:case 10:if(!e.program.options.isWasm64)return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue):0);case 4:case 9:return e.constantValueKind==1?this.module.i64(i64_low(e.constantIntegerValue),i64_high(e.constantIntegerValue)):this.module.i64(0);case 12:{if(!(e.hasDecorator(512)&&r==u.f32))return this.module.f64(e.constantFloatValue);this.currentType=u.f32}case 11:return this.module.f32(e.constantFloatValue);default:return assert(!1),this.module.unreachable()}}compileExpression(e,r,n=0){for(;e.kind==20;)e=e.expression;this.currentType=r,r==u.void&&(n|=8);let s;switch(e.kind){case 7:{s=this.compileAssertionExpression(e,r,n);break}case 8:{s=this.compileBinaryExpression(e,r,n);break}case 9:{s=this.compileCallExpression(e,r,n);break}case 11:{s=this.compileCommaExpression(e,r,n);break}case 12:{s=this.compileElementAccessExpression(e,r,n);break}case 14:{s=this.compileFunctionExpression(e,r,n);break}case 6:case 13:case 18:case 24:case 23:case 25:{s=this.compileIdentifierExpression(e,r,n);break}case 15:{s=this.compileInstanceOfExpression(e,r,n);break}case 16:{s=this.compileLiteralExpression(e,r,n);break}case 17:{s=this.compileNewExpression(e,r,n);break}case 21:{s=this.compilePropertyAccessExpression(e,r,n);break}case 22:{s=this.compileTernaryExpression(e,r,n);break}case 27:{s=this.compileUnaryPostfixExpression(e,r,n);break}case 28:{s=this.compileUnaryPrefixExpression(e,r,n);break}case 29:{let o=e;s=o.expr,this.currentType=o.type;break}case 10:{this.error(100,e.range,"Block-scoped class declarations or expressions"),s=this.module.unreachable();break}default:assert(!1),s=this.module.unreachable()}let a=this.currentType,l=(n&4)!=0;return a!=r.nonNullableType&&(n&2?(s=this.convertExpression(s,a,r,!0,e),this.currentType=a=r):n&1&&(s=this.convertExpression(s,a,r,!1,e),this.currentType=a=r)),l&&(s=this.ensureSmallIntegerWrap(s,a)),this.options.sourceMap&&this.addDebugLocation(s,e.range),s}convertExpression(e,r,n,s,a){let l=this.module;if(r.kind==25)return n.kind==25?e:(this.error(2322,a.range,r.toString(),n.toString()),l.unreachable());if(n.kind==25)return l.drop(e);if(r.isReference||n.isReference)return this.currentFlow.isNonnull(e,r)?r=r.nonNullableType:s&&r.isNullableReference&&!n.isNullableReference&&(this.options.noAssert||(e=this.makeRuntimeNonNullCheck(e,r,a)),r=r.nonNullableType),r.isAssignableTo(n)?(assert(n.isExternalReference||r.kind==n.kind),this.currentType=n,e):s&&n.nonNullableType.isAssignableTo(r)?n.isExternalReference?(this.error(100,a.range,"ref.cast"),this.currentType=n,l.unreachable()):(assert(r.kind==n.kind),this.options.noAssert||(e=this.makeRuntimeDowncastCheck(e,r,n,a)),this.currentType=n,e):(this.error(2322,a.range,r.toString(),n.toString()),this.currentType=n,l.unreachable());if(assert(!r.isReference&&!n.isReference),n.kind==r.kind)return this.currentType=n,e;if(!n.isBooleanValue&&(n.isVectorValue||r.isVectorValue))return this.error(2322,a.range,r.toString(),n.toString()),l.unreachable();if(r.isAssignableTo(n)||s||this.error(200,a.range,r.toString(),n.toString()),r.isFloatValue)if(n.isFloatValue)r.kind==11?n.kind==12&&(e=l.unary(43,e)):n.kind==11&&(e=l.unary(44,e));else if(n.isIntegerValue)if(r.kind==11)if(n.isBooleanValue)e=this.makeIsTrueish(e,u.f32,a);else if(n.isSignedIntegerValue){let o=this.options.hasFeature(4);n.isLongIntegerValue?e=l.unary(o?56:26,e):e=l.unary(o?52:25,e)}else{let o=this.options.hasFeature(4);n.isLongIntegerValue?e=l.unary(o?57:28,e):e=l.unary(o?53:27,e)}else if(n.isBooleanValue)e=this.makeIsTrueish(e,u.f64,a);else if(n.isSignedIntegerValue){let o=this.options.hasFeature(4);n.isLongIntegerValue?e=l.unary(o?58:30,e):e=l.unary(o?54:29,e)}else{let o=this.options.hasFeature(4);n.isLongIntegerValue?e=l.unary(o?59:32,e):e=l.unary(o?55:31,e)}else assert(n.flags==0,"void type expected"),e=l.drop(e);else if(r.isIntegerValue&&n.isFloatValue){e=this.ensureSmallIntegerWrap(e,r);let o;n.kind==11?r.isLongIntegerValue?r.isSignedIntegerValue?o=39:o=41:r.isSignedIntegerValue?o=35:o=37:r.isLongIntegerValue?r.isSignedIntegerValue?o=40:o=42:r.isSignedIntegerValue?o=36:o=38,e=l.unary(o,e)}else r==u.v128&&n.isBooleanValue?e=this.makeIsTrueish(e,u.v128,a):r.isLongIntegerValue?n.isBooleanValue?e=l.binary(41,e,l.i64(0)):n.isLongIntegerValue||(e=l.unary(24,e)):n.isLongIntegerValue?e=l.unary(r.isSignedIntegerValue?22:23,this.ensureSmallIntegerWrap(e,r)):r.isShortIntegerValue?r.size<n.size&&(e=this.ensureSmallIntegerWrap(e,r)):!s&&!this.options.isWasm64&&r.isVaryingIntegerValue&&!n.isVaryingIntegerValue&&this.warning(201,a.range,r.toString(),n.toString());return this.currentType=n,e}compileAssertionExpression(e,r,n){let s=n&-4;switch(e.assertionKind){case 0:case 1:{let a=this.currentFlow,l=this.resolver.resolveType(assert(e.toType),a,a.sourceFunction,pe(a.contextualTypeArguments));return l?this.compileExpression(e.expression,l,s|2):this.module.unreachable()}case 2:{assert(!e.toType);let a=this.compileExpression(e.expression,r.exceptVoid,s),l=this.currentType;return this.currentFlow.isNonnull(a,l)?this.info(210,e.expression.range):this.options.noAssert||(a=this.makeRuntimeNonNullCheck(a,l,e)),this.currentType=l.nonNullableType,a}case 3:return this.error(100,e.range,"Const assertion"),this.module.unreachable();default:assert(!1)}return this.module.unreachable()}compileCommutativeCompareBinaryExpression(e,r){let n=this.module,s=e.left,a=e.right,l,o,p,c,_,f=e.operator,d=Te(f);l=this.compileExpression(s,r),o=this.currentType,p=this.compileExpression(a,o),c=this.currentType;let g=Fe.fromBinaryToken(f),E=o.lookupOverload(g,this.program),x=c.lookupOverload(g,this.program);if(E&&x&&E!=x)return this.error(240,e.range,d,E.internalName,x.internalName),this.currentType=r,n.unreachable();if(E)return this.compileCommutativeBinaryOverload(E,s,l,o,a,p,c,e);if(x)return this.compileCommutativeBinaryOverload(x,a,p,c,s,l,o,e);if(_=u.commonType(o,c,r,!1),!_)return this.error(2365,e.range,d,o.toString(),c.toString()),this.currentType=r,n.unreachable();switch(_.isFloatValue&&((hl(n,p)||hl(n,l))&&this.warning(907,e.range),(fl(p)||fl(l))&&this.warning(908,e.range)),l=this.convertExpression(l,o,_,!1,s),o=_,p=this.convertExpression(p,c,_,!1,a),c=_,this.currentType=u.bool,f){case 78:case 76:return this.makeEq(l,p,_,e);case 79:case 77:return this.makeNe(l,p,_,e);default:return assert(!1),n.unreachable()}}compileNonCommutativeCompareBinaryExpression(e,r){let n=this.module,s=e.left,a=e.right,l,o,p,c,_,f=e.operator,d=Te(f);l=this.compileExpression(s,r),o=this.currentType;let g=Fe.fromBinaryToken(f),E=o.lookupOverload(g,this.program);if(E)return this.compileBinaryOverload(E,s,l,o,a,e);if(p=this.compileExpression(a,o),c=this.currentType,_=u.commonType(o,c,r,!0),!_||!_.isNumericValue)return this.error(2365,e.range,d,o.toString(),c.toString()),this.currentType=r,n.unreachable();switch(l=this.convertExpression(l,o,_,!1,s),o=_,p=this.convertExpression(p,c,_,!1,a),c=_,this.currentType=u.bool,f){case 72:return this.makeLt(l,p,_);case 73:return this.makeGt(l,p,_);case 74:return this.makeLe(l,p,_);case 75:return this.makeGe(l,p,_);default:return assert(!1),n.unreachable()}}compileBinaryExpression(e,r,n){let s=this.module,a=e.left,l=e.right,o,p,c,_,f,d,g=!1;switch(e.operator){case 72:case 73:case 74:case 75:return this.compileNonCommutativeCompareBinaryExpression(e,r);case 78:case 76:case 79:case 77:return this.compileCommutativeCompareBinaryExpression(e,r);case 101:return this.compileAssignment(a,l,r);case 102:g=!0;case 81:{o=this.compileExpression(a,r),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(5);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isNumericValue)return this.error(2469,e.range,"+",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isNumericValue)return this.error(2365,e.range,"+",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeAdd(o,c,f);break}case 103:g=!0;case 82:{o=this.compileExpression(a,r),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(6);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isNumericValue)return this.error(2469,e.range,"-",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!p.isNumericValue)return this.error(2365,e.range,"-",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeSub(o,c,f);break}case 104:g=!0;case 84:{o=this.compileExpression(a,r),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(7);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isNumericValue)return this.error(2469,e.range,"*",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isNumericValue)return this.error(2365,e.range,"*",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeMul(o,c,f);break}case 105:g=!0;case 83:{o=this.compileExpression(a,r),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(10);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isNumericValue)return this.error(2469,e.range,"**",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isNumericValue)return this.error(2365,e.range,"**",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makePow(o,c,f,e);break}case 106:g=!0;case 85:{o=this.compileExpression(a,r),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(8);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isNumericValue)return this.error(2469,e.range,"/",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isNumericValue)return this.error(2365,e.range,"/",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeDiv(o,c,f);break}case 107:g=!0;case 86:{o=this.compileExpression(a,r),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(9);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isNumericValue)return this.error(2469,e.range,"%",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isNumericValue)return this.error(2365,e.range,"%",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeRem(o,c,f,e);break}case 108:g=!0;case 89:{o=this.compileExpression(a,r.intType),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(14);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(!p.isIntegerValue)return this.error(2469,e.range,"<<",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=this.currentType,d=this.makeShl(o,c,_);break}case 109:g=!0;case 90:{o=this.compileExpression(a,r.intType),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(15);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(!p.isIntegerValue)return this.error(2469,e.range,">>",p.toString()),this.module.unreachable();c=this.compileExpression(l,p,1),_=this.currentType,d=this.makeShr(o,c,_);break}case 110:g=!0;case 91:{o=this.compileExpression(a,r.intType),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(16);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(!p.isIntegerValue)return this.error(2469,e.range,">>>",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=this.currentType,d=this.makeShru(o,c,_);break}case 111:g=!0;case 92:{o=this.compileExpression(a,r.intType),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(11);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isIntegerValue)return this.error(2469,e.range,"&",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isIntegerValue)return this.error(2365,e.range,"&",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeAnd(o,c,f);break}case 112:g=!0;case 93:{o=this.compileExpression(a,r.intType),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(12);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isIntegerValue)return this.error(2469,e.range,"|",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isIntegerValue)return this.error(2365,e.range,"|",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeOr(o,c,f);break}case 113:g=!0;case 94:{o=this.compileExpression(a,r.intType),p=this.currentType;let I=p.getClassOrWrapper(this.program);if(I){let k=I.lookupOverload(13);if(k){d=this.compileBinaryOverload(k,a,o,p,l,e);break}}if(g){if(!p.isIntegerValue)return this.error(2469,e.range,"^",p.toString()),s.unreachable();c=this.compileExpression(l,p,1),_=f=this.currentType}else{if(c=this.compileExpression(l,p),_=this.currentType,f=u.commonType(p,_,r),!f||!f.isIntegerValue)return this.error(2365,e.range,"^",p.toString(),_.toString()),this.currentType=r,s.unreachable();o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f}d=this.makeXor(o,c,f);break}case 97:{let I=this.currentFlow,k=n&4;o=this.compileExpression(a,r.exceptVoid,k),p=this.currentType;let F=I.forkThen(o);if(this.currentFlow=F,r==u.bool||r==u.void){o=this.makeIsTrueish(o,p,a);let B=this.evaluateCondition(o);B==2?d=o:(c=this.compileExpression(l,p,k),_=this.currentType,c=this.makeIsTrueish(c,_,l),B==1?(d=c,I.inherit(F)):(d=s.if(o,c,s.i32(0)),I.mergeBranch(F),I.noteThen(d,F))),this.currentFlow=I,this.currentType=u.bool}else{if(c=this.compileExpression(l,p,k),_=this.currentType,f=u.commonType(p,_,r),!f)return this.error(2365,e.range,"&&",p.toString(),_.toString()),this.currentType=r,s.unreachable();if(o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f,d=s.tryCopyTrivialExpression(o))d=s.if(this.makeIsTrueish(o,this.currentType,a),c,d);else{let B=I.getTempLocal(p);I.canOverflow(o,p)||I.setLocalFlag(B.index,2),I.isNonnull(o,p)&&I.setLocalFlag(B.index,4),d=s.if(this.makeIsTrueish(s.local_tee(B.index,o,p.isManaged),p,a),c,s.local_get(B.index,p.toRef()))}I.mergeBranch(F),I.noteThen(d,F),this.currentFlow=I,this.currentType=f}break}case 98:{let I=this.currentFlow,k=n&4;o=this.compileExpression(a,r.exceptVoid,k),p=this.currentType;let F=I.forkElse(o);if(this.currentFlow=F,r==u.bool||r==u.void){o=this.makeIsTrueish(o,p,a);let B=this.evaluateCondition(o);B==1?d=o:(c=this.compileExpression(l,p,k),_=this.currentType,c=this.makeIsTrueish(c,_,l),B==2?(d=c,I.inherit(F)):(d=s.if(o,s.i32(1),c),I.mergeBranch(F),I.noteElse(d,F))),this.currentFlow=I,this.currentType=u.bool}else{if(c=this.compileExpression(l,p,k),_=this.currentType,f=u.commonType(p,_,r),!f)return this.error(2365,e.range,"||",p.toString(),_.toString()),this.currentType=r,s.unreachable();let B=p.is(512)&&_.is(512);if(o=this.convertExpression(o,p,f,!1,a),p=f,c=this.convertExpression(c,_,f,!1,l),_=f,d=s.tryCopyTrivialExpression(o))d=s.if(this.makeIsTrueish(o,p,a),d,c);else{let K=I.getTempLocal(p).index;I.canOverflow(o,p)||I.setLocalFlag(K,2),I.isNonnull(o,p)&&I.setLocalFlag(K,4),d=s.if(this.makeIsTrueish(s.local_tee(K,o,p.isManaged),p,a),s.local_get(K,p.toRef()),c)}I.mergeBranch(F),I.noteElse(d,F),this.currentFlow=I,this.currentType=B?f:f.nonNullableType}break}case 29:return this.error(100,e.range,"'in' operator"),this.currentType=u.bool,s.unreachable();default:{assert(!1),d=this.module.unreachable();break}}if(!g)return d;let x=this.resolver,A=x.lookupExpression(a,this.currentFlow);if(!A)return s.unreachable();let S=x.getTypeOfElement(A);return S||(S=u.void),this.currentType.isStrictlyAssignableTo(S)?this.makeAssignment(A,d,this.currentType,l,x.currentThisExpression,x.currentElementExpression,r!=u.void):(this.error(2322,e.range,this.currentType.toString(),S.toString()),s.unreachable())}makeLt(e,r,n){let s=this.module;switch(n.kind){case 1:case 2:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:return s.binary(17,e,r);case 4:return s.binary(42,e,r);case 5:return s.binary(220,e,r);case 0:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 8:return s.binary(18,e,r);case 9:return s.binary(43,e,r);case 10:return s.binary(221,e,r);case 11:return s.binary(59,e,r);case 12:return s.binary(72,e,r)}return assert(!1),s.unreachable()}makeGt(e,r,n){let s=this.module;switch(n.kind){case 1:case 2:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:return s.binary(21,e,r);case 4:return s.binary(46,e,r);case 5:return s.binary(224,e,r);case 0:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 8:return s.binary(22,e,r);case 9:return s.binary(47,e,r);case 10:return s.binary(225,e,r);case 11:return s.binary(61,e,r);case 12:return s.binary(74,e,r)}return assert(!1),s.unreachable()}makeLe(e,r,n){let s=this.module;switch(n.kind){case 1:case 2:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:return s.binary(19,e,r);case 4:return s.binary(44,e,r);case 5:return s.binary(222,e,r);case 0:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 8:return s.binary(20,e,r);case 9:return s.binary(45,e,r);case 10:return s.binary(223,e,r);case 11:return s.binary(60,e,r);case 12:return s.binary(73,e,r)}return assert(!1),s.unreachable()}makeGe(e,r,n){let s=this.module;switch(n.kind){case 1:case 2:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:return s.binary(23,e,r);case 4:return s.binary(48,e,r);case 5:return s.binary(226,e,r);case 0:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 8:return s.binary(24,e,r);case 9:return s.binary(49,e,r);case 10:return s.binary(227,e,r);case 11:return s.binary(62,e,r);case 12:return s.binary(75,e,r)}return assert(!1),s.unreachable()}makeEq(e,r,n,s){let a=this.module;switch(n.kind){case 0:case 1:case 2:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:case 8:return a.binary(15,e,r);case 4:case 9:return a.binary(40,e,r);case 5:case 10:return a.binary(218,e,r);case 11:return a.binary(57,e,r);case 12:return a.binary(70,e,r);case 13:return a.unary(70,a.binary(76,e,r));case 17:case 18:case 19:case 20:return a.ref_eq(e,r);case 21:return a.string_eq(e,r);case 22:case 23:case 24:case 15:case 14:case 16:return this.error(203,s.range,"ref.eq",n.toString()),a.unreachable()}return assert(!1),a.unreachable()}makeNe(e,r,n,s){let a=this.module;switch(n.kind){case 0:case 1:case 2:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:case 8:return a.binary(16,e,r);case 4:case 9:return a.binary(41,e,r);case 5:case 10:return a.binary(219,e,r);case 11:return a.binary(58,e,r);case 12:return a.binary(71,e,r);case 13:return a.unary(67,a.binary(77,e,r));case 17:case 18:case 19:case 20:return a.unary(20,a.ref_eq(e,r));case 21:return a.unary(20,a.string_eq(e,r));case 22:case 23:case 24:case 15:case 14:case 16:return this.error(203,s.range,"ref.eq",n.toString()),a.unreachable()}return assert(!1),a.unreachable()}makeAdd(e,r,n){let s=this.module;switch(n.kind){case 0:case 1:case 2:case 6:case 7:case 3:case 8:return s.binary(0,e,r);case 4:case 9:return s.binary(25,e,r);case 5:case 10:return s.binary(203,e,r);case 11:return s.binary(50,e,r);case 12:return s.binary(63,e,r)}return assert(!1),s.unreachable()}makeSub(e,r,n){let s=this.module;switch(n.kind){case 0:case 1:case 2:case 6:case 7:case 3:case 8:return s.binary(1,e,r);case 4:case 9:return s.binary(26,e,r);case 5:case 10:return s.binary(204,e,r);case 11:return s.binary(51,e,r);case 12:return s.binary(64,e,r)}return assert(!1),s.unreachable()}makeMul(e,r,n){let s=this.module;switch(n.kind){case 0:case 1:case 2:case 6:case 7:case 3:case 8:return s.binary(2,e,r);case 4:case 9:return s.binary(27,e,r);case 5:case 10:return s.binary(205,e,r);case 11:return s.binary(52,e,r);case 12:return s.binary(65,e,r)}return assert(!1),s.unreachable()}makePow(e,r,n,s){let a=this.module;switch(n.kind){case 0:return a.select(a.i32(1),a.binary(15,r,a.i32(0)),e,L.I32);case 1:case 6:case 2:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:case 8:{if(this.options.willOptimize&&$(e)==14&&$(r)==14){let p=ee(e),c=ee(r);return this.currentType=n,a.i32(i64_low(i64_pow(i64_new(p),i64_new(c))))}let l=this.i32PowInstance;if(!l){let p=this.program.lookup(P.ipow32);if(!p)return this.error(2304,s.range,"ipow32"),a.unreachable();assert(p.kind==4),this.i32PowInstance=l=this.resolver.resolveFunction(p,null)}if(!l||!this.compileFunction(l))return a.unreachable();let o=this.makeCallDirect(l,[e,r],s);return n.size<32&&(o=this.ensureSmallIntegerWrap(o,n)),o}case 4:case 9:{if(this.options.willOptimize&&$(e)==14&&$(r)==14){let o=i64_new(Ae(e),Pe(e)),p=i64_new(Ae(r),Pe(r)),c=i64_pow(o,p);return this.currentType=n,a.i64(i64_low(c),i64_high(c))}let l=this.i64PowInstance;if(!l){let o=this.program.lookup(P.ipow64);if(!o)return this.error(2304,s.range,"ipow64"),a.unreachable();assert(o.kind==4),this.i64PowInstance=l=this.resolver.resolveFunction(o,null)}return!l||!this.compileFunction(l)?a.unreachable():this.makeCallDirect(l,[e,r],s)}case 5:case 10:{let l=this.options.isWasm64;if(this.options.willOptimize&&$(e)==14&&$(r)==14)if(l){let p=i64_new(Ae(e),Pe(e)),c=i64_new(Ae(r),Pe(r)),_=i64_pow(p,c);return this.currentType=n,a.i64(i64_low(_),i64_high(_))}else{let p=ee(e),c=ee(r);return this.currentType=n,a.i32(i64_low(i64_pow(i64_new(p),i64_new(c))))}let o=l?this.i64PowInstance:this.i32PowInstance;if(!o){let p=this.program.lookup(l?P.ipow64:P.ipow32);if(!p)return this.error(2304,s.range,l?"ipow64":"ipow32"),a.unreachable();assert(p.kind==4),o=this.resolver.resolveFunction(p,null),l?this.i64PowInstance=o:this.i32PowInstance=o}return!o||!this.compileFunction(o)?a.unreachable():this.makeCallDirect(o,[e,r],s)}case 11:{if(this.options.willOptimize&&$(e)==14&&$(r)==14){let o=ge(e),p=ge(r);return this.currentType=n,a.f32(f32(Ks(o,p)))}let l=this.f32PowInstance;if(!l){let o=this.program.lookup(P.Mathf);if(!o)return this.error(2304,s.range,"Mathf"),a.unreachable();let p=o.getMember(P.pow);if(!p)return this.error(2304,s.range,"Mathf.pow"),a.unreachable();assert(p.kind==4),this.f32PowInstance=l=this.resolver.resolveFunction(p,null)}return!l||!this.compileFunction(l)?a.unreachable():this.makeCallDirect(l,[e,r],s)}case 12:{if(this.options.willOptimize&&$(e)==14&&$(r)==14){let o=be(e),p=be(r);return this.currentType=n,a.f64(Ks(o,p))}let l=this.f64PowInstance;if(!l){let o=this.program.lookup(P.Math);if(!o)return this.error(2304,s.range,"Math"),a.unreachable();let p=o.getMember(P.pow);if(!p)return this.error(2304,s.range,"Math.pow"),a.unreachable();assert(p.kind==4),this.f64PowInstance=l=this.resolver.resolveFunction(p,null)}return!l||!this.compileFunction(l)?a.unreachable():this.makeCallDirect(l,[e,r],s)}}return assert(!1),a.unreachable()}makeDiv(e,r,n){let s=this.module;switch(n.kind){case 1:case 2:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:return s.binary(3,e,r);case 4:return s.binary(28,e,r);case 5:return s.binary(206,e,r);case 0:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 8:return s.binary(4,e,r);case 9:return s.binary(29,e,r);case 10:return s.binary(207,e,r);case 11:return s.binary(53,e,r);case 12:return s.binary(66,e,r)}return assert(!1),s.unreachable()}makeRem(e,r,n,s){let a=this.module;switch(n.kind){case 1:case 2:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 3:return a.binary(5,e,r);case 4:return a.binary(30,e,r);case 5:return a.binary(208,e,r);case 0:case 6:case 7:e=this.ensureSmallIntegerWrap(e,n),r=this.ensureSmallIntegerWrap(r,n);case 8:return a.binary(6,e,r);case 9:return a.binary(31,e,r);case 10:return a.binary(209,e,r);case 11:{let l=this.f32ModInstance;if(!l){let o=this.program.lookup(P.Mathf);if(!o)return this.error(2304,s.range,"Mathf"),a.unreachable();let p=o.getMember(P.mod);if(!p)return this.error(2304,s.range,"Mathf.mod"),a.unreachable();assert(p.kind==4),this.f32ModInstance=l=this.resolver.resolveFunction(p,null)}return!l||!this.compileFunction(l)?a.unreachable():this.makeCallDirect(l,[e,r],s)}case 12:{let l=this.f64ModInstance;if(!l){let o=this.program.lookup(P.Math);if(!o)return this.error(2304,s.range,"Math"),a.unreachable();let p=o.getMember(P.mod);if(!p)return this.error(2304,s.range,"Math.mod"),a.unreachable();assert(p.kind==4),this.f64ModInstance=l=this.resolver.resolveFunction(p,null)}return!l||!this.compileFunction(l)?a.unreachable():this.makeCallDirect(l,[e,r],s)}}return assert(!1),a.unreachable()}makeShl(e,r,n){let s=this.module;switch(n.kind){case 0:return e;case 1:case 2:case 6:case 7:return s.binary(10,e,s.binary(7,r,s.i32(n.size-1)));case 3:case 8:return s.binary(10,e,r);case 4:case 9:return s.binary(35,e,r);case 5:case 10:return s.binary(213,e,r)}return assert(!1),s.unreachable()}makeShr(e,r,n){let s=this.module;switch(n.kind){case 0:return e;case 1:case 2:return s.binary(11,this.ensureSmallIntegerWrap(e,n),s.binary(7,r,s.i32(n.size-1)));case 6:case 7:return s.binary(12,this.ensureSmallIntegerWrap(e,n),s.binary(7,r,s.i32(n.size-1)));case 3:return s.binary(11,e,r);case 4:return s.binary(36,e,r);case 5:return s.binary(214,e,r);case 8:return s.binary(12,e,r);case 9:return s.binary(37,e,r);case 10:return s.binary(215,e,r)}return assert(!1),s.unreachable()}makeShru(e,r,n){let s=this.module;switch(n.kind){case 0:return e;case 1:case 2:case 6:case 7:return s.binary(12,this.ensureSmallIntegerWrap(e,n),s.binary(7,r,s.i32(n.size-1)));case 3:case 8:return s.binary(12,e,r);case 4:case 9:return s.binary(37,e,r);case 5:case 10:return s.binary(215,e,r)}return assert(!1),s.unreachable()}makeAnd(e,r,n){let s=this.module;switch(n.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:return s.binary(7,e,r);case 4:case 9:return s.binary(32,e,r);case 5:case 10:return s.binary(210,e,r)}return assert(!1),s.unreachable()}makeOr(e,r,n){let s=this.module;switch(n.kind){case 0:case 1:case 2:case 6:case 7:return s.binary(8,e,r);case 3:case 8:return s.binary(8,e,r);case 4:case 9:return s.binary(33,e,r);case 5:case 10:return s.binary(211,e,r)}return assert(!1),s.unreachable()}makeXor(e,r,n){let s=this.module;switch(n.kind){case 0:case 1:case 2:case 6:case 7:return s.binary(9,e,r);case 3:case 8:return s.binary(9,e,r);case 4:case 9:return s.binary(34,e,r);case 5:case 10:return s.binary(212,e,r)}return assert(!1),s.unreachable()}compileUnaryOverload(e,r,n,s){return this.makeCallDirect(e,[n],s,!1)}compileBinaryOverload(e,r,n,s,a,l){let o,p=e.signature,c=p.parameterTypes;e.is(262144)?(n=this.convertExpression(n,s,assert(p.thisType),!1,r),o=c[0]):(n=this.convertExpression(n,s,c[0],!1,r),o=c[1]);let _=this.compileExpression(a,o,1);return this.makeCallDirect(e,[n,_],l)}compileCommutativeBinaryOverload(e,r,n,s,a,l,o,p){let c=e.signature,_=c.parameterTypes;return e.is(262144)?(n=this.convertExpression(n,s,assert(c.thisType),!1,r),l=this.convertExpression(l,o,_[0],!1,a)):(n=this.convertExpression(n,s,_[0],!1,r),l=this.convertExpression(l,o,_[1],!1,a)),this.makeCallDirect(e,[n,l],p)}compileAssignment(e,r,n){let a=this.program.resolver,l=this.currentFlow,o=a.lookupExpression(e,l);if(!o)return this.module.unreachable();let p=a.currentThisExpression,c=a.currentElementExpression,_;switch(o.kind){case 0:case 1:{if(o.kind==0){if(!this.compileGlobalLazy(o,e))return this.module.unreachable()}else if(!o.declaredByFlow(l))return this.error(100,e.range,"Closures"),this.module.unreachable();if(this.pendingElements.has(o))return this.error(2448,e.range,o.internalName),this.module.unreachable();_=o.type,o.hasDecorator(2048)&&this.checkUnsafe(e);break}case 10:{let g=o,E=a.resolveProperty(g);if(!E)return this.module.unreachable();o=E}case 11:{let g=o;if(g.isField&&this.pendingElements.has(o))return this.error(2448,e.range,o.internalName),this.module.unreachable();let E=g.setterInstance;if(!E)return this.error(2540,e.range,g.internalName),this.module.unreachable();assert(E.signature.parameterTypes.length==1),_=E.signature.parameterTypes[0],E.hasDecorator(2048)&&this.checkUnsafe(e);break}case 15:{let g=o.parent;assert(g.kind==7);let E=g,x=l.is(32768),A=E.lookupOverload(2,x);if(!A)return E.lookupOverload(1,x)?this.error(2542,e.range,E.internalName):this.error(2329,e.range,E.internalName),this.module.unreachable();let S=A.signature.parameterTypes;assert(S.length==2),_=S[1],A.hasDecorator(2048)&&this.checkUnsafe(e),!x&&this.options.pedantic&&this.pedantic(904,e.range);break}default:return this.error(2540,e.range,o.internalName),this.module.unreachable()}assert(_!=u.void);let f=this.compileExpression(r,_),d=this.currentType;return _.isNullableReference&&this.currentFlow.isNonnull(f,d)&&(_=_.nonNullableType),this.makeAssignment(o,this.convertExpression(f,d,_,!1,r),_,r,p,c,n!=u.void)}makeAssignment(e,r,n,s,a,l,o){let p=this.module,c=this.currentFlow;switch(e.kind){case 1:{let _=e;return c.isLocalFlag(_.index,1,!0)?(this.error(2540,s.range,e.internalName),this.currentType=o?_.type:u.void,p.unreachable()):this.makeLocalAssignment(_,r,n,o)}case 0:{let _=e;return this.compileGlobalLazy(_,s)?e.isAny(72)?(this.error(2540,s.range,e.internalName),this.currentType=o?_.type:u.void,p.unreachable()):this.makeGlobalAssignment(_,r,n,o):p.unreachable()}case 10:{let _=this.resolver.resolveProperty(e);if(!_)return p.unreachable();e=_}case 11:{let _=e;if(_.isField){let d=c.sourceFunction.is(524288);if(_.is(64)){let g=_.initializerNode;if(!d||g)return this.error(2540,s.range,_.internalName),p.unreachable()}a=assert(a),d&&a.kind==24&&c.setThisFieldFlag(_,1)}let f=_.setterInstance;if(!f)return this.error(2540,s.range,e.internalName),p.unreachable();if(assert(f.signature.parameterTypes.length==1),assert(f.signature.returnType==u.void),_.is(262144)){let d=assert(f.signature.thisType),g=this.compileExpression(assert(a),d,33);if(!o)return this.makeCallDirect(f,[g,r],s);let E=c.getTempLocal(n),x=n.toRef(),A=p.block(null,[this.makeCallDirect(f,[g,p.local_tee(E.index,r,n.isManaged,x)],s),p.local_get(E.index,x)],x);return this.currentType=n,A}else{if(!o)return this.makeCallDirect(f,[r],s);let d=c.getTempLocal(n),g=n.toRef(),E=p.block(null,[this.makeCallDirect(f,[p.local_tee(d.index,r,n.isManaged,g)],s),p.local_get(d.index,g)],g);return this.currentType=n,E}}case 15:{let f=e.parent;assert(f.kind==7);let d=f;assert(d.kind==7);let g=c.is(32768),E=d.lookupOverload(1,g);if(!E)return this.error(2329,s.range,d.internalName),p.unreachable();let x=d.lookupOverload(2,g);if(!x)return this.error(2542,s.range,d.internalName),this.currentType=o?E.signature.returnType:u.void,p.unreachable();assert(x.signature.parameterTypes.length==2);let A=d.type,S=this.compileExpression(assert(a),A,33),I=x.signature.parameterTypes[0],k=E.signature.parameterTypes[0];if(!I.equals(k))return this.errorRelated(237,E.identifierAndSignatureRange,x.identifierAndSignatureRange,d.internalName),this.currentType=o?E.signature.returnType:u.void,p.unreachable();let F=this.compileExpression(assert(l),I,1),B=this.currentType;if(o){let V=c.getTempLocal(A),K=c.getTempLocal(B),D=E.signature.returnType;return p.block(null,[this.makeCallDirect(x,[p.local_tee(V.index,S,A.isManaged),p.local_tee(K.index,F,B.isManaged),r],s),this.makeCallDirect(E,[p.local_get(V.index,V.type.toRef()),p.local_get(K.index,K.type.toRef())],s)],D.toRef())}else return this.makeCallDirect(x,[S,F,r],s)}default:this.error(2541,s.range)}return p.unreachable()}makeLocalAssignment(e,r,n,s){let a=this.module,l=this.currentFlow,o=e.type;assert(o!=u.void);let p=e.index;return o.isNullableReference&&(!n.isNullableReference||l.isNonnull(r,o)?l.setLocalFlag(p,4):l.unsetLocalFlag(p,4)),l.setLocalFlag(p,8),o.isShortIntegerValue&&(l.canOverflow(r,o)?l.unsetLocalFlag(p,2):l.setLocalFlag(p,2)),s?(this.currentType=o,a.local_tee(p,r,o.isManaged)):(this.currentType=u.void,a.local_set(p,r,o.isManaged))}makeGlobalAssignment(e,r,n,s){let a=this.module,l=e.type;assert(l!=u.void);let o=l.toRef();return r=this.ensureSmallIntegerWrap(r,l),s?(this.currentType=l,a.block(null,[a.global_set(e.internalName,r),a.global_get(e.internalName,o)],o)):(this.currentType=u.void,a.global_set(e.internalName,r))}compileCallExpression(e,r,n){let s=this.module,a=this.currentFlow;if(e.expression.kind==23){let _=this.currentFlow,f=_.sourceFunction;if(!f.is(524288))return this.error(2337,e.range),s.unreachable();let d=assert(f.parent);assert(d.kind==7);let g=d,E=g.base;if(!E||g.prototype.implicitlyExtendsObject)return this.error(2335,e.expression.range),s.unreachable();let x=assert(_.lookupLocal(P.this_)),A=this.options.sizeTypeRef,S=this.ensureConstructor(E,e);this.checkFieldInitialization(E,e);let I=this.compileCallDirect(S,e.args,e,s.local_get(x.index,A));return _.isAny(8256)?(this.error(17009,e.range),s.unreachable()):(_.set(192),this.currentType=u.void,s.local_set(x.index,I,g.type.isManaged))}let l=this.resolver.lookupExpression(e.expression,a);if(!l)return s.unreachable();let o=this.resolver.currentThisExpression;switch(l.kind){case 4:{let _=l;if(_.hasDecorator(512))return this.compileCallExpressionBuiltin(_,e,r);let f=this.resolver.maybeInferCall(e,_,a);if(!f)return this.module.unreachable();l=f}case 5:{let _=l,f=0;return _.is(262144)&&(f=this.compileExpression(assert(o),assert(_.signature.thisType),33)),this.compileCallDirect(_,e.args,e,f,n)}}let p=this.compileExpression(e.expression,u.auto),c=this.currentType.getSignature();if(c)return this.compileCallIndirect(c,p,e.args,e,0,r==u.void);if(this.error(2349,e.range,this.currentType.toString()),l.kind==10){let _=l.getterPrototype;_&&this.infoRelated(6234,e.range,_.identifierNode.range)}return s.unreachable()}compileCallExpressionLike(e,r,n,s,a,l=0){let o=this._reusableCallExpression;return o?(o.expression=e,o.typeArguments=r,o.args=n,o.range=s):this._reusableCallExpression=o=N.createCallExpression(e,r,n,s),this.compileCallExpression(o,a,l)}compileCallExpressionBuiltin(e,r,n){e.hasDecorator(2048)&&this.checkUnsafe(r);let s=null,a=e.typeParameterNodes,l=r.typeArguments;r.typeArguments&&(e.is(65536)||this.error(2315,r.range,e.internalName),s=this.resolver.resolveTypeArguments(assert(a),l,this.currentFlow,this.currentFlow.sourceFunction.parent,pe(this.currentFlow.contextualTypeArguments),r));let o=r.expression,p=new Cl(this,e,s,r.args,o.kind==21?o.expression:null,n,r,!1),c;return e.is(262144)?c=`${assert(e.getBoundClassOrInterface()).prototype.internalName}#${e.name}`:c=e.internalName,assert(y.has(c)),assert(y.get(c))(p)}checkCallSignature(e,r,n,s){let a=e.thisType;if(n!=(a!=null))return this.error(2685,s.range),!1;let l=e.hasRest,o=e.requiredParameters,p=e.parameterTypes.length;return r<o?(this.error(o<p?2555:2554,s.range,o.toString(),r.toString()),!1):r>p&&!l?(this.error(2554,s.range,p.toString(),r.toString()),!1):!0}checkUnsafe(e,r=null){this.options.noUnsafe&&!e.range.source.isLibrary&&(r?this.errorRelated(101,e.range,r.range):this.error(101,e.range))}adjustArgumentsForRestParams(e,r,n){if(!r.hasRest)return e;let s=e.length,a=r.parameterTypes.length;if(s<a)return e;let l=e.slice(a-1),o=new ae(l[0].range.start,l[l.length-1].range.end);o.source=n.range.source;let p=new mr(l,o),c=e.slice(0,a-1);return c.push(p),c}compileCallDirect(e,r,n,s=0,a=0){let l=r.length,o=e.signature;if(!this.checkCallSignature(o,l,s!=0,n))return this.currentType=o.returnType,this.module.unreachable();e.hasDecorator(2048)&&this.checkUnsafe(n),r=this.adjustArgumentsForRestParams(r,o,n),l=r.length;let p=this.currentFlow.sourceFunction;if(p.is(524288)&&n.isAccessOnThis){let E=p.parent;assert(E.kind==7),this.checkFieldInitialization(E,n)}if((e.hasDecorator(64)||this.currentFlow.is(131072))&&(!e.is(268435456)||n.isAccessOnSuper)){assert(!e.is(134217728));let E=this.inlineStack;if(E.includes(e))this.warning(217,n.range,e.internalName);else{let x=o.parameterTypes;assert(l<=x.length);let A=new Array(l);for(let I=0;I<l;++I)A[I]=this.compileExpression(r[I],x[I],1);E.push(e);let S=this.makeCallInline(e,A,s,(a&8)!=0);return E.pop(),S}}let _=s?l+1:l,f=new Array(_),d=0;s&&(f[0]=s,d=1);let g=o.parameterTypes;for(let E=0;E<l;++E,++d){let x=g[E],A=this.compileExpression(r[E],x,1);f[d]=A}return assert(d==_),this.makeCallDirect(e,f,n,(a&8)!=0)}makeCallInline(e,r,n=0,s=!1){let a=this.module,l=r?r.length:0,p=e.signature.parameterTypes,c=p.length,_=this.currentFlow,f=vt.createInline(_.targetFunction,e),d=[];if(n){let x=assert(e.parent);assert(x.kind==7);let A=x,S=assert(e.signature.thisType),I=f.addScopedLocal(P.this_,S);d.push(a.local_set(I.index,n,S.isManaged)),f.setLocalFlag(I.index,8);let k=A.base;k&&f.addScopedAlias(P.super_,k.type,I.index)}else assert(!e.signature.thisType);for(let x=0;x<l;++x){let A=r[x],S=p[x],I=f.addScopedLocal(e.getParameterName(x),S);_.canOverflow(A,S)||f.setLocalFlag(I.index,2),f.isNonnull(A,S)&&f.setLocalFlag(I.index,4),d.push(a.local_set(I.index,A,S.isManaged)),f.setLocalFlag(I.index,8)}this.currentFlow=f;let g=e.is(524288);g&&f.set(65536);for(let x=l;x<c;++x){let A=p[x],S=this.compileExpression(assert(e.prototype.functionTypeNode.parameters[x].initializer),A,1),I=f.addScopedLocal(e.getParameterName(x),A);d.push(this.makeLocalAssignment(I,S,A,!1))}if(f.unset(65536),this.compileFunctionBody(e,d),g){let x=e.parent;assert(x.kind==7),this.checkFieldInitializationInFlow(x,f)}let E=f.returnType;return this.currentFlow=_,this.currentType=E,a.block(f.inlineReturnLabel,d,E.toRef())}ensureArgumentsLength(){let e=h.argumentsLength;if(!this.builtinArgumentsLength){let r=this.module;this.builtinArgumentsLength=r.addGlobal(e,L.I32,!0,r.i32(0))}return e}ensureVarargsStub(e){let r=e.varargsStub;if(r)return r;let n=e.signature,s=n.parameterTypes,a=e.prototype.functionTypeNode.parameters,l=n.returnType,o=e.is(262144),p=n.requiredParameters,c=p,_=s.length,f=_;o&&(++c,++f);let d=assert(f-c),g=new Array(c),E=0,x=new Array,A=this.module,S=n.thisType;S&&(g[0]=A.local_get(0,S.toRef()),E=1);for(let j=0;j<p;++j,++E){let te=s[j];g[E]=A.local_get(E,te.toRef())}assert(E==c),r=e.newStub("varargs",_),e.varargsStub=r;let I=this.currentFlow,k=r.flow;e.is(524288)&&k.set(65536),this.currentFlow=k;let F=d+1,B=new Array(F),V=`of${d}`;for(let j=0;j<F;++j)B[j]=`${j}${V}`;let K=this.ensureArgumentsLength(),D=A.block(B[0],[A.block("outOfRange",[A.switch(B,"outOfRange",p?A.binary(1,A.global_get(K,L.I32),A.i32(p)):A.global_get(K,L.I32))]),A.unreachable()]);for(let j=0;j<d;++j,++E){let te=s[p+j],Y=a[p+j],re=Y.initializer,W;if(Y.parameterKind===2){let ie=new mr([],Y.range.atEnd);W=this.compileArrayLiteral(ie,te,2),W=A.local_set(E,W,te.isManaged)}else re?(W=this.compileExpression(re,te,1),W=A.local_set(E,W,te.isManaged)):(this.error(215,Y.range),W=A.unreachable());D=A.block(B[j+1],[D,W]),g[E]=A.local_get(E,te.toRef())}assert(E==f),x.push(D),x.push(this.makeCallDirect(e,g,e.declaration.name)),this.currentFlow=I;let q=A.addFunction(r.internalName,r.signature.paramRefs,r.signature.resultRefs,Er(r.getNonParameterLocalTypes()),A.flatten(x,l.toRef()));return r.set(8388608),r.finalize(A,q),r}ensureOverrideStub(e){let r=e.overrideStub;if(r)return r;r=e.newStub("override"),e.overrideStub=r;let n=this.module;return r.ref=n.addFunction(r.internalName,r.signature.paramRefs,r.signature.resultRefs,null,n.unreachable()),this.overrideStubs.add(e),r}finalizeOverrideStub(e){let r=this.ensureOverrideStub(e);if(r.is(8388608))return;assert(e.parent.kind==7||e.parent.kind==9);let n=this.module,a=this.options.usizeType.toRef(),l=e.signature.parameterTypes,o=e.signature.returnType,p=l.length,c=1+l.length,_=new An(this.module,n.load(4,!1,n.binary(a==L.I64?26:1,n.local_get(0,a),a==L.I64?n.i64(8):n.i32(8)),L.I32)),f=this.resolver.resolveOverrides(e);if(f){let x=new Map;for(let A=0,S=f.length;A<S;++A){let I=f[A];if(!I.is(8388608))continue;let k=I.signature,F=e.signature;if(!k.isAssignableTo(F,!0)){this.error(2322,I.identifierNode.range,k.toString(),F.toString());continue}let B=k.parameterTypes,V=B.length,K=new Array(1+V);K[0]=n.local_get(0,a);for(let W=1;W<=p;++W)K[W]=n.local_get(W,l[W-1].toRef());let D=!1;for(let W=p;W<V;++W)K[1+W]=this.makeZero(B[W]),D=!0;let q=D?this.ensureVarargsStub(I).internalName:I.internalName,j=k.returnType.toRef(),te=new Array;D&&te.push(n.global_set(this.ensureArgumentsLength(),n.i32(p))),o==u.void?(te.push(n.call(q,K,j)),te.push(n.return())):te.push(n.return(n.call(q,K,j)));let Y=assert(I.getBoundClassOrInterface());_.addCase(Y.id,te);let re=Y.extenders;if(re)for(let W=Set_values(re),ie=0,Q=W.length;ie<Q;++ie){let ve=W[ie],we=ve.prototype.instanceMembers;we&&we.has(e.declaration.name.text)||(!x.has(ve)||!assert(x.get(ve)).extends(Y))&&(x.set(ve,Y),_.addOrReplaceCase(ve.id,te))}}}let d,g=e.getBoundClassOrInterface();if(!e.is(128)&&!(g&&g.kind==9)){let x=new Array(p);x[0]=n.local_get(0,a);for(let A=0,S=l.length;A<S;++A)x[1+A]=n.local_get(1+A,l[A].toRef());d=n.call(e.internalName,x,o.toRef())}else d=n.unreachable();r.ref&&n.removeFunction(r.internalName),r.ref=n.addFunction(r.internalName,r.signature.paramRefs,r.signature.resultRefs,[L.I32],n.block(null,[_.render(c),d],o.toRef())),r.set(8388608)}operandsTostack(e,r){if(!this.options.stackSize)return;let n=this.module,s=0,a=e.thisType;if(a){if(a.isManaged){let p=r[0],c=n.runExpression(p,0);Se(c)||(r[s]=n.tostack(p))}++s}let l=0,o=e.parameterTypes;for(assert(o.length>=r.length-s);s<r.length;){if(o[l].isManaged){let c=r[s],_=n.runExpression(c,0);Se(_)||(r[s]=n.tostack(c))}++s,++l}}makeCallDirect(e,r,n,s=!1){if(e.hasDecorator(64))if(e.is(268435456))this.warning(228,n.range,e.internalName);else{assert(!e.is(134217728));let x=this.inlineStack;if(x.includes(e))this.warning(217,n.range,e.internalName);else{x.push(e);let A;if(e.is(262144)){let S=assert(r);assert(S.length),A=this.makeCallInline(e,S.slice(1),S[0],s)}else A=this.makeCallInline(e,r,0,s);return x.pop(),A}}let a=this.module,l=r?r.length:0,o=l,c=e.signature.requiredParameters,_=e.signature.parameterTypes,f=_.length,d=f;if(e.is(262144)&&(++c,++d,--o),assert(l>=c),!this.compileFunction(e))return a.unreachable();let g=e.signature.returnType;if(l<d){r||(r=new Array(d),r.length=0);let x=e.prototype.functionTypeNode.parameters;assert(x.length==_.length);let A=!0;for(let S=o;S<f;++S){let I=x[S].initializer;if(I){if(I.compilesToConst){r.push(this.compileExpression(I,_[S],1));continue}let k=this.resolver.lookupExpression(I,e.flow,_[S],1);if(k&&k.kind==0){let F=k;if(this.compileGlobalLazy(F,I)&&F.is(33554432)){r.push(this.compileInlineConstant(F,_[S],1));continue}}}r.push(this.makeZero(_[S])),A=!1}if(!A&&!e.is(2097152)){let S=e;if(e=this.ensureVarargsStub(e),!this.compileFunction(e))return a.unreachable();e.flow.flags=S.flow.flags;let I=g.toRef(),k=r[d-1];assert(!(gi(k,a.ref)&32));let F=_[f-1];r[d-1]=a.block(null,[a.global_set(this.ensureArgumentsLength(),a.i32(o)),k],F.toRef()),this.operandsTostack(e.signature,r);let B=a.call(e.internalName,r,I);return g!=u.void&&s?(B=a.drop(B),this.currentType=u.void):this.currentType=g,B}}e.is(268435456)&&!n.isAccessOnSuper&&(e=this.ensureOverrideStub(e)),r&&this.operandsTostack(e.signature,r);let E=a.call(e.internalName,r,g.toRef());return this.currentType=g,E}compileCallIndirect(e,r,n,s,a=0,l=!1){let o=n.length;if(!this.checkCallSignature(e,o,a!=0,s))return this.module.unreachable();n=this.adjustArgumentsForRestParams(n,e,s),o=n.length;let p=a?o+1:o,c=new Array(p),_=0;a&&(c[0]=a,_=1);let f=e.parameterTypes;for(let d=0;d<o;++d,++_)c[_]=this.compileExpression(n[d],f[d],1);return assert(_==p),this.makeCallIndirect(e,r,s,c,l)}makeCallIndirect(e,r,n,s=null,a=!1){let l=this.module,o=s?s.length:0,p=o,_=e.requiredParameters,f=e.parameterTypes,d=e.returnType,g=f.length,E=g;if(e.thisType&&(++_,++E,--p),assert(o>=_),o<E){s||(s=new Array(E),s.length=0);let I=e.parameterTypes;for(let k=p;k<g;++k)s.push(this.makeZero(I[k]))}let x=this.ensureArgumentsLength(),A=this.options.sizeTypeRef;if(gi(r,l.ref)&32){let F=this.currentFlow.getTempLocal(this.options.usizeType).index;r=l.block(null,[l.local_set(F,r,!0),l.global_set(x,l.i32(p)),l.local_get(F,A)],A)}else r=l.block(null,[l.global_set(x,l.i32(p)),r],A);s&&this.operandsTostack(e,s);let S=l.call_indirect(null,l.load(4,!1,r,L.I32),s,e.paramRefs,e.resultRefs);return this.currentType=d,S}compileCommaExpression(e,r,n){let s=e.expressions,a=s.length,l=new Array(a--);for(let o=0;o<a;++o)l[o]=this.compileExpression(s[o],u.void,9);return l[a]=this.compileExpression(s[a],r,n),this.module.flatten(l,this.currentType.toRef())}compileElementAccessExpression(e,r,n){let s=this.module,a=e.expression,l=this.resolver.resolveExpression(a,this.currentFlow);if(l){let o=l.getClassOrWrapper(this.program);if(o){let p=this.currentFlow.is(32768),c=o.lookupOverload(1,p);if(c){let _=assert(c.signature.thisType),f=this.compileExpression(a,_,1);return!p&&this.options.pedantic&&this.pedantic(904,e.range),this.compileCallDirect(c,[e.elementExpression],e,f,n)}}this.error(2329,e.expression.range,l.toString())}return s.unreachable()}compileFunctionExpression(e,r,n){let s=e.declaration.clone();assert(!s.typeParameters);let a=this.currentFlow,l=a.sourceFunction,o=s.name.text.length>0,p=!o||r!=u.void,c=new He(p?`${o?s.name.text:"anonymous"}|${l.nextAnonymousId++}`:s.name.text,l,s,0),_,f=pe(a.contextualTypeArguments),d=this.module,g=r.signatureReference;if(g){let A=c.functionTypeNode,S=A.parameters,I=S.length,k=g.parameterTypes,F=k.length;if(I>F)return this.error(2554,e.range,F.toString(),I.toString()),d.unreachable();for(let j=0;j<I;++j){let te=S[j];if(!Ie(te.type)){let Y=this.resolver.resolveType(te.type,a,l.parent,f);if(!Y)return d.unreachable();if(!k[j].isStrictlyAssignableTo(Y))return this.error(2322,te.range,k[j].toString(),Y.toString()),d.unreachable()}}let B=g.returnType;if(!Ie(A.returnType)){let j=this.resolver.resolveType(A.returnType,a,l.parent,f);if(!j)return d.unreachable();if(B==u.void?j!=u.void:!j.isStrictlyAssignableTo(B))return this.error(2322,A.returnType.range,j.toString(),B.toString()),d.unreachable()}let V=g.thisType,K=A.explicitThisType;if(K){if(!V)return this.error(2332,K.range),d.unreachable();let j=this.resolver.resolveType(K,a,l.parent,f);if(!j)return d.unreachable();if(!V.isStrictlyAssignableTo(j))return this.error(2322,K.range,V.toString(),j.toString()),d.unreachable()}let D=De.create(this.program,k,B,V,F);_=new ct(c.name,c,null,D,f),_.flow.outer=a;let q=this.compileFunction(_);if(this.currentType=g.type,!q)return d.unreachable()}else{if(_=this.resolver.resolveFunction(c,null,f),!_)return this.module.unreachable();_.flow.outer=a;let A=this.compileFunction(_);if(this.currentType=_.signature.type,!A)return d.unreachable()}let E=this.ensureRuntimeFunction(_),x=this.options.isWasm64?d.i64(i64_low(E),i64_high(E)):d.i32(i64_low(E));if(!p){let A=_.name,S=a.getScopedLocal(A);if(S)S.declaration.range.source.isNative?this.error(2300,s.name.range,A):this.errorRelated(2300,s.name.range,S.declaration.name.range,A);else{let I=_.type,k=a.addScopedLocal(_.name,I);a.setLocalFlag(k.index,9),x=d.local_tee(k.index,x,I.isManaged)}}return x}maybeCompileEnclosingSource(e){let r=e.range.source.internalPath,n=this.program.filesByName;assert(n.has(r)),assert(n.get(r)).is(8388608)||this.compileFileByPath(r,e)}compileIdentifierExpression(e,r,n){let s=this.module,a=this.currentFlow,l=a.sourceFunction;switch(e.kind){case 18:{let c=this.options;if(r.isReference){let _=r.getClass();if(_)return this.currentType=_.type.asNullable(),c.isWasm64?s.i64(0):s.i32(0);let f=r.getSignature();return f?(this.currentType=f.type.asNullable(),c.isWasm64?s.i64(0):s.i32(0)):this.makeZero(r)}return this.currentType=c.usizeType,this.warning(226,e.range,this.currentType.toString()),c.isWasm64?s.i64(0):s.i32(0)}case 25:return this.currentType=u.bool,s.i32(1);case 13:return this.currentType=u.bool,s.i32(0);case 24:{let c=l.signature.thisType;if(!c)return this.error(2332,e.range),this.currentType=this.options.usizeType,s.unreachable();if(l.is(524288)&&(a.is(65536)&&this.error(2333,e.range),!(n&32))){let f=l.parent;assert(f.kind==7),this.checkFieldInitialization(f,e)}let _=assert(a.lookupLocal(P.this_));return a.set(64),this.currentType=c,s.local_get(_.index,c.toRef())}case 23:{if(l.is(524288)&&(a.is(65536)?this.error(2336,e.range):a.is(128)||this.error(17011,e.range)),a.isInline){let c=a.lookupLocal(P.this_);if(c){let f=assert(c.type.getClass()).base;if(f)return this.currentType=f.type,s.local_get(c.index,f.type.toRef())}}if(l.is(262144)){let c=assert(l.parent);assert(c.kind==7);let f=c.base;if(f){let d=f.type;return this.currentType=d,s.local_get(0,d.toRef())}}return this.error(2335,e.range),this.currentType=this.options.usizeType,s.unreachable()}}this.maybeCompileEnclosingSource(e);let o=this.currentParent;o||(o=l);let p=this.resolver.lookupIdentifierExpression(e,a,o);if(!p)return this.currentType==u.void&&(this.currentType=u.i32),s.unreachable();switch(p.kind){case 1:{let c=p,_=c.type;if(assert(_!=u.void),this.pendingElements.has(c))return this.error(2448,e.range,c.internalName),this.currentType=_,s.unreachable();if(c.is(33554432))return this.compileInlineConstant(c,r,n);let f=c.index;a.isLocalFlag(f,8)||this.error(2454,e.range,c.name),assert(f>=0);let d=a.isLocalFlag(f,4,!1);if(_.isNullableReference&&d&&(!_.isExternalReference||this.options.hasFeature(1024))?this.currentType=_.nonNullableType:this.currentType=_,!c.declaredByFlow(a))return this.error(100,e.range,"Closures"),s.unreachable();let g=s.local_get(f,_.toRef());return d&&_.isNullableExternalReference&&this.options.hasFeature(1024)&&(g=s.ref_as_nonnull(g)),g}case 0:{let c=p;if(!this.compileGlobalLazy(c,e))return s.unreachable();let _=c.type;if(this.pendingElements.has(c))return this.error(2448,e.range,c.internalName),this.currentType=_,s.unreachable();if(assert(_!=u.void),c.hasDecorator(512))return this.compileIdentifierExpressionBuiltin(c,e,r);if(c.is(33554432))return this.compileInlineConstant(c,r,n);let f=s.global_get(c.internalName,_.toRef());return c.is(16384)&&_.isReference&&!_.isNullableReference&&(f=this.makeRuntimeNonNullCheck(f,_,e)),this.currentType=_,f}case 3:{let c=p;return p.is(8388608)?(this.currentType=u.i32,c.is(33554432)?(assert(c.constantValueKind==1),s.i32(i64_low(c.constantIntegerValue))):s.global_get(c.internalName,L.I32)):(this.error(2651,e.range),this.currentType=u.i32,s.unreachable())}case 4:{let c=p,_=c.typeParameterNodes;if(_&&_.length!=0){this.error(1140,e.range);break}let f=this.resolver.resolveFunction(c,null,pe(a.contextualTypeArguments));if(!f||!this.compileFunction(f))return s.unreachable();if(f.hasDecorator(512))return this.error(100,e.range,"First-class built-ins"),this.currentType=f.type,s.unreachable();if(r.isExternalReference)return this.currentType=u.func,s.ref_func(f.internalName,Pn(f.type));let d=this.ensureRuntimeFunction(f);return this.currentType=f.signature.type,this.options.isWasm64?s.i64(i64_low(d),i64_high(d)):s.i32(i64_low(d))}}return this.error(234,e.range),s.unreachable()}compileIdentifierExpressionBuiltin(e,r,n){e.hasDecorator(2048)&&this.checkUnsafe(r,e.identifierNode);let s=e.internalName;return assert(tt.has(s)),assert(tt.get(s))(new Qn(this,e,n,r))}compileInstanceOfExpression(e,r,n){let s=this.currentFlow,a=e.isType;if(a.kind==1){let o=a;if(!(o.isNullable||o.hasTypeArguments)){let p=this.resolver.resolveTypeName(o.name,s,s.sourceFunction,1);if(p&&p.kind==6){let c=p;if(c.is(65536))return this.makeInstanceofClass(e,c)}}}let l=this.resolver.resolveType(e.isType,s,s.sourceFunction,pe(s.contextualTypeArguments));return l?this.makeInstanceofType(e,l):(this.currentType=u.bool,this.module.unreachable())}makeInstanceofType(e,r){let n=this.module,s=this.currentFlow,a=this.compileExpression(e.expression,r),l=this.currentType;if(this.currentType=u.bool,r.isValue)return n.maybeDropCondition(a,n.i32(l==r?1:0));if(l.isValue)return n.maybeDropCondition(a,n.i32(0));let o=l.toRef();if(l.isNullableReference&&!r.isNullableReference){if(l.nonNullableType.isAssignableTo(r))return n.binary(o==L.I64?41:16,a,this.makeZero(l));if(l.nonNullableType.hasSubtypeAssignableTo(r))if(l.isUnmanaged||r.isUnmanaged)this.error(2365,e.range,"instanceof",l.toString(),r.toString());else{this.options.pedantic&&this.pedantic(903,e.range);let c=s.getTempLocal(l).index;return n.if(n.unary(o==L.I64?21:20,n.local_tee(c,a,l.isManaged)),n.i32(0),n.call(this.prepareInstanceOf(r.classReference),[n.local_get(c,o)],L.I32))}}else{if(l.isAssignableTo(r))return n.maybeDropCondition(a,n.i32(1));if(l.hasSubtypeAssignableTo(r))if(l.isUnmanaged||r.isUnmanaged)this.error(2365,e.range,"instanceof",l.toString(),r.toString());else{let c=s.getTempLocal(l).index;return n.if(n.unary(o==L.I64?21:20,n.local_tee(c,a,l.isManaged)),n.i32(0),n.call(this.prepareInstanceOf(r.classReference),[n.local_get(c,o)],L.I32))}}return n.maybeDropCondition(a,n.i32(0))}prepareInstanceOf(e){let r=`~instanceof|${e.internalName}`,n=this.pendingInstanceOf;if(n.has(e))return assert(n.get(e));n.set(e,r);let s=this.module;return s.addFunction(r,this.options.sizeTypeRef,L.I32,null,s.unreachable()),r}finalizeInstanceOf(e,r){let n=this.program,s=this.module,a=this.options.sizeTypeRef,l=new Array;l.push(s.local_set(1,s.load(4,!1,s.binary(a==L.I64?26:1,s.local_get(0,a),s.i32(n.totalOverhead-n.OBJECTInstance.offsetof("rtId"))),L.I32),!1));let o;if(e.isInterface)o=e.implementers;else{o=new Set,o.add(e);let p=e.extenders;if(p)for(let c=Set_values(p),_=0,f=c.length;_<f;++_){let d=c[_];o.add(d)}}if(o)for(let p=Set_values(o),c=0,_=p.length;c<_;++c){let f=p[c];l.push(s.br("is_instance",s.binary(15,s.local_get(1,L.I32),s.i32(f.id))))}l.push(s.return(s.i32(0))),l[0]=s.block("is_instance",l,L.None),l.length=1,l.push(s.i32(1)),s.removeFunction(r),s.addFunction(r,a,L.I32,[L.I32],s.block(null,l,L.I32))}makeInstanceofClass(e,r){let n=this.module,s=this.compileExpression(e.expression,u.auto),a=this.currentType,l=a.toRef();this.currentType=u.bool;let o=a.getClass();if(o){if(o.extendsPrototype(r))return a.isNullableReference?n.binary(l==L.I64?41:16,s,this.makeZero(a)):n.maybeDropCondition(s,n.i32(1));if(r.extends(o.prototype)){let _=this.currentFlow.getTempLocal(a).index;return n.if(n.unary(l==L.I64?21:20,n.local_tee(_,s,a.isManaged)),n.i32(0),n.call(this.prepareAnyInstanceOf(r),[n.local_get(_,l)],L.I32))}}return n.maybeDropCondition(s,n.i32(0))}prepareAnyInstanceOf(e){let r=`~anyinstanceof|${e.internalName}`,n=this.pendingInstanceOf;if(n.has(e))return assert(n.get(e));n.set(e,r);let s=this.module;return s.addFunction(r,this.options.sizeTypeRef,L.I32,null,s.unreachable()),r}finalizeAnyInstanceOf(e,r){let n=this.module,s=this.options.sizeTypeRef,a=new Array,l=e.instances;if(l){let o=this.program;a.push(n.local_set(1,n.load(4,!1,n.binary(s==L.I64?26:1,n.local_get(0,s),n.i32(o.totalOverhead-o.OBJECTInstance.offsetof("rtId"))),L.I32),!1));let p=new Set;for(let c=Map_values(l),_=0,f=c.length;_<f;++_){let d=c[_];if(d.isInterface){let g=d.implementers;if(g)for(let E=Set_values(g),x=0,A=E.length;x<A;++x){let S=E[x];p.add(S)}}else{p.add(d);let g=d.extenders;if(g)for(let E=Set_values(g),x=0,A=E.length;x<A;++x){let S=E[x];p.add(S)}}}for(let c=Set_values(p),_=0,f=c.length;_<f;++_){let d=c[_];a.push(n.br("is_instance",n.binary(15,n.local_get(1,L.I32),n.i32(d.id))))}}a.push(n.return(n.i32(0))),a[0]=n.block("is_instance",a,L.None),a.length=1,a.push(n.i32(1)),n.removeFunction(r),n.addFunction(r,s,L.I32,[L.I32],n.block(null,a,L.I32))}compileLiteralExpression(e,r,n,s=!1){let a=this.module;switch(e.literalKind){case 5:return assert(!s),this.compileArrayLiteral(e,r,n);case 0:{let l=e.value;return s&&(l=-l),r==u.f32?a.f32(l):(this.currentType=u.f64,a.f64(l))}case 1:{let l=e,o=this.resolver.determineIntegerLiteralType(l,s,r);this.currentType=o;let p=l.value,c=1;switch(s&&(o.isFloatValue?c=-1:p=i64_neg(p)),o.kind){case 5:if(!this.options.isWasm64)return a.i32(i64_low(p));case 4:return a.i64(i64_low(p),i64_high(p));case 10:if(!this.options.isWasm64)return a.i32(i64_low(p));case 9:return a.i64(i64_low(p),i64_high(p));case 11:return a.f32(c*i64_to_f32(p));case 12:return a.f64(c*i64_to_f64(p));default:return a.i32(i64_low(p))}}case 2:return assert(!s),this.compileStringLiteral(e,n);case 3:return assert(!s),this.compileTemplateLiteral(e,n);case 6:return assert(!s),this.compileObjectLiteral(e,r);case 4:return this.error(100,e.range,"Regular expressions"),this.currentType=r,a.unreachable()}return assert(!1),a.unreachable()}compileStringLiteral(e,r){return this.ensureStaticString(e.value)}compileTemplateLiteral(e,r){let n=e.tag,s=e.parts,a=s.length,l=e.expressions,o=l.length;assert(o==a-1);let p=this.module,c=this.program.stringInstance,_=c.type;if(!n){if(a==1)return this.ensureStaticString(s[0]);if(a==2){let Y=l[0],re=s[0].length,W=s[1].length;if(!re&&!W)return this.makeToString(this.compileExpression(Y,_),this.currentType,Y);let ie=re!=0;if(ie^W!=0){let Q,ve,we=this.makeToString(this.compileExpression(Y,_),this.currentType,Y);ie?(Q=this.ensureStaticString(s[0]),ve=we):(Q=we,ve=this.ensureStaticString(s[1]));let Li=assert(c.getMethod("concat"));return this.makeCallDirect(Li,[Q,ve],Y)}}if(a==3&&!s[0].length&&!s[1].length&&!s[2].length){let Y=l[0],re=l[1],W=this.makeToString(this.compileExpression(Y,_),this.currentType,Y),ie=this.makeToString(this.compileExpression(re,_),this.currentType,re),Q=assert(c.getMethod("concat"));return this.makeCallDirect(Q,[W,ie],e)}let I=new Array(o),k=new Array;s[0].length>0&&k.push(this.ensureStaticString(s[0]));for(let Y=1;Y<a;++Y)I[Y-1]=k.length,k.push(p.usize(0)),s[Y].length>0&&k.push(this.ensureStaticString(s[Y]));let F=assert(this.resolver.resolveClass(this.program.staticArrayPrototype,[_])),B=this.addStaticBuffer(_,k,F.id);this.program.OBJECTInstance.writeField("gcInfo",3,B.buffer,0);let V=i64_add(B.offset,i64_new(this.program.totalOverhead)),K=assert(F.getMethod("join")),D=assert(F.lookupOverload(2,!0)),q=new Array(2*o+1),j=new Array(o),te=this.currentFlow;for(let Y=0;Y<o;++Y){let re=l[Y],W=te.getTempLocal(_);j[Y]=W,q[Y]=p.local_set(W.index,this.makeToString(this.compileExpression(re,_),this.currentType,re),!0)}for(let Y=0;Y<o;++Y)q[o+Y]=this.makeCallDirect(D,[p.usize(V),p.i32(I[Y]),p.local_get(j[Y].index,_.toRef())],e);return q[2*o]=this.makeCallDirect(K,[p.usize(V),this.ensureStaticString("")],e),p.flatten(q,_.toRef())}let f=this.program.templateStringsArrayInstance,d=f,g=this.resolver.lookupExpression(n,this.currentFlow,u.auto,1);if(g)switch(g.kind){case 4:{let I=this.resolver.resolveFunction(g,null,new Map,1);if(!I)break;g=I}case 5:{let k=g.signature.parameterTypes;if(k.length){let F=k[0].getClass();F&&!F.extendsPrototype(f.prototype)&&(d=assert(this.resolver.resolveClass(this.program.arrayPrototype,[_])))}break}}let E=e.rawParts;assert(E.length==a);let x=new Array(a);for(let I=0;I<a;++I)x[I]=this.ensureStaticString(s[I]);let A;if(d==f){let I=new Array(a);for(let F=0;F<a;++F)I[F]=this.ensureStaticString(E[F]);A=this.addStaticArrayHeader(_,this.addStaticBuffer(this.options.usizeType,x),d);let k=this.addStaticArrayHeader(_,this.addStaticBuffer(this.options.usizeType,I));d.writeField("raw",i64_add(k.offset,i64_new(this.program.totalOverhead)),A.buffer)}else A=this.addStaticArrayHeader(_,this.addStaticBuffer(this.options.usizeType,x),d);let S=l.slice();return S.unshift(N.createCompiledExpression(p.usize(i64_add(A.offset,i64_new(this.program.totalOverhead))),d.type,fe.native.range)),this.error(100,e.range,"Tagged template literals"),this.compileCallExpressionLike(n,null,S,e.range,_)}compileArrayLiteral(e,r,n){let s=this.module,a=this.currentFlow,l=this.program,o=r.getClass();if(o&&o.extendsPrototype(l.staticArrayPrototype))return this.compileStaticArrayLiteral(e,r,n);let p=this.resolver.lookupExpression(e,a,this.currentType);if(!p)return s.unreachable();assert(p.kind==7);let c=p,_=c.type,f=c.getTypeArgumentsTo(l.arrayPrototype)[0],d=assert(l.arrayBufferInstance),g=a.getTempLocal(this.options.usizeType),E=a.getTempLocal(d.type),x=e.elementExpressions,A=x.length,S=new Array(A),I=!f.isExternalReference;for(let D=0;D<A;++D){let q=x[D];if(q.kind!=19){let j=this.compileExpression(q,f,1);if(ne(j)!=f.toRef())I=!1;else{let te=s.runExpression(j,1);te?j=te:I=!1}S[D]=j}else S[D]=this.makeZero(f)}if(I){let D=l.totalOverhead,q=this.addStaticBuffer(f,S),j=i64_add(q.offset,i64_new(D));if(n&16){let te=this.addStaticArrayHeader(f,q),Y=i64_add(te.offset,i64_new(D));return this.currentType=_,l.options.isWasm64?this.module.i64(i64_low(Y),i64_high(Y)):this.module.i32(i64_low(Y))}else return this.makeNewArray(c,A,j,e)}let k=c.lookupOverload(2,!0);if(!k)return this.error(2542,e.range,c.internalName),this.currentType=_,s.unreachable();let F=_.toRef(),B=new Array;B.push(s.local_set(g.index,this.makeNewArray(c,A,i64_new(0),e),_.isManaged));let V=assert(c.getMember("dataStart"));assert(V.kind==10);let K=V.instance;if(!K)return s.unreachable();assert(K.isField&&K.memoryOffset>=0),B.push(s.local_set(E.index,s.load(_.byteSize,!1,s.local_get(g.index,F),F,K.memoryOffset),!0));for(let D=0;D<A;++D)B.push(s.call(k.internalName,[s.local_get(g.index,F),s.i32(D),S[D]],L.None));return B.push(s.local_get(g.index,F)),A&&this.compileFunction(k),this.currentType=_,s.flatten(B,F)}makeNewArray(e,r,n,s){let a=this.program,l=this.module;assert(!e.extendsPrototype(a.staticArrayPrototype));let o=e.getArrayValueType(),p=this.makeCallDirect(a.newArrayInstance,[l.i32(r),a.options.isWasm64?l.i64(o.alignLog2):l.i32(o.alignLog2),l.i32(e.id),a.options.isWasm64?l.i64(i64_low(n),i64_high(n)):l.i32(i64_low(n))],s);return this.currentType=e.type,p}compileStaticArrayLiteral(e,r,n){let s=this.module,a=this.currentFlow,l=this.program,o=assert(r.getClass()),p=o.type,_=assert(o.getTypeArgumentsTo(l.staticArrayPrototype))[0],f=a.getTempLocal(this.options.usizeType),d=e.elementExpressions,g=d.length,E=new Array(g),x=!_.isExternalReference;for(let B=0;B<g;++B){let V=d[B];if(V.kind!=19){let K=this.compileExpression(V,_,1),D=s.runExpression(K,1);D?K=D:x=!1,E[B]=K}else E[B]=this.makeZero(_)}let A=this.options.isWasm64,S=E.length<<_.alignLog2;if(x){let B=this.addStaticBuffer(_,E,o.id),V=i64_add(B.offset,i64_new(l.totalOverhead));if(n&16){let K=this.options.isWasm64?s.i64(i64_low(V),i64_high(V)):s.i32(i64_low(V));return this.currentType=p,K}else{let K=this.makeCallDirect(l.newBufferInstance,[A?s.i64(S):s.i32(S),s.i32(o.id),A?s.i64(i64_low(V),i64_high(V)):s.i32(i64_low(V))],e);return this.currentType=p,K}}let I=o.lookupOverload(2,!0);if(!I)return this.error(2542,e.range,o.internalName),this.currentType=p,s.unreachable();let k=p.toRef(),F=new Array;F.push(s.local_set(f.index,this.makeCallDirect(l.newBufferInstance,[A?s.i64(S):s.i32(S),s.i32(o.id)],e),p.isManaged));for(let B=0;B<g;++B)F.push(s.call(I.internalName,[s.local_get(f.index,k),s.i32(B),E[B]],L.None));return F.push(s.local_get(f.index,k)),g&&this.compileFunction(I),this.currentType=p,s.flatten(F,k)}compileObjectLiteral(e,r){let n=this.module,s=r.getClass();if(!s)return this.error(2322,e.range,"<object>",r.toString()),n.unreachable();let a=s.type;if(this.currentType=a.nonNullableType,s.kind==9)return this.error(100,e.range,"Interface hidden classes"),n.unreachable();if(s.is(128))return this.error(2511,e.range),n.unreachable();let l=s.prototype.constructorPrototype;if(l)return this.errorRelated(216,e.range,l.identifierNode.range,a.toString()),n.unreachable();a.isManaged||this.checkUnsafe(e,At(6,s.decoratorNodes));let p=e.names,c=p.length,_=e.values,f=s.members,d=!1,g=new Array,x=this.currentFlow.getTempLocal(a),A=a.toRef();assert(c==_.length);let S=new Set;if(f)for(let F=Map_keys(f),B=0,V=F.length;B<V;++B){let K=F[B],D=assert(f.get(K));if(D&&D.kind==10){let q=D.instance;q&&q.isField&&S.add(q)}}let I=new Array;for(let F=0;F<c;++F){let B=p[F].text,V=s.getMember(B);if(!V||V.kind!=10){this.error(2339,p[F].range,B,a.toString()),d=!0;continue}if(V.is(512)){this.error(2341,p[F].range,B,a.toString()),d=!0;continue}if(V.is(1024)){this.error(2445,p[F].range,B,a.toString()),d=!0;continue}let K=this.resolver.resolveProperty(V);if(!K)continue;let D=K.setterInstance;if(!D){this.error(2540,p[F].range,B,a.toString()),d=!0;continue}if(S.delete(K),!K.isField){I.push(K);continue}let q=K.type,j=this.makeCallDirect(D,[n.local_get(x.index,A),this.compileExpression(_[F],q,1)],D.identifierNode,!0);this.currentType!=u.void&&(j=n.drop(j)),g.push(j)}for(let F=0,B=I.length;F<B;++F){let V=I[F],K=assert(V.setterInstance);g.push(this.makeCallDirect(K,[n.local_get(x.index,A),this.compileExpression(_[F],V.type,1)],K.identifierNode))}if(this.currentType=a.nonNullableType,d)return n.unreachable();for(let F=Set_values(S),B=0,V=F.length;B<V;++B){let K=F[B];assert(K.isField);let D=K.type;if(!K.initializerNode){if(D.isReference&&!D.isNullableReference){this.error(2741,e.range,K.name,"<object>",a.toString()),d=!0;continue}switch(D.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:{g.push(n.store(D.byteSize,n.local_get(x.index,A),this.makeZero(D),D.toRef(),K.memoryOffset));continue}}this.error(2741,e.range,K.name,"<object>",a.toString()),d=!0}}if(d)return n.unreachable();let k=this.ensureConstructor(s,e);return g.unshift(n.local_set(x.index,this.compileInstantiate(k,[],0,e),a.isManaged)),g.push(n.local_get(x.index,A)),this.currentType=a.nonNullableType,n.flatten(g,A)}compileNewExpression(e,r,n){let s=this.module,a=this.currentFlow,l=this.resolver.resolveTypeName(e.typeName,a,a.sourceFunction);if(!l)return s.unreachable();if(l.kind!=6)return this.error(2351,e.typeName.range),this.module.unreachable();if(l.is(128))return this.error(2511,e.typeName.range),this.module.unreachable();let o=l,p=null,c=e.typeArguments,_;if(!c&&(_=r.classReference)&&_.prototype==o&&_.is(65536)?p=this.resolver.resolveClass(o,_.typeArguments,pe(a.contextualTypeArguments)):p=this.resolver.resolveClassInclTypeArguments(o,c,a,a.sourceFunction.parent,pe(a.contextualTypeArguments),e),!p)return s.unreachable();r==u.void&&(n|=8);let f=this.ensureConstructor(p,e);return f.hasDecorator(64)||this.checkFieldInitialization(p,e),this.compileInstantiate(f,e.args,n,e)}ensureConstructor(e,r){let n=e.constructorInstance;if(n){if(n.is(8388608))return n;n.hasDecorator(64)||this.compileFunction(n)}else{let s=e.base,a=pe(e.contextualTypeArguments);if(s){let I=this.ensureConstructor(s,r);this.checkFieldInitialization(s,r),n=new ct(P.constructor,new He(P.constructor,e,I.declaration.clone()),null,De.create(this.program,I.signature.parameterTypes,e.type,e.type,I.signature.requiredParameters,I.signature.hasRest),a)}else n=new ct(P.constructor,new He(P.constructor,e,this.program.makeNativeFunctionDeclaration(P.constructor,786432)),null,De.create(this.program,[],e.type,e.type),a);n.set(8388608),n.prototype.setResolvedInstance("",n),e.is(1048576)&&n.set(1048576),e.constructorInstance=n;let l=e.members;l||(e.members=l=new Map),l.set("constructor",n.prototype);let o=this.currentFlow,p=n.flow;this.currentFlow=p;let c=n.signature,_=this.module,f=this.options.sizeTypeRef,d=new Array;if(d.push(this.makeConditionalAllocation(e,0)),s){let I=c.parameterTypes,k=I.length,F=new Array(1+k);F[0]=_.local_get(0,f);for(let B=1;B<=k;++B)F[B]=_.local_get(B,I[B-1].toRef());d.push(_.local_set(0,this.makeCallDirect(assert(s.constructorInstance),F,r,!1),s.type.isManaged))}this.makeFieldInitializationInConstructor(e,d),d.push(_.local_get(0,f)),this.currentFlow=o;let g=n.localsByIndex,E=new Array,x=1+c.parameterTypes.length,A=g.length;if(A>x)for(let I=x;I<A;++I)E.push(g[I].type.toRef());let S=_.addFunction(n.internalName,c.paramRefs,c.resultRefs,E,_.flatten(d,f));n.finalize(_,S)}return n}checkFieldInitialization(e,r=null){if(e.didCheckFieldInitialization)return;e.didCheckFieldInitialization=!0;let n=assert(e.constructorInstance);this.checkFieldInitializationInFlow(e,n.flow,r)}checkFieldInitializationInFlow(e,r,n=null){let s=e.members;if(s)for(let a=Map_values(s),l=0,o=a.length;l<o;++l){let p=a[l];if(p.kind!=10||p.parent!=e)continue;let c=p.instance;!c||!c.isField||(!c.initializerNode&&!r.isThisFieldFlag(c,1)?c.is(16384)||(n?this.errorRelated(2564,c.declaration.name.range,n.range,c.internalName):this.error(2564,c.declaration.name.range,c.internalName)):c.is(16384)&&(c.type.isReference?this.warning(233,c.identifierNode.range,c.internalName):this.pedantic(906,c.identifierNode.range)))}}compileInstantiate(e,r,n,s){assert(e.is(524288));let a=e.parent;assert(a.kind==7);let l=a;(l.type.isUnmanaged||e.hasDecorator(2048))&&this.checkUnsafe(s);let o=this.compileCallDirect(e,r,s,this.makeZero(this.options.usizeType),n);return ne(o)!=L.None&&(this.currentType=l.type),o}compilePropertyAccessExpression(e,r,n){let s=this.module,a=this.currentFlow;this.maybeCompileEnclosingSource(e);let l=this.resolver,o=l.lookupExpression(e,a,r);if(!o)return s.unreachable();let p=l.currentThisExpression;switch(o.hasDecorator(2048)&&this.checkUnsafe(e),o.kind){case 0:{let c=o;if(!this.compileGlobalLazy(c,e))return s.unreachable();let _=c.type;if(assert(_!=u.void),this.pendingElements.has(c))return this.error(2448,e.range,c.internalName),this.currentType=_,s.unreachable();if(c.is(33554432))return this.compileInlineConstant(c,r,n);let f=s.global_get(c.internalName,_.toRef());return c.is(16384)&&_.isReference&&!_.isNullableReference&&(f=this.makeRuntimeNonNullCheck(f,_,e)),this.currentType=_,f}case 3:{let c=o,_=assert(c.parent);assert(_.kind==2);let f=_;return this.compileEnum(f)?(this.currentType=u.i32,c.is(33554432)?(assert(c.constantValueKind==1),this.compileInlineConstant(c,r,n)):(assert(c.type==u.i32),s.global_get(c.internalName,L.I32))):(this.currentType=u.i32,this.module.unreachable())}case 10:{let c=o,_=this.resolver.resolveProperty(c);if(!_)return s.unreachable();o=_}case 11:{let c=o;c.isField&&a.sourceFunction.is(524288)&&assert(p).kind==24&&!a.isThisFieldFlag(c,1)&&!c.is(16384)&&this.errorRelated(2565,e.range,c.identifierNode.range,c.internalName);let _=c.getterInstance;if(!_)return s.unreachable();let f=0;return _.is(262144)&&(f=this.compileExpression(assert(p),assert(_.signature.thisType),33)),this.compileCallDirect(_,[],e,f)}case 4:{let c=o,_=c.typeParameterNodes;if(_&&_.length!=0){this.error(1140,e.range);break}let f=this.resolver.resolveFunction(c,null);if(!f||!this.compileFunction(f))return s.unreachable();if(this.currentType=f.type,f.hasDecorator(512))return this.error(100,e.range,"First-class built-ins"),s.unreachable();let d=this.ensureRuntimeFunction(f);return this.options.isWasm64?s.i64(i64_low(d),i64_high(d)):s.i32(i64_low(d))}}return this.error(234,e.range),this.module.unreachable()}compileTernaryExpression(e,r,n){let s=this.module,a=e.ifThen,l=e.ifElse,o=this.compileExpression(e.condition,u.bool),p=this.makeIsTrueish(o,this.currentType,e.condition),c=this.evaluateCondition(p);if(c==1)return s.maybeDropCondition(p,this.compileExpression(a,r));if(c==2)return s.maybeDropCondition(p,this.compileExpression(l,r));let _=this.currentFlow,f=_.forkThen(o);this.currentFlow=f;let d=this.compileExpression(a,r),g=this.currentType,E=_.forkElse(o);this.currentFlow=E;let x=this.compileExpression(l,r==u.auto?g:r),A=this.currentType;if(r==u.void)g!=u.void&&(d=s.drop(d),g=u.void),A!=u.void&&(x=s.drop(x),A=u.void),this.currentType=u.void;else{let S=u.commonType(g,A,r);if(!S)return this.error(2322,l.range,A.toString(),g.toString()),this.currentType=r,s.unreachable();d=this.convertExpression(d,g,S,!1,a),g=S,x=this.convertExpression(x,A,S,!1,l),A=S,this.currentType=S}return _.inheritAlternatives(f,E),this.currentFlow=_,s.if(p,d,x)}compileUnaryPostfixExpression(e,r,n){let s=this.module,a=this.currentFlow,l=this.compileExpression(e.operand,r.exceptVoid,0),o=null;r!=u.void&&(o=a.getTempLocal(this.currentType),l=s.local_tee(o.index,l,this.currentType.isManaged));let p;switch(e.operator){case 87:{let g=this.currentType.getClassOrWrapper(this.program);if(g){let E=g.lookupOverload(29);if(E){let x=E.is(262144);if(o&&!x&&(l=xr(l),o=null),p=this.compileUnaryOverload(E,e.operand,l,e),x)break;return p}}if(!this.currentType.isValue)return this.error(2469,e.range,"++",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:{p=s.binary(0,l,s.i32(1));break}case 4:case 9:{p=s.binary(25,l,s.i64(1));break}case 5:case 10:{p=s.binary(203,l,this.makeOne(this.currentType));break}case 11:{p=s.binary(50,l,s.f32(1));break}case 12:{p=s.binary(63,l,s.f64(1));break}default:return this.error(2469,e.range,"++",this.currentType.toString()),s.unreachable()}break}case 88:{let g=this.currentType.getClassOrWrapper(this.program);if(g){let E=g.lookupOverload(30);if(E){let x=E.is(262144);if(o&&!x&&(l=xr(l),o=null),p=this.compileUnaryOverload(E,e.operand,l,e),E.is(262144))break;return p}}if(!this.currentType.isValue)return this.error(2469,e.range,"--",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:{p=s.binary(1,l,s.i32(1));break}case 4:case 9:{p=s.binary(26,l,s.i64(1));break}case 5:case 10:{p=s.binary(204,l,this.makeOne(this.currentType));break}case 11:{p=s.binary(51,l,s.f32(1));break}case 12:{p=s.binary(64,l,s.f64(1));break}default:return this.error(2469,e.range,"--",this.currentType.toString()),s.unreachable()}break}default:return assert(!1),s.unreachable()}let c=this.resolver,_=c.lookupExpression(e.operand,a);if(!_)return s.unreachable();if(!o)return this.makeAssignment(_,p,this.currentType,e.operand,c.currentThisExpression,c.currentElementExpression,!1);let f=this.makeAssignment(_,p,this.currentType,e.operand,c.currentThisExpression,c.currentElementExpression,!1);this.currentType=o.type;let d=o.type.toRef();return s.block(null,[f,s.local_get(o.index,d)],d)}compileUnaryPrefixExpression(e,r,n){let s=this.module,a=!1,l;switch(e.operator){case 81:{l=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(23);if(_)return this.compileUnaryOverload(_,e.operand,l,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"+",this.currentType.toString()),s.unreachable();break}case 82:{let c=e.operand;if(c.isNumericLiteral){l=this.compileLiteralExpression(c,r,0,!0),this.options.sourceMap&&this.addDebugLocation(l,e.range);break}l=this.compileExpression(e.operand,r.exceptVoid,0);let _=this.currentType.getClassOrWrapper(this.program);if(_){let f=_.lookupOverload(24);if(f)return this.compileUnaryOverload(f,e.operand,l,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"-",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:{l=s.binary(1,s.i32(0),l);break}case 4:case 9:{l=s.binary(26,s.i64(0),l);break}case 5:case 10:{l=s.binary(204,this.makeZero(this.currentType),l);break}case 11:{l=s.unary(6,l);break}case 12:{l=s.unary(7,l);break}default:this.error(2469,e.range,"-",this.currentType.toString()),l=s.unreachable()}break}case 87:{a=!0,l=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(27);if(_){if(l=this.compileUnaryOverload(_,e.operand,l,e),_.is(262144))break;return l}}if(!this.currentType.isValue)return this.error(2469,e.range,"++",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:{l=s.binary(0,l,this.module.i32(1));break}case 4:case 9:{l=s.binary(25,l,s.i64(1));break}case 5:case 10:{l=s.binary(203,l,this.makeOne(this.currentType));break}case 11:{l=s.binary(50,l,s.f32(1));break}case 12:{l=s.binary(63,l,s.f64(1));break}default:this.error(2469,e.range,"++",this.currentType.toString()),l=s.unreachable()}break}case 88:{a=!0,l=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(28);if(_){if(l=this.compileUnaryOverload(_,e.operand,l,e),_.is(262144))break;return l}}if(!this.currentType.isValue)return this.error(2469,e.range,"--",this.currentType.toString()),s.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:{l=s.binary(1,l,s.i32(1));break}case 4:case 9:{l=s.binary(26,l,s.i64(1));break}case 5:case 10:{l=s.binary(204,l,this.makeOne(this.currentType));break}case 11:{l=s.binary(51,l,s.f32(1));break}case 12:{l=s.binary(64,l,s.f64(1));break}default:this.error(2469,e.range,"--",this.currentType.toString()),l=s.unreachable()}break}case 95:{l=this.compileExpression(e.operand,r.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(25);if(_)return this.compileUnaryOverload(_,e.operand,l,e)}l=s.unary(20,this.makeIsTrueish(l,this.currentType,e.operand)),this.currentType=u.bool;break}case 96:{l=this.compileExpression(e.operand,r==u.void?u.i32:r.isFloatValue?u.i64:r,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(26);if(_)return this.compileUnaryOverload(_,e.operand,l,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"~",this.currentType.toString()),s.unreachable();switch(l=this.convertExpression(l,this.currentType,this.currentType.intType,!1,e.operand),this.currentType.kind){case 0:case 1:case 2:case 3:case 6:case 7:case 8:{l=s.binary(9,l,s.i32(-1));break}case 4:case 9:{l=s.binary(34,l,s.i64(-1,-1));break}case 5:case 10:{l=s.binary(212,l,this.makeNegOne(this.currentType));break}default:this.error(2469,e.range,"~",this.currentType.toString()),l=s.unreachable()}break}case 56:return this.compileTypeof(e,r,n);case 69:return this.error(100,e.range,"Spread operator"),s.unreachable();default:return assert(!1),s.unreachable()}if(!a)return l;let o=this.resolver,p=o.lookupExpression(e.operand,this.currentFlow);return p?this.makeAssignment(p,l,this.currentType,e.operand,o.currentThisExpression,o.currentElementExpression,r!=u.void):s.unreachable()}compileTypeof(e,r,n){let s=e.operand,a=0,l=this.program.stringInstance,o;if(s.kind==18)o="object";else{let p=this.resolver.lookupExpression(s,this.currentFlow,u.auto,1);if(p)switch(p.kind){case 6:case 12:case 2:{o="object";break}case 4:{o="function";break}default:{a=this.compileExpression(s,u.auto);let c=this.currentType;if(a=this.convertExpression(a,c,u.void,!0,s),c.isReference)if(c.getSignature())o="function";else{let f=c.getClass();f?f.prototype==l.prototype?o="string":o="object":o="externref"}else c==u.bool?o="boolean":c.isNumericValue?o="number":o="undefined";break}}else{switch(s.kind){case 6:break;case 21:case 12:if(s=(s.kind==21,s.expression),!this.resolver.resolveExpression(s,this.currentFlow,u.auto,0))return this.currentType=l.type,this.module.unreachable();default:a=this.compileExpression(s,u.auto),a=this.convertExpression(a,this.currentType,u.void,!0,s)}o="undefined"}}return this.currentType=l.type,a?this.module.block(null,[a,this.ensureStaticString(o)],this.options.sizeTypeRef):this.ensureStaticString(o)}ensureSmallIntegerWrap(e,r){let n=this.module,s=this.currentFlow;switch(r.kind){case 0:{s.canOverflow(e,r)&&(e=n.binary(16,e,n.i32(0)));break}case 1:{s.canOverflow(e,r)&&(e=this.options.hasFeature(1)?n.unary(47,e):n.binary(11,n.binary(10,e,n.i32(24)),n.i32(24)));break}case 2:{s.canOverflow(e,r)&&(e=this.options.hasFeature(1)?n.unary(48,e):n.binary(11,n.binary(10,e,n.i32(16)),n.i32(16)));break}case 6:{s.canOverflow(e,r)&&(e=n.binary(7,e,n.i32(255)));break}case 7:{s.canOverflow(e,r)&&(e=n.binary(7,e,n.i32(65535)));break}}return e}addDebugLocation(e,r){let n=this.currentFlow.targetFunction,s=r.source;s.debugInfoIndex<0&&(s.debugInfoIndex=this.module.addDebugInfoFile(s.normalizedPath)),n.debugLocations.set(e,r)}checkSignatureSupported(e,r){let n=!0,s=r.explicitThisType;s&&(this.program.checkTypeSupported(assert(e.thisType),s)||(n=!1));let a=e.parameterTypes,l=r.parameters;for(let o=0,p=a.length;o<p;++o){let c;l.length>o?c=l[o]:c=r,this.program.checkTypeSupported(a[o],c)||(n=!1)}return this.program.checkTypeSupported(e.returnType,r.returnType)||(n=!1),n}evaluateCondition(e){let r=ne(e);if(r==L.Unreachable)return 0;assert(r==L.I32);let s=this.module.runExpression(e,0);return s?ee(s)?1:2:0}makeZero(e){let r=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 3:case 6:case 7:case 8:return r.i32(0);case 5:case 10:if(e.size!=64)return r.i32(0);case 4:case 9:return r.i64(0);case 11:return r.f32(0);case 12:return r.f64(0);case 13:return r.v128(ap);case 15:case 14:case 16:case 17:case 18:case 19:case 21:case 22:case 23:case 24:return e.is(512)?r.ref_null(e.toRef()):(assert(!1),r.unreachable());case 20:return e.is(512)?r.ref_null(e.toRef()):r.i31_new(r.i32(0))}}makeOne(e){let r=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 3:case 6:case 7:case 8:return r.i32(1);case 5:case 10:if(e.size!=64)return r.i32(1);case 4:case 9:return r.i64(1);case 11:return r.f32(1);case 12:return r.f64(1);case 20:return r.i31_new(r.i32(1))}}makeNegOne(e){let r=this.module;switch(e.kind){default:assert(!1);case 1:case 2:case 3:case 6:case 7:case 8:return r.i32(-1);case 5:case 10:if(e.size!=64)return r.i32(-1);case 4:case 9:return r.i64(-1,-1);case 11:return r.f32(-1);case 12:return r.f64(-1);case 13:return r.v128(lp);case 20:return r.i31_new(r.i32(-1))}}makeIsTrueish(e,r,n){let s=this.module;switch(r.kind){case 1:case 2:case 6:case 7:e=this.ensureSmallIntegerWrap(e,r);case 0:case 3:case 8:return e;case 4:case 9:return s.binary(41,e,s.i64(0));case 5:case 10:return r.size==64?s.binary(41,e,s.i64(0)):e;case 11:{let a=this.options;return a.shrinkLevelHint>1&&a.hasFeature(4)?s.unary(20,s.unary(20,s.unary(53,s.unary(10,s.unary(8,e))))):s.binary(20,s.binary(1,s.binary(10,s.unary(33,e),s.i32(1)),s.i32(2)),s.i32(4278190078))}case 12:{let a=this.options;return a.shrinkLevelHint>1&&a.hasFeature(4)?s.unary(20,s.unary(20,s.unary(55,s.unary(11,s.unary(9,e))))):s.binary(45,s.binary(26,s.binary(35,s.unary(34,e),s.i64(1)),s.i64(2)),s.i64(4294967294,4292870143))}case 13:return s.unary(67,e);case 15:case 14:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:return s.unary(20,s.ref_is_null(e));case 25:default:return this.error(1345,n.range,r.toString()),s.i32(0)}}makeToString(e,r,n){let s=this.program.stringInstance.type;if(r==s)return e;let a=r.getClassOrWrapper(this.program);if(a){let l=a.getMethod("toString");if(l){let o=l.signature;if(!this.checkCallSignature(o,0,!0,n))return this.currentType=s,this.module.unreachable();if(!r.isStrictlyAssignableTo(assert(o.thisType)))return this.errorRelated(2685,n.range,l.identifierAndSignatureRange),this.currentType=s,this.module.unreachable();let p=o.returnType;return p.isStrictlyAssignableTo(s)?this.makeCallDirect(l,[e],n):(this.errorRelated(2322,n.range,l.identifierAndSignatureRange,p.toString(),s.toString()),this.currentType=s,this.module.unreachable())}}return this.error(2322,n.range,r.toString(),s.toString()),this.currentType=s,this.module.unreachable()}makeAllocation(e){let r=this.program;assert(e.program==r);let n=this.module,s=this.options;if(this.currentType=e.type,e.hasDecorator(16)){let a=r.allocInstance;return this.compileFunction(a),n.call(a.internalName,[s.isWasm64?n.i64(e.nextMemoryOffset):n.i32(e.nextMemoryOffset)],s.sizeTypeRef)}else{let a=r.newInstance;return this.compileFunction(a),n.call(a.internalName,[s.isWasm64?n.i64(e.nextMemoryOffset):n.i32(e.nextMemoryOffset),n.i32(e.id)],s.sizeTypeRef)}}makeConditionalAllocation(e,r){let n=this.module,a=e.type.toRef();return assert(a==this.options.sizeTypeRef),n.if(n.unary(a==L.I64?21:20,n.local_get(r,a)),n.local_set(r,this.makeAllocation(e),e.type.isManaged))}makeFieldInitializationInConstructor(e,r=[]){let n=e.members;if(!n)return r;let s=this.module,a=this.currentFlow,l=a.isInline,o=l?a.lookupLocal(P.this_).index:0,p=this.options.sizeTypeRef,c=null;for(let _=Map_values(n),f=0,d=_.length;f<d;++f){let g=unchecked(_[f]);if(g.kind!=10)continue;let E=g.instance;if(!E||!E.isField||E.getBoundClassOrInterface()!=e)continue;assert(!E.isAny(8));let x=E.prototype,A=x.parameterIndex;if(A<0){c||(c=new Array),c.push(E);continue}let I=E.type.toRef();assert(!x.initializerNode);let k=assert(E.setterInstance),F=this.makeCallDirect(k,[s.local_get(o,p),s.local_get(l?a.lookupLocal(E.name).index:1+A,I)],k.identifierNode,!0);this.currentType!=u.void&&(F=s.drop(F)),r.push(F)}if(c)for(let _=0,f=c.length;_<f;++_){let d=unchecked(c[_]),g=d.type,E=d.prototype,x=E.initializerNode;assert(E.parameterIndex<0);let A=assert(d.setterInstance),S=this.makeCallDirect(A,[s.local_get(o,p),x?this.compileExpression(x,g,1):this.makeZero(g)],d.identifierNode,!0);this.currentType!=u.void&&(S=s.drop(S)),r.push(S)}return this.currentType=u.void,r}makeAbort(e,r){let n=this.program,s=n.abortInstance;if(!s||!this.compileFunction(s))return this.module.unreachable();let a=n.stringInstance,l;return e?l=this.compileExpression(e,a.type,1):l=this.makeZero(a.type),this.makeStaticAbort(l,r)}makeStaticAbort(e,r){let n=this.program,s=this.module,a=n.abortInstance;if(!a||!this.compileFunction(a))return s.unreachable();let l=this.ensureStaticString(r.range.source.normalizedPath),o=r.range,p=o.source;return s.block(null,[s.call(a.internalName,[e,l,s.i32(p.lineAt(o.start)),s.i32(p.columnAt())],L.None),s.unreachable()])}makeRuntimeNonNullCheck(e,r,n){let s=this.module,a=this.currentFlow,o=a.getTempLocal(r).index;a.canOverflow(e,r)||a.setLocalFlag(o,2),a.setLocalFlag(o,4);let p=this.makeStaticAbort(this.ensureStaticString("Unexpected 'null' (not assigned or failed cast)"),n);if(r.isExternalReference){let c=s.local_get(o,r.toRef());this.options.hasFeature(1024)&&(c=s.ref_as_nonnull(c)),e=s.if(s.ref_is_null(s.local_tee(o,e,!1)),p,c)}else e=s.if(s.local_tee(o,e,r.isManaged),s.local_get(o,r.toRef()),p);return this.currentType=r.nonNullableType,e}makeRuntimeDowncastCheck(e,r,n,s){assert(n.isReference&&n.nonNullableType.isAssignableTo(r));let a=this.module,l=this.currentFlow,p=l.getTempLocal(r).index,c=this.makeStaticAbort(this.ensureStaticString("invalid downcast"),s);return!n.isNullableReference||l.isNonnull(e,r)?e=a.if(a.call(this.prepareInstanceOf(n.classReference),[a.local_tee(p,e,r.isManaged)],L.I32),a.local_get(p,r.toRef()),c):e=a.if(a.unary(20,a.local_tee(p,e,r.isManaged)),a.usize(0),a.if(a.call(this.prepareInstanceOf(n.classReference),[a.local_get(p,r.toRef())],L.I32),a.local_get(p,r.toRef()),c)),this.currentType=n,e}};function dg(t,i){Vr=i.range.source.simplePath,ir=Le(t.name,t.parent,t.is(262144),!0);let e=i.overriddenModuleName;if(e&&(Vr=e),!t.hasDecorator(128))return;let r=t.program,n=assert(At(9,i.decorators)),s=n.args;if(s&&s.length>0){let a=s[0];a.isLiteralKind(2)?(ir=a.value,s.length>=2&&(a=s[1],a.isLiteralKind(2)?(Vr=ir,ir=a.value,s.length>2&&r.error(2554,n.range,"2",s.length.toString())):r.error(1141,a.range))):r.error(1141,a.range)}else r.error(2555,n.range,"1","0")}var Bi=class t extends Ii{constructor(e,r,n=!1){super(e,n);this.sb=[];this.indentLevel=0;this.seenObjectTypes=new Map;this.deferredTypings=new Array;this.esm=r}static build(e,r=!0){return new t(e,r).build()}visitGlobal(e,r){let n=this.sb,s=r.type,a=this.toTypeScriptType(s,1);U(n,this.indentLevel),n.push("/** "),n.push(r.internalName),n.push(` */
`),U(n,this.indentLevel),n.push("export "),this.esm&&n.push("declare "),n.push("const "),n.push(e),n.push(`: {
`),U(n,++this.indentLevel),n.push("/** @type `"),n.push(s.toString()),n.push("` */\n"),U(n,this.indentLevel),n.push("get value(): "),n.push(a),r.is(8)?n.push(`
`):(n.push(`;
`),U(n,this.indentLevel),n.push("set value(value: "),n.push(a),n.push(`);
`)),U(n,--this.indentLevel),n.push(`};
`)}visitEnum(e,r){let n=this.sb;U(n,this.indentLevel),n.push("/** "),n.push(r.internalName),n.push(` */
`),U(n,this.indentLevel++),n.push("export "),this.esm&&n.push("declare "),n.push("enum "),n.push(e),n.push(` {
`);let s=r.members;if(s)for(let a=Map_keys(s),l=0,o=a.length;l<o;++l){let p=unchecked(a[l]);assert(s.get(p)).kind==3&&(U(n,this.indentLevel),n.push("/** @type `i32` */\n"),U(n,this.indentLevel),n.push(p),n.push(`,
`))}U(n,--this.indentLevel),n.push(`}
`)}visitFunction(e,r){let n=this.sb,s=r.signature;U(n,this.indentLevel),n.push(`/**
`),U(n,this.indentLevel),n.push(" * "),n.push(r.internalName),n.push(`
`);let a=s.parameterTypes,l=a.length;for(let c=0;c<l;++c)U(n,this.indentLevel),n.push(" * @param "),n.push(r.getParameterName(c)),n.push(" `"),n.push(a[c].toString()),n.push("`\n");let o=s.returnType;o!=u.void&&(U(n,this.indentLevel),n.push(" * @returns `"),n.push(o.toString()),n.push("`\n")),U(n,this.indentLevel),n.push(` */
`),U(n,this.indentLevel),n.push("export "),this.esm&&n.push("declare "),n.push("function "),n.push(e),n.push("(");let p=s.requiredParameters;for(let c=0;c<l;++c)c&&n.push(", "),n.push(r.getParameterName(c)),c>=p&&n.push("?"),n.push(": "),n.push(this.toTypeScriptType(a[c],0));n.push("): "),n.push(this.toTypeScriptType(o,1)),n.push(`;
`)}visitClass(e,r){}visitInterface(e,r){}visitNamespace(e,r){}visitAlias(e,r,n){}build(){let e=this.sb;this.esm||(e.push(`declare namespace __AdaptedExports {
`),++this.indentLevel),this.program.options.exportMemory&&(U(e,this.indentLevel),e.push(`/** Exported memory */
`),U(e,this.indentLevel),e.push(`export ${this.esm?"declare ":""}const memory: WebAssembly.Memory;
`)),this.program.options.exportTable&&(U(e,this.indentLevel),e.push(`/** Exported table */
`),U(e,this.indentLevel),e.push(`export ${this.esm?"declare ":""}const table: WebAssembly.Table;
`)),this.program.options.exportRuntime&&(U(e,this.indentLevel),e.push(`// Exported runtime interface
`),U(e,this.indentLevel),e.push(`export ${this.esm?"declare ":""}function __new(size: number, id: number): number;
`),U(e,this.indentLevel),e.push(`export ${this.esm?"declare ":""}function __pin(ptr: number): number;
`),U(e,this.indentLevel),e.push(`export ${this.esm?"declare ":""}function __unpin(ptr: number): void;
`),U(e,this.indentLevel),e.push(`export ${this.esm?"declare ":""}function __collect(): void;
`),U(e,this.indentLevel),e.push(`export ${this.esm?"declare ":""}const __rtti_base: number;
`)),this.walk(),this.esm||(--this.indentLevel,e.push(`}
`));let r=this.deferredTypings;for(let n=0,s=r.length;n<s;++n)e.push(r[n]);if(!this.esm){e.push(`/** Instantiates the compiled WebAssembly module with the given imports. */
`),e.push(`export declare function instantiate(module: WebAssembly.Module, imports: {
`);let n=this.program.moduleImports;for(let s=Map_keys(n),a=0,l=s.length;a<l;++a){let o=s[a];e.push("  "),Me(o)?e.push(o):(e.push('"'),e.push(ye(o,34)),e.push('"')),e.push(`: unknown,
`)}e.push(`}): Promise<typeof __AdaptedExports>;
`)}return e.join("")}isPlainObject(e){if(e.base&&!e.prototype.implicitlyExtendsObject)return!1;let r=e.members;if(r)for(let n=Map_values(r),s=0,a=n.length;s<a;++s){let l=n[s];if(l.isAny(1536)||l.is(524288)&&l.declaration.range!=fe.native.range)return!1}return!0}toTypeScriptType(e,r){if(e.isInternalReference){let n=new Array,s=assert(e.getClassOrWrapper(this.program));if(s.extendsPrototype(this.program.arrayBufferInstance.prototype))n.push("ArrayBuffer");else if(s.extendsPrototype(this.program.stringInstance.prototype))n.push("string");else if(s.extendsPrototype(this.program.arrayPrototype)){let a=s.getArrayValueType();n.push("Array<"),n.push(this.toTypeScriptType(a,r)),n.push(">")}else if(s.extendsPrototype(this.program.staticArrayPrototype)){let a=s.getArrayValueType();n.push("ArrayLike<"),n.push(this.toTypeScriptType(a,r)),n.push(">")}else if(s.extendsPrototype(this.program.arrayBufferViewInstance.prototype)){let a=s.getArrayValueType();a==u.i8?n.push("Int8Array"):a==u.u8?s.extendsPrototype(this.program.uint8ClampedArrayPrototype)?n.push("Uint8ClampedArray"):n.push("Uint8Array"):a==u.i16?n.push("Int16Array"):a==u.u16?n.push("Uint16Array"):a==u.i32?n.push("Int32Array"):a==u.u32?n.push("Uint32Array"):a==u.i64?n.push("BigInt64Array"):a==u.u64?n.push("BigUint64Array"):a==u.f32?n.push("Float32Array"):a==u.f64?n.push("Float64Array"):n.push("unknown")}else{let a=this.seenObjectTypes,l;if(a.has(s))l=assert(a.get(s)),n.push(l),this.isPlainObject(s)&&n.push(r==1?"<never>":"<undefined>");else{let o=this.isPlainObject(s);l=`${o?"__Record":"__Internref"}${s.id}`,n.push(l),a.set(s,l),o?(n.push(r==1?"<never>":"<undefined>"),this.deferredTypings.push(this.makeRecordType(s,r))):this.deferredTypings.push(this.makeInternrefType(s))}}return e.is(512)&&n.push(" | null"),n.join("")}else{if(e==u.bool)return"boolean";if(e==u.void)return"void";if(e.isNumericValue)return e.isLongIntegerValue?"bigint":"number"}return"unknown"}makeRecordType(e,r){let n=new Array,s=e.members;if(n.push("/** "),n.push(e.internalName),n.push(` */
declare interface __Record`),n.push(e.id.toString()),n.push(`<TOmittable> {
`),s)for(let a=Map_keys(s),l=0,o=a.length;l<o;++l){let p=a[l],c=assert(s.get(p));if(c.kind!=10)continue;let _=c.instance;!_||!_.isField||(n.push("  /** @type `"),n.push(_.type.toString()),n.push("` */\n  "),n.push(_.name),n.push(": "),n.push(this.toTypeScriptType(_.type,r)),this.fieldAcceptsUndefined(_.type)&&n.push(" | TOmittable"),n.push(`;
`))}return n.push(`}
`),n.join("")}fieldAcceptsUndefined(e){return e.isInternalReference?e.is(512):!0}makeInternrefType(e){let r=new Array;r.push("/** "),r.push(e.internalName),r.push(` */
`),r.push("declare class __Internref"),r.push(e.id.toString()),r.push(` extends Number {
`);let n=e;do r.push("  private __nominal"),r.push(n.id.toString()),r.push(`: symbol;
`),n=n.base;while(n);return r.push(`}
`),r.join("")}};function vI(){return new fs}function II(t,i){t.target=i}function SI(t,i){t.runtime=i}function FI(t,i){t.noAssert=i}function RI(t,i){t.exportMemory=i}function kI(t,i){t.importMemory=i}function wI(t,i){t.initialMemory=i}function CI(t,i){t.maximumMemory=i}function PI(t,i){t.sharedMemory=i}function BI(t,i){t.importTable=i}function LI(t,i){t.exportTable=i}function NI(t,i){t.sourceMap=i}function MI(t,i){t.uncheckedBehavior=i}function GI(t,i){t.memoryBase=i}function zI(t,i){t.tableBase=i}function UI(t,i,e){let r=t.globalAliases;r||(t.globalAliases=r=new Map),r.set(i,e)}function DI(t,i){let e=t.globalAliases;e&&e.delete(i)}function VI(t,i){t.exportStart=i}function OI(t,i){t.noUnsafe=i}function qI(t,i){t.lowMemoryLimit=i}function WI(t,i){t.exportRuntime=i}var KI=32768;function QI(t,i){t.stackSize=i}function HI(t,i,e,r){t.bundleMajorVersion=i,t.bundleMinorVersion=e,t.bundlePatchVersion=r}var jI=1,XI=2,ZI=4,YI=8,$I=16,JI=32,eS=64,tS=128,rS=256,iS=512,nS=1024,sS=2048,aS=4096,lS=8192,oS=16384,uS=32767,pS=Ml;function cS(t,i,e){t.setFeature(i,e)}function _S(t,i,e){t.optimizeLevelHint=i,t.shrinkLevelHint=e}function fS(t,i){t.basenameHint=i}function hS(t,i){t.bindingsHint=i}function dS(t,i){t.pedantic=i}function mS(t,i){t.debugInfo=i}function yS(t){return new Dn(t)}function gS(t){return t.diagnosticsOffset<t.diagnostics.length?t.diagnostics[t.diagnosticsOffset++]:null}function bS(t,i){return t.getSource(i)}function xS(t){return t.code}function TS(t){return t.category}function AS(t){return t.message}function ES(t){return t.range}function vS(t){return t.relatedRange}function IS(t){return t.start}function SS(t){return t.end}function FS(t){return t.source}function RS(t){return t.normalizedPath}function kS(t){return t.category==1}function wS(t){return t.category==2}function CS(t){return t.category==3}function PS(t,i,e,r=!1){t.parser.parseFile(i,e,r)}function BS(t){return t.parser.nextFile()}function LS(t,i){return t.parser.getDependee(i)}function NS(t){t.initialize()}function MS(t){return t.parser.finish(),new hs(t).compile()}function GS(t,i){return Bi.build(t,i)}function zS(t,i){return Fi.build(t,i)}function US(t){return t.ref}function DS(t){return t.validate()}function VS(t,i,e,r=!1,n=!1){t.optimize(i,e,r,n)}var kc=class t{constructor(){this.sb=[];this.indentLevel=0}static build(i){let e=new t;return e.visitNode(i),e.finish()}visitNode(i){switch(i.kind){case 0:{this.visitSource(i);break}case 1:{this.visitNamedTypeNode(i);break}case 2:{this.visitFunctionTypeNode(i);break}case 4:{this.visitTypeParameter(i);break}case 13:case 18:case 23:case 24:case 25:case 26:case 6:{this.visitIdentifierExpression(i);break}case 7:{this.visitAssertionExpression(i);break}case 8:{this.visitBinaryExpression(i);break}case 9:{this.visitCallExpression(i);break}case 10:{this.visitClassExpression(i);break}case 11:{this.visitCommaExpression(i);break}case 12:{this.visitElementAccessExpression(i);break}case 14:{this.visitFunctionExpression(i);break}case 15:{this.visitInstanceOfExpression(i);break}case 16:{this.visitLiteralExpression(i);break}case 17:{this.visitNewExpression(i);break}case 20:{this.visitParenthesizedExpression(i);break}case 21:{this.visitPropertyAccessExpression(i);break}case 22:{this.visitTernaryExpression(i);break}case 27:{this.visitUnaryPostfixExpression(i);break}case 28:{this.visitUnaryPrefixExpression(i);break}case 30:{this.visitBlockStatement(i);break}case 31:{this.visitBreakStatement(i);break}case 32:{this.visitContinueStatement(i);break}case 33:{this.visitDoStatement(i);break}case 34:{this.visitEmptyStatement(i);break}case 35:{this.visitExportStatement(i);break}case 36:{this.visitExportDefaultStatement(i);break}case 37:{this.visitExportImportStatement(i);break}case 38:{this.visitExpressionStatement(i);break}case 39:{this.visitForStatement(i);break}case 40:{this.visitForOfStatement(i);break}case 41:{this.visitIfStatement(i);break}case 42:{this.visitImportStatement(i);break}case 43:{this.visitReturnStatement(i);break}case 44:{this.visitSwitchStatement(i);break}case 45:{this.visitThrowStatement(i);break}case 46:{this.visitTryStatement(i);break}case 47:{this.visitVariableStatement(i);break}case 49:{this.visitWhileStatement(i);break}case 50:{this.visitModuleDeclaration(i);break}case 51:{this.visitClassDeclaration(i);break}case 52:{this.visitEnumDeclaration(i);break}case 53:{this.visitEnumValueDeclaration(i);break}case 54:{this.visitFieldDeclaration(i);break}case 55:{this.visitFunctionDeclaration(i);break}case 56:{this.visitImportDeclaration(i);break}case 57:{this.visitInterfaceDeclaration(i);break}case 58:{this.visitMethodDeclaration(i);break}case 59:{this.visitNamespaceDeclaration(i);break}case 60:{this.visitTypeDeclaration(i);break}case 61:{this.visitVariableDeclaration(i);break}case 62:{this.serializeDecorator(i);break}case 63:{this.visitExportMember(i);break}case 5:{this.serializeParameter(i);break}case 64:{this.visitSwitchCase(i);break}case 65:{this.visitIndexSignature(i);break}default:assert(!1)}}visitSource(i){let e=i.statements;for(let r=0,n=e.length;r<n;++r)this.visitNodeAndTerminate(e[r])}visitTypeNode(i){switch(i.kind){case 1:{this.visitNamedTypeNode(i);break}case 2:{this.visitFunctionTypeNode(i);break}default:assert(!1)}}visitTypeName(i){this.visitIdentifierExpression(i.identifier);let e=this.sb,r=i.next;for(;r;)e.push("."),this.visitIdentifierExpression(r.identifier),r=r.next}visitNamedTypeNode(i){this.visitTypeName(i.name);let e=i.typeArguments;if(e){let r=e.length,n=this.sb;if(r){n.push("<"),this.visitTypeNode(e[0]);for(let s=1;s<r;++s)n.push(", "),this.visitTypeNode(e[s]);n.push(">")}i.isNullable&&n.push(" | null")}}visitFunctionTypeNode(i){let e=i.isNullable,r=this.sb;r.push(e?"((":"(");let n=i.explicitThisType;n&&(r.push("this: "),this.visitTypeNode(n));let s=i.parameters,a=s.length;if(a){n&&r.push(", "),this.serializeParameter(s[0]);for(let o=1;o<a;++o)r.push(", "),this.serializeParameter(s[o])}let l=i.returnType;l?(r.push(") => "),this.visitTypeNode(l)):r.push(") => void"),e&&r.push(") | null")}visitTypeParameter(i){this.visitIdentifierExpression(i.name);let e=i.extendsType;e&&(this.sb.push(" extends "),this.visitTypeNode(e));let r=i.defaultType;r&&(this.sb.push("="),this.visitTypeNode(r))}visitIdentifierExpression(i){i.isQuoted?this.visitStringLiteral(i.text):this.sb.push(i.text)}visitArrayLiteralExpression(i){let e=this.sb;e.push("[");let r=i.elementExpressions,n=r.length;if(n){let s=r[0];s&&this.visitNode(s);for(let a=1;a<n;++a)s=r[a],e.push(", "),s&&this.visitNode(s)}e.push("]")}visitObjectLiteralExpression(i){let e=this.sb,r=i.names,n=i.values,s=r.length;if(assert(s==n.length),s){e.push(`{
`),U(e,++this.indentLevel),this.visitNode(r[0]),e.push(": "),this.visitNode(n[0]);for(let a=1;a<s;++a){e.push(`,
`),U(e,this.indentLevel);let l=r[a],o=n[a];l==o?this.visitNode(l):(this.visitNode(l),e.push(": "),this.visitNode(o))}e.push(`
`),U(e,--this.indentLevel),e.push("}")}else e.push("{}")}visitAssertionExpression(i){let e=this.sb;switch(i.assertionKind){case 0:{e.push("<"),this.visitTypeNode(assert(i.toType)),e.push(">"),this.visitNode(i.expression);break}case 1:{this.visitNode(i.expression),e.push(" as "),this.visitTypeNode(assert(i.toType));break}case 2:{this.visitNode(i.expression),e.push("!");break}case 3:{this.visitNode(i.expression),e.push(" as const");break}default:assert(!1)}}visitBinaryExpression(i){let e=this.sb;this.visitNode(i.left),e.push(" "),e.push(Te(i.operator)),e.push(" "),this.visitNode(i.right)}visitCallExpression(i){this.visitNode(i.expression),this.visitArguments(i.typeArguments,i.args)}visitArguments(i,e){let r=this.sb;if(i){let s=i.length;if(s){r.push("<"),this.visitTypeNode(i[0]);for(let a=1;a<s;++a)r.push(", "),this.visitTypeNode(i[a]);r.push(">(")}}else r.push("(");let n=e.length;if(n){this.visitNode(e[0]);for(let s=1;s<n;++s)r.push(", "),this.visitNode(e[s])}r.push(")")}visitClassExpression(i){let e=i.declaration;this.visitClassDeclaration(e)}visitCommaExpression(i){let e=i.expressions,r=assert(e.length);this.visitNode(e[0]);let n=this.sb;for(let s=1;s<r;++s)n.push(","),this.visitNode(e[s])}visitElementAccessExpression(i){let e=this.sb;this.visitNode(i.expression),e.push("["),this.visitNode(i.elementExpression),e.push("]")}visitFunctionExpression(i){let e=i.declaration;e.arrowKind?assert(e.name.text.length==0):e.name.text.length?this.sb.push("function "):this.sb.push("function"),this.visitFunctionCommon(e)}visitLiteralExpression(i){switch(i.literalKind){case 0:{this.visitFloatLiteralExpression(i);break}case 1:{this.visitIntegerLiteralExpression(i);break}case 2:{this.visitStringLiteralExpression(i);break}case 3:{this.visitTemplateLiteralExpression(i);break}case 4:{this.visitRegexpLiteralExpression(i);break}case 5:{this.visitArrayLiteralExpression(i);break}case 6:{this.visitObjectLiteralExpression(i);break}default:{assert(!1);break}}}visitFloatLiteralExpression(i){this.sb.push(i.value.toString())}visitInstanceOfExpression(i){this.visitNode(i.expression),this.sb.push(" instanceof "),this.visitTypeNode(i.isType)}visitIntegerLiteralExpression(i){let e=i.range,r=e.source.text.startsWith("-",e.start);this.sb.push(i64_to_string(i.value,!r))}visitStringLiteral(i){let e=this.sb;e.push('"'),e.push(ye(i,34)),e.push('"')}visitStringLiteralExpression(i){this.visitStringLiteral(i.value)}visitTemplateLiteralExpression(i){let e=this.sb,r=i.tag,n=i.parts,s=i.expressions;r&&this.visitNode(r),e.push("`"),e.push(ye(n[0],96)),assert(n.length==s.length+1);for(let a=0,l=s.length;a<l;++a)e.push("${"),this.visitNode(s[a]),e.push("}"),e.push(ye(n[a+1],96));e.push("`")}visitRegexpLiteralExpression(i){let e=this.sb;e.push("/"),e.push(i.pattern),e.push("/"),e.push(i.patternFlags)}visitNewExpression(i){this.sb.push("new "),this.visitTypeName(i.typeName),this.visitArguments(i.typeArguments,i.args)}visitParenthesizedExpression(i){let e=this.sb;e.push("("),this.visitNode(i.expression),e.push(")")}visitPropertyAccessExpression(i){this.visitNode(i.expression),this.sb.push("."),this.visitIdentifierExpression(i.property)}visitTernaryExpression(i){let e=this.sb;this.visitNode(i.condition),e.push(" ? "),this.visitNode(i.ifThen),e.push(" : "),this.visitNode(i.ifElse)}visitUnaryExpression(i){switch(i.kind){case 27:{this.visitUnaryPostfixExpression(i);break}case 28:{this.visitUnaryPrefixExpression(i);break}default:assert(!1)}}visitUnaryPostfixExpression(i){this.visitNode(i.operand),this.sb.push(Te(i.operator))}visitUnaryPrefixExpression(i){this.sb.push(Te(i.operator)),this.visitNode(i.operand)}visitNodeAndTerminate(i){this.visitNode(i);let e=this.sb;if(!e.length||i.kind==47||i.kind==38)e.push(`;
`);else{let r=e[e.length-1],n=r.length-1;n>=0&&(r.charCodeAt(n)==125||r.charCodeAt(n)==59)?e.push(`
`):e.push(`;
`)}}visitBlockStatement(i){let e=this.sb,r=i.statements,n=r.length;if(n){e.push(`{
`);let s=++this.indentLevel;for(let a=0;a<n;++a)U(e,s),this.visitNodeAndTerminate(r[a]);U(e,--this.indentLevel),e.push("}")}else e.push("{}")}visitBreakStatement(i){let e=i.label;e?(this.sb.push("break "),this.visitIdentifierExpression(e)):this.sb.push("break")}visitContinueStatement(i){let e=i.label;e?(this.sb.push("continue "),this.visitIdentifierExpression(e)):this.sb.push("continue")}visitClassDeclaration(i,e=!1){let r=i.decorators;if(r)for(let _=0,f=r.length;_<f;++_)this.serializeDecorator(r[_]);let n=this.sb;e?n.push("export default "):this.serializeExternalModifiers(i),i.is(128)&&n.push("abstract "),i.name.text.length?(n.push("class "),this.visitIdentifierExpression(i.name)):n.push("class");let s=i.typeParameters;if(s!=null&&s.length>0){n.push("<"),this.visitTypeParameter(s[0]);for(let _=1,f=s.length;_<f;++_)n.push(", "),this.visitTypeParameter(s[_]);n.push(">")}let a=i.extendsType;a&&(n.push(" extends "),this.visitTypeNode(a));let l=i.implementsTypes;if(l){let _=l.length;if(_){n.push(" implements "),this.visitTypeNode(l[0]);for(let f=1;f<_;++f)n.push(", "),this.visitTypeNode(l[f])}}let o=i.indexSignature,p=i.members,c=p.length;if(o||c){n.push(` {
`);let _=++this.indentLevel;o&&(U(n,_),this.visitNodeAndTerminate(o));for(let f=0,d=p.length;f<d;++f){let g=p[f];(g.kind!=54||g.parameterIndex<0)&&(U(n,_),this.visitNodeAndTerminate(g))}U(n,--this.indentLevel),n.push("}")}else n.push(" {}")}visitDoStatement(i){let e=this.sb;e.push("do "),this.visitNode(i.body),i.body.kind==30?e.push(" while ("):(e.push(`;
`),U(e,this.indentLevel),e.push("while (")),this.visitNode(i.condition),e.push(")")}visitEmptyStatement(i){}visitEnumDeclaration(i,e=!1){let r=this.sb;e?r.push("export default "):this.serializeExternalModifiers(i),i.is(8)&&r.push("const "),r.push("enum "),this.visitIdentifierExpression(i.name);let s=i.values.length;if(s){r.push(` {
`);let a=++this.indentLevel;U(r,a),this.visitEnumValueDeclaration(i.values[0]);for(let l=1;l<s;++l)r.push(`,
`),U(r,a),this.visitEnumValueDeclaration(i.values[l]);r.push(`
`),U(r,--this.indentLevel),r.push("}")}else r.push(" {}")}visitEnumValueDeclaration(i){this.visitIdentifierExpression(i.name);let e=i.initializer;e&&(this.sb.push(" = "),this.visitNode(e))}visitExportImportStatement(i){let e=this.sb;e.push("export import "),this.visitIdentifierExpression(i.externalName),e.push(" = "),this.visitIdentifierExpression(i.name)}visitExportMember(i){this.visitIdentifierExpression(i.localName),i.exportedName.text!=i.localName.text&&(this.sb.push(" as "),this.visitIdentifierExpression(i.exportedName))}visitExportStatement(i){let e=this.sb;i.isDeclare&&e.push("declare ");let r=i.members;if(r==null)e.push("export *");else if(r.length>0){let s=r.length;e.push(`export {
`);let a=++this.indentLevel;U(e,a),this.visitExportMember(r[0]);for(let l=1;l<s;++l)e.push(`,
`),U(e,a),this.visitExportMember(r[l]);--this.indentLevel,e.push(`
}`)}else e.push("export {}");let n=i.path;n&&(e.push(" from "),this.visitStringLiteralExpression(n)),e.push(";")}visitExportDefaultStatement(i){let e=i.declaration;switch(e.kind){case 52:{this.visitEnumDeclaration(e,!0);break}case 55:{this.visitFunctionDeclaration(e,!0);break}case 51:{this.visitClassDeclaration(e,!0);break}case 57:{this.visitInterfaceDeclaration(e,!0);break}case 59:{this.visitNamespaceDeclaration(e,!0);break}default:assert(!1)}}visitExpressionStatement(i){this.visitNode(i.expression)}visitFieldDeclaration(i){let e=i.decorators;if(e)for(let a=0,l=e.length;a<l;++a)this.serializeDecorator(e[a]);this.serializeAccessModifiers(i),this.visitIdentifierExpression(i.name);let r=this.sb;i.flags&16384&&r.push("!");let n=i.type;n&&(r.push(": "),this.visitTypeNode(n));let s=i.initializer;s&&(r.push(" = "),this.visitNode(s))}visitForStatement(i){let e=this.sb;e.push("for (");let r=i.initializer;r&&this.visitNode(r);let n=i.condition;n?(e.push("; "),this.visitNode(n)):e.push(";");let s=i.incrementor;s?(e.push("; "),this.visitNode(s)):e.push(";"),e.push(") "),this.visitNode(i.body)}visitForOfStatement(i){let e=this.sb;e.push("for ("),this.visitNode(i.variable),e.push(" of "),this.visitNode(i.iterable),e.push(") "),this.visitNode(i.body)}visitFunctionDeclaration(i,e=!1){let r=this.sb,n=i.decorators;if(n)for(let s=0,a=n.length;s<a;++s)this.serializeDecorator(n[s]);e?r.push("export default "):(this.serializeExternalModifiers(i),this.serializeAccessModifiers(i)),i.name.text.length?r.push("function "):r.push("function"),this.visitFunctionCommon(i)}visitFunctionCommon(i){let e=this.sb;this.visitIdentifierExpression(i.name);let r=i.signature,n=i.typeParameters;if(n){let l=n.length;if(l){e.push("<"),this.visitTypeParameter(n[0]);for(let o=1;o<l;++o)e.push(", "),this.visitTypeParameter(n[o]);e.push(">")}}if(i.arrowKind==2){let l=r.parameters;assert(l.length==1),assert(!r.explicitThisType),this.serializeParameter(l[0])}else{e.push("(");let l=r.parameters,o=l.length,p=r.explicitThisType;if(p&&(e.push("this: "),this.visitTypeNode(p)),o){p&&e.push(", "),this.serializeParameter(l[0]);for(let c=1;c<o;++c)e.push(", "),this.serializeParameter(l[c])}}let s=i.body,a=r.returnType;i.arrowKind?s?(i.arrowKind==2?assert(Ie(a)):Ie(a)?e.push(")"):(e.push("): "),this.visitTypeNode(a)),e.push(" => "),this.visitNode(s)):(assert(!Ie(a)),e.push(" => "),this.visitTypeNode(a)):(!Ie(a)&&!i.isAny(528384)?(e.push("): "),this.visitTypeNode(a)):e.push(")"),s&&(e.push(" "),this.visitNode(s)))}visitIfStatement(i){let e=this.sb;e.push("if ("),this.visitNode(i.condition),e.push(") ");let r=i.ifTrue;this.visitNode(r),r.kind!=30&&e.push(`;
`);let n=i.ifFalse;n&&(r.kind==30?e.push(" else "):e.push("else "),this.visitNode(n))}visitImportDeclaration(i){let e=i.foreignName,r=i.name;this.visitIdentifierExpression(e),e.text!=r.text&&(this.sb.push(" as "),this.visitIdentifierExpression(r))}visitImportStatement(i){let e=this.sb;e.push("import ");let r=i.declarations,n=i.namespaceName;if(r){let s=r.length;if(s){e.push(`{
`);let a=++this.indentLevel;U(e,a),this.visitImportDeclaration(r[0]);for(let l=1;l<s;++l)e.push(`,
`),U(e,a),this.visitImportDeclaration(r[l]);--this.indentLevel,e.push(`
} from `)}else e.push("{} from ")}else n&&(e.push("* as "),this.visitIdentifierExpression(n),e.push(" from "));this.visitStringLiteralExpression(i.path)}visitIndexSignature(i){let e=this.sb;e.push("[key: "),this.visitTypeNode(i.keyType),e.push("]: "),this.visitTypeNode(i.valueType)}visitInterfaceDeclaration(i,e=!1){let r=i.decorators;if(r)for(let p=0,c=r.length;p<c;++p)this.serializeDecorator(r[p]);let n=this.sb;e?n.push("export default "):this.serializeExternalModifiers(i),n.push("interface "),this.visitIdentifierExpression(i.name);let s=i.typeParameters;if(s!=null&&s.length>0){n.push("<"),this.visitTypeParameter(s[0]);for(let p=1,c=s.length;p<c;++p)n.push(", "),this.visitTypeParameter(s[p]);n.push(">")}let a=i.extendsType;a&&(n.push(" extends "),this.visitTypeNode(a)),n.push(` {
`);let l=++this.indentLevel,o=i.members;for(let p=0,c=o.length;p<c;++p)U(n,l),this.visitNodeAndTerminate(o[p]);--this.indentLevel,n.push("}")}visitMethodDeclaration(i){let e=i.decorators;if(e)for(let r=0,n=e.length;r<n;++r)this.serializeDecorator(e[r]);this.serializeAccessModifiers(i),i.is(2048)?this.sb.push("get "):i.is(4096)&&this.sb.push("set "),this.visitFunctionCommon(i)}visitNamespaceDeclaration(i,e=!1){let r=i.decorators;if(r)for(let l=0,o=r.length;l<o;++l)this.serializeDecorator(r[l]);let n=this.sb;e?n.push("export default "):this.serializeExternalModifiers(i),n.push("namespace "),this.visitIdentifierExpression(i.name);let s=i.members;if(s.length){n.push(` {
`);let l=++this.indentLevel;for(let o=0,p=s.length;o<p;++o)U(n,l),this.visitNodeAndTerminate(s[o]);U(n,--this.indentLevel),n.push("}")}else n.push(" {}")}visitReturnStatement(i){let e=i.value;e?(this.sb.push("return "),this.visitNode(e)):this.sb.push("return")}visitSwitchCase(i){let e=this.sb,r=i.label;r?(e.push("case "),this.visitNode(r),e.push(`:
`)):e.push(`default:
`);let n=i.statements,s=n.length;if(s){let a=++this.indentLevel;U(e,a),this.visitNodeAndTerminate(n[0]);for(let l=1;l<s;++l)U(e,a),this.visitNodeAndTerminate(n[l]);--this.indentLevel}}visitSwitchStatement(i){let e=this.sb;e.push("switch ("),this.visitNode(i.condition),e.push(`) {
`);let r=++this.indentLevel,n=i.cases;for(let s=0,a=n.length;s<a;++s)U(e,r),this.visitSwitchCase(n[s]),e.push(`
`);--this.indentLevel,e.push("}")}visitThrowStatement(i){this.sb.push("throw "),this.visitNode(i.value)}visitTryStatement(i){let e=this.sb;e.push(`try {
`);let r=++this.indentLevel,n=i.bodyStatements;for(let l=0,o=n.length;l<o;++l)U(e,r),this.visitNodeAndTerminate(n[l]);let s=i.catchVariable;if(s){U(e,r-1),e.push("} catch ("),this.visitIdentifierExpression(s),e.push(`) {
`);let l=i.catchStatements;if(l)for(let o=0,p=l.length;o<p;++o)U(e,r),this.visitNodeAndTerminate(l[o])}let a=i.finallyStatements;if(a){U(e,r-1),e.push(`} finally {
`);for(let l=0,o=a.length;l<o;++l)U(e,r),this.visitNodeAndTerminate(a[l])}U(e,r-1),e.push("}")}visitTypeDeclaration(i){let e=i.decorators;if(e)for(let s=0,a=e.length;s<a;++s)this.serializeDecorator(e[s]);let r=this.sb;this.serializeExternalModifiers(i),r.push("type "),this.visitIdentifierExpression(i.name);let n=i.typeParameters;if(n){let s=n.length;if(s){r.push("<");for(let a=0;a<s;++a)this.visitTypeParameter(n[a]);r.push(">")}}r.push(" = "),this.visitTypeNode(i.type)}visitModuleDeclaration(i){let e=this.sb;i.flags&4&&e.push("declare "),e.push('module "'),e.push(ye(i.moduleName,34)),e.push('"')}visitVariableDeclaration(i){this.visitIdentifierExpression(i.name);let e=i.type,r=this.sb;i.flags&16384&&r.push("!"),e&&(r.push(": "),this.visitTypeNode(e));let n=i.initializer;n&&(r.push(" = "),this.visitNode(n))}visitVariableStatement(i){let e=i.decorators;if(e)for(let l=0,o=e.length;l<o;++l)this.serializeDecorator(e[l]);let r=this.sb,n=i.declarations,s=assert(n.length),a=n[0];this.serializeExternalModifiers(a),r.push(a.is(8)?"const ":a.is(16)?"let ":"var "),this.visitVariableDeclaration(i.declarations[0]);for(let l=1;l<s;++l)r.push(", "),this.visitVariableDeclaration(i.declarations[l])}visitWhileStatement(i){let e=this.sb;e.push("while ("),this.visitNode(i.condition);let r=i.body;r.isEmpty?e.push(")"):(e.push(") "),this.visitNode(r))}serializeDecorator(i){let e=this.sb;e.push("@"),this.visitNode(i.name);let r=i.args;if(r){e.push("(");let n=r.length;if(n){this.visitNode(r[0]);for(let s=1;s<n;++s)e.push(", "),this.visitNode(r[s])}e.push(`)
`)}else e.push(`
`);U(e,this.indentLevel)}serializeParameter(i){let e=this.sb,r=i.parameterKind,n=i.implicitFieldDeclaration;n&&this.serializeAccessModifiers(n),r==2&&e.push("..."),this.visitIdentifierExpression(i.name);let s=i.type,a=i.initializer;s&&(r==1&&!a&&e.push("?"),Ie(s)||(e.push(": "),this.visitTypeNode(s))),a&&(e.push(" = "),this.visitNode(a))}serializeExternalModifiers(i){let e=this.sb;i.is(2)?e.push("export "):i.is(1)?e.push("import "):i.is(4)&&e.push("declare ")}serializeAccessModifiers(i){let e=this.sb;i.is(4)&&e.push("declare "),i.is(256)?e.push("public "):i.is(512)?e.push("private "):i.is(1024)&&e.push("protected "),i.is(32)?e.push("static "):i.is(128)&&e.push("abstract "),i.is(64)&&e.push("readonly ")}finish(){let i=this.sb.join("");return this.sb=[],i}};var pK=wc;export{kc as ASTBuilder,mr as ArrayLiteralExpression,_i as ArrowKind,ia as AssertionExpression,pi as AssertionKind,gp as AtomicRMWOp,na as BinaryExpression,cl as BinaryModule,di as BinaryOp,Pa as BlockStatement,Ny as BrOnOp,Ba as BreakStatement,sa as CallExpression,Kt as Class,dn as ClassDeclaration,aa as ClassExpression,Kn as ClassPrototype,la as CommaExpression,pp as CommentKind,ra as CommentNode,Ve as CommonFlags,P as CommonNames,wa as CompiledExpression,hs as Compiler,Np as ConditionKind,Up as ConstantValueKind,vc as Constraints,oa as ConstructorExpression,La as ContinueStatement,KI as DEFAULT_STACK_SIZE,We as DeclarationStatement,Qt as DeclaredElement,Ht as DecoratorFlags,Tt as DecoratorKind,ta as DecoratorNode,Js as DiagnosticCategory,st as DiagnosticCode,Oe as DiagnosticEmitter,$s as DiagnosticMessage,Na as DoStatement,Vn as Element,ua as ElementAccessExpression,ut as ElementKind,Ma as EmptyStatement,Rl as Enum,Ga as EnumDeclaration,kl as EnumValue,za as EnumValueDeclaration,Oa as ExportDefaultStatement,Ua as ExportImportStatement,Da as ExportMember,_s as ExportNames,Va as ExportStatement,de as Expression,br as ExpressionId,_l as ExpressionRunnerFlags,qa as ExpressionStatement,yp as ExternalKind,uS as FEATURES_ALL,pS as FEATURES_DEFAULT,YI as FEATURE_BULK_MEMORY,eS as FEATURE_EXCEPTION_HANDLING,lS as FEATURE_EXTENDED_CONST,nS as FEATURE_GC,sS as FEATURE_MEMORY64,iS as FEATURE_MULTI_VALUE,XI as FEATURE_MUTABLE_GLOBALS,ZI as FEATURE_NONTRAPPING_F2I,rS as FEATURE_REFERENCE_TYPES,aS as FEATURE_RELAXED_SIMD,jI as FEATURE_SIGN_EXTENSION,$I as FEATURE_SIMD,oS as FEATURE_STRINGREF,tS as FEATURE_TAIL_CALLS,JI as FEATURE_THREADS,Fa as FalseExpression,Ut as Feature,mp as FeatureFlags,Wa as FieldDeclaration,Lp as FieldFlags,qn as File,pa as FloatLiteralExpression,vt as Flow,xl as FlowFlags,Qa as ForOfStatement,Ka as ForStatement,ct as Function,mn as FunctionDeclaration,ca as FunctionExpression,He as FunctionPrototype,dr as FunctionTypeNode,Ds as GETTER_PREFIX,Tr as Global,ue as HeapTypeRef,Ne as INDEX_SUFFIX,Xu as INNER_DELIMITER,ju as INSTANCE_DELIMITER,qe as IdentifierExpression,_p as IdentifierHandling,Ha as IfStatement,ja as ImportDeclaration,Pi as ImportNames,yn as ImportStatement,Mn as IndexSignature,Ca as IndexSignatureNode,_a as InstanceOfExpression,fa as IntegerLiteralExpression,Gn as Interface,Xa as InterfaceDeclaration,wl as InterfacePrototype,Fi as JSBuilder,nt as LIBRARY_PREFIX,Os as LIBRARY_SUBST,at as LiteralExpression,Vt as LiteralKind,Ue as Local,Bn as LocalFlags,hi as MemorySegment,yr as MethodDeclaration,qt as Module,rl as ModuleDeclaration,hr as NamedTypeNode,Wn as Namespace,Za as NamespaceDeclaration,ha as NewExpression,N as Node,xt as NodeKind,da as NullExpression,ma as ObjectLiteralExpression,ya as OmittedExpression,Fe as OperatorKind,fs as Options,yx as PARENT_SUBST,Ye as PATH_DELIMITER,Tn as PackedType,zp as Parameter,gr as ParameterKind,oi as ParameterNode,ga as ParenthesizedExpression,Un as Parser,Ky as Precedence,Dn as Program,Nn as Property,ba as PropertyAccessExpression,xi as PropertyPrototype,ae as Range,Ly as RefAsOp,xa as RegexpLiteralExpression,pl as Relooper,vl as ReportMode,Ln as Resolver,Ya as ReturnStatement,zs as Runtime,Ic as RuntimeFeatures,Vs as SETTER_PREFIX,bp as SIMDExtractOp,Ap as SIMDLoadOp,Ep as SIMDLoadStoreLaneOp,xp as SIMDReplaceOp,Tp as SIMDShiftOp,vp as SIMDTernaryOp,ln as STATIC_DELIMITER,Zu as STUB_DELIMITER,Bp as SideEffects,De as Signature,fe as Source,ci as SourceKind,ol as State,oe as Statement,Dy as StringAsOp,zy as StringEncodeOp,Uy as StringEqOp,Vy as StringIterMoveOp,Aa as StringLiteralExpression,Gy as StringMeasureOp,My as StringNewOp,Oy as StringSliceWTFOp,Ea as SuperExpression,An as SwitchBuilder,$a as SwitchCase,Ja as SwitchStatement,Bi as TSDBuilder,$r as Target,va as TemplateLiteralExpression,Ta as TernaryExpression,Ia as ThisExpression,el as ThrowStatement,fi as Token,bn as Tokenizer,Sa as TrueExpression,tl as TryStatement,u as Type,dp as TypeBuilderErrorReason,il as TypeDeclaration,Xe as TypeDefinition,pt as TypeFlags,Wt as TypeKind,li as TypeName,fn as TypeNode,ea as TypeParameterNode,L as TypeRef,St as TypedElement,Jr as Typeinfo,Us as TypeinfoFlags,hn as UnaryExpression,En as UnaryOp,Ra as UnaryPostfixExpression,ka as UnaryPrefixExpression,Tl as UncheckedBehavior,nl as VariableDeclaration,ui as VariableLikeDeclarationStatement,Ar as VariableLikeElement,sl as VariableStatement,al as VoidStatement,ll as WhileStatement,UI as addGlobalAlias,_e as allocPtrArray,zS as buildJS,GS as buildTSD,MS as compile,Ke as createType,pK as default,Ml as defaultFeatures,wy as diagnosticCategoryToColor,up as diagnosticCategoryToString,qs as diagnosticCodeToString,Pn as ensureType,Ip as expandType,Yr as featureToString,At as findDecorator,Cy as formatDiagnostic,Cy as formatDiagnosticMessage,Qe as getBinaryLeft,mi as getBinaryOp,Be as getBinaryRight,US as getBinaryenModuleRef,kn as getBlockChildAt,Rn as getBlockChildCount,Fn as getBlockName,$x as getBreakCondition,Yx as getBreakName,ze as getCallOperandAt,ot as getCallOperandCount,Cn as getCallTarget,ge as getConstValueF32,be as getConstValueF64,ee as getConstValueI32,Pe as getConstValueI64High,Ae as getConstValueI64Low,Sp as getConstValueV128,Xy as getDefaultParameterName,LS as getDependee,TS as getDiagnosticCategory,xS as getDiagnosticCode,AS as getDiagnosticMessage,ES as getDiagnosticRange,vS as getDiagnosticRelatedRange,e2 as getDropValue,$ as getExpressionId,ne as getExpressionType,i2 as getFunctionBody,Cp as getFunctionName,n2 as getFunctionParams,s2 as getFunctionResults,a2 as getFunctionVars,In as getGlobalGetName,u2 as getGlobalInit,l2 as getGlobalName,o2 as getGlobalType,yl as getIfCondition,yi as getIfFalse,wn as getIfTrue,Fp as getLoadBytes,qx as getLoadOffset,Wx as getLoadPtr,lt as getLocalGetIndex,dl as getLocalSetIndex,xr as getLocalSetValue,Zx as getLoopBody,Xx as getLoopName,r2 as getMemoryGrowDelta,SS as getRangeEnd,FS as getRangeSource,IS as getRangeStart,t2 as getReturnValue,Jx as getSelectCondition,wp as getSelectElse,kp as getSelectThen,gi as getSideEffects,bS as getSource,RS as getSourceNormalizedPath,Kx as getStoreBytes,Qx as getStoreOffset,Hx as getStorePtr,jx as getStoreValue,p2 as getTagName,c2 as getTagParams,_2 as getTagResults,Sn as getUnaryOp,ml as getUnaryValue,NS as initializeProgram,hl as isConstExpressionNaN,Ox as isConstNaN,fl as isConstNegZero,et as isConstNonZero,Se as isConstZero,On as isDeclaredElement,CS as isError,Pp as isGlobalMutable,fp as isIllegalVariableIdentifier,kS as isInfo,Rp as isLoadSigned,vn as isLocalTee,qy as isNullableType,Ie as isTypeOmitted,Al as isTypedElement,wS as isWarning,Le as mangleInternalName,gn as mangleInternalPath,gl as mustPreserveSideEffects,vI as newOptions,yS as newProgram,gS as nextDiagnostic,BS as nextFile,Te as operatorTokenToString,VS as optimize,PS as parse,Ge as readString,DI as removeGlobalAlias,Ri as runtimeFunctions,ki as runtimeGlobals,fS as setBasenameHint,hS as setBindingsHint,HI as setBundleVersion,mS as setDebugInfo,RI as setExportMemory,WI as setExportRuntime,VI as setExportStart,LI as setExportTable,cS as setFeature,kI as setImportMemory,BI as setImportTable,wI as setInitialMemory,qI as setLowMemoryLimit,CI as setMaximumMemory,GI as setMemoryBase,FI as setNoAssert,OI as setNoUnsafe,_S as setOptimizeLevelHints,dS as setPedantic,SI as setRuntime,PI as setSharedMemory,NI as setSourceMap,QI as setStackSize,zI as setTableBase,II as setTarget,MI as setUncheckedBehavior,Py as tokenFromKeyword,By as tokenIsAlsoIdentifier,Er as typesToRefs,El as typesToString,op as util,DS as validate};
//# sourceMappingURL=assemblyscript.js.map
